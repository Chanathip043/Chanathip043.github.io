<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
        integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc"
        crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>06-js-basic-form</title>

    <script>
        let array_fname = []
        let array_Phone = []
        let array_email = []



        if (localStorage.getItem('fname') != null && localStorage.getItem('Phone') != null && localStorage.getItem('email')!= null) {
        array_fname = JSON.parse(localStorage.getItem('fname'))
        array_Phone = JSON.parse(localStorage.getItem('Phone'))
        array_email = JSON.parse(localStorage.getItem('email'))
        }

        function click_submit() {

            if (document.getElementById('fname').value != '' 
                && document.getElementById('Phone').value != '' 
                && document.getElementById('email').value != '') {

                // document.getElementById('output_fname').innerHTML = document.getElementById('fname').value
                // document.getElementById('output_Phone').innerHTML = document.getElementById('Phone').value
                // document.getElementById('output_email').innerHTML = document.getElementById('email').value

                array_fname.push(document.getElementById('fname').value)
                array_Phone.push(document.getElementById('Phone').value)
                array_email.push(document.getElementById('email').value)

                localStorage.setItem('fname',JSON.stringify(array_fname))
                localStorage.setItem('Phone',JSON.stringify(array_Phone))
                localStorage.setItem('email',JSON.stringify(array_email))


                document.getElementById('fname').value = ''
                document.getElementById('Phone').value = ''
                document.getElementById('email').value = ''

                document.getElementById('noti_fname').innerHTML = ''
                document.getElementById('noti_Phone').innerHTML = ''
                document.getElementById('noti_email').innerHTML = ''

            } else{
                window.alert('ใส่ข้อมูลให้ครบไม่งั้นจะใส่หน้าคูณ')
                // document.getElementById('noti_fname').innerHTML = ''
                // document.getElementById('noti_Phone').innerHTML = ''
                // document.getElementById('noti_email').innerHTML = ''
            }

            // if (document.getElementById('fname').value == '') {

            //     document.getElementById('noti_fname').innerHTML = 'This full name is invalid'

            // }

            // if (document.getElementById('Phone').value == '') {

            //     document.getElementById('noti_Phone').innerHTML = 'This phone number is invalid'

            // }

            // if (document.getElementById('email').value == '') {

            //     document.getElementById('noti_email').innerHTML = 'This email is invalid'
            // }


            // if (document.getElementById('fname').value != '') {
            //     document.getElementById('output_fname').innerHTML = document.getElementById('fname').value
            // document.getElementById('noti_fname').innerHTML = ''
            // }else{
            //     document.getElementById('noti_fname').innerHTML = "This full name is invalid"
            // }



            // if (document.getElementById('Phone').value != '') {
            //     document.getElementById('output_Phone').innerHTML = document.getElementById('Phone').value
            // document.getElementById('noti_Phone').innerHTML = ''
            // }else{
            //     document.getElementById('noti_Phone').innerHTML = "This Phone number is invalid"
            // }


            // if (document.getElementById('email').value != '') {
            //     document.getElementById('output_email').innerHTML = document.getElementById('email').value
            // document.getElementById('noti_email').innerHTML = ''
            // }else{
            //     document.getElementById('noti_email').innerHTML = "This email is invalid"
            // }
        }


        function click_Cancel() {
                document.getElementById('output_fname').innerHTML = ''
                document.getElementById('output_Phone').innerHTML = ''
                document.getElementById('output_email').innerHTML = ''

                document.getElementById('fname').value = ''
                document.getElementById('Phone').value = ''
                document.getElementById('email').value = ''

                document.getElementById('noti_fname').value = ''
                document.getElementById('noti_Phone').value = ''
                document.getElementById('noti_email').value = ''
        }




        function focusout_fname() {
            if (document.getElementById('fname').value != '') {
                document.getElementById('noti_fname').innerHTML = ''
            } else {
                document.getElementById('noti_fname').innerHTML = "This full name is invalid"
            }



        }

        function focusout_Phone() {
            if (document.getElementById('Phone').value != '') {
                document.getElementById('noti_Phone').innerHTML = ''
            } else {
                document.getElementById('noti_Phone').innerHTML = "This Phone number is invalid"
            }
        }


        function focusout_email() {
            if (document.getElementById('email').value != '') {
                document.getElementById('noti_email').innerHTML = ''
            } else {
                document.getElementById('noti_email').innerHTML = "This email is invalid"
            }
        }



        function focus_fname() {
            document.getElementById('noti_fname').innerHTML = ''
        }

        function focus_Phone() {
            document.getElementById('noti_Phone').innerHTML = ''
        }
        function focus_email(params) {
            document.getElementById('noti_email').innerHTML = ''
        }


    </script>



</head>

<body>


    <nav class="navbar is-light" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://bulma.io">
                <img src="https://bulma.io/images/bulma-logo.png" width="112" height="28">
            </a>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item">
                    Home
                </a>

                <a class="navbar-item">
                    Documentation
                </a>

                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        More
                    </a>

                    <div class="navbar-dropdown">
                        <a class="navbar-item" href="05-js-basic-form.html">
                            page05
                        </a>
                        <a class="navbar-item" href="06-js-insert-data.html">
                            page06
                        </a>
                        <a class="navbar-item" href="07-js-show-data.html">
                            page07
                        </a>
                        <hr class="navbar-divider">
                        <a class="navbar-item">
                            page06
                        </a>
                    </div>
                </div>
            </div>

            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="buttons">
                        <a class="button is-primary">
                            <strong>Sign up</strong>
                        </a>
                        <a class="button is-light">
                            Log in
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>


    <div class="columns is-centered m-5">

        <div class="column is-one-third is-half">

            <div class="card">
                <div class="card-content has-background-success	">
                    <div class="content">
                        <div class="field">
                            <label class="label">full Name</label>
                            <div class="control has-icons-left">
                                <input class="input" type="text" placeholder="input full Name"
                                    onfocusout="focusout_fname()" id="fname" onfocus="focus_fname()">
                                <span class="icon is-small is-left">
                                    <i class="fas fa-user"></i>
                                </span>
                            </div>
                            <p class="help is-danger" id="noti_fname"></p>
                        </div>

                        <div class="field">
                            <label class="label">Phone number</label>
                            <div class="control has-icons-left has-icons-right">
                                <input class="input is-success" type="text" placeholder="input number" value=""
                                    id="Phone" onfocusout="focusout_Phone()" onfocus="focus_Phone()">
                                <span class="icon is-small is-left">
                                    <i class="fas fa-phone-alt"></i>
                                </span>
                                <span class="icon is-small is-right">
                                    <i class="fas fa-check"></i>
                                </span>
                            </div>
                            <p class="help is-danger" id="noti_Phone"></p>
                        </div>

                        <div class="field">
                            <label class="label">Email</label>
                            <div class="control has-icons-left has-icons-right">
                                <input class="input is-danger" type="email" placeholder="input Email" value=""
                                    id="email" onfocusout="focusout_email()" onfocus="focus_email()">
                                <span class="icon is-small is-left">
                                    <i class="fas fa-envelope"></i>
                                </span>
                                <span class="icon is-small is-right">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </span>
                            </div>
                            <p class="help is-danger" id="noti_email"></p>
                        </div>



                        <div class="field is-grouped">
                            <div class="control">
                                <button class="button is-link" onclick="click_submit()">Submit</button>
                            </div>
                            <div class="control">
                                <button class="button is-link is-light" onclick="click_Cancel()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        
    </div>



</body>

</html>