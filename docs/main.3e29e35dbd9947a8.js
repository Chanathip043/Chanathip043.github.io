"use strict";(self.webpackChunkwed_firebase=self.webpackChunkwed_firebase||[]).push([[179],{6304:(dt,Ce,F)=>{F.d(Ce,{Dh:()=>Me,GT:()=>ce,cc:()=>ke,hO:()=>Pe,on:()=>z,pX:()=>se,xv:()=>ye});var d=F(5879),j=F(7142),O=F(8186);dt=F.hmd(dt);const X=["ngOnDestroy"],se=(Ne,yt,ct,te={})=>new Proxy(Ne,{get:(xe,le)=>ct.runOutsideAngular(()=>{var Ie;if(Ne[le])return!(null===(Ie=te?.spy)||void 0===Ie)&&Ie.get&&te.spy.get(le,Ne[le]),Ne[le];if(X.indexOf(le)>-1)return()=>{};const Fe=yt.toPromise().then(re=>{const lt=re&&re[le];return"function"==typeof lt?lt.bind(re):lt&&lt.then?lt.then(Et=>ct.run(()=>Et)):ct.run(()=>lt)});return new Proxy(()=>{},{get:(re,lt)=>Fe[lt],apply:(re,lt,Et)=>Fe.then(Jt=>{var pi;const nr=Jt&&Jt(...Et);return!(null===(pi=te?.spy)||void 0===pi)&&pi.apply&&te.spy.apply(le,Et,nr),nr})})})}),ce=(Ne,yt)=>{yt.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(te=>{Object.defineProperty(Ne.prototype,te,Object.getOwnPropertyDescriptor(ct.prototype||ct,te))})})};class be{constructor(yt){return yt}}const Me=new d.OlP("angularfire2.app.options"),ye=new d.OlP("angularfire2.app.name");function z(Ne,yt,ct){const xe="object"==typeof ct&&ct||{};xe.name=xe.name||"string"==typeof ct&&ct||"[DEFAULT]";const Ie=j.Z.apps.filter(Fe=>Fe&&Fe.name===xe.name)[0]||yt.runOutsideAngular(()=>j.Z.initializeApp(Ne,xe));try{JSON.stringify(Ne)!==JSON.stringify(Ie.options)&&q("error",`${Ie.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(Ie)}const q=(Ne,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...yt)},ie={provide:be,useFactory:z,deps:[Me,d.R0b,[new d.FiY,ye]]};let Pe=(()=>{class Ne{constructor(ct){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",d.q4F.full,ct.toString())}static initializeApp(ct,te){return{ngModule:Ne,providers:[{provide:Me,useValue:ct},{provide:ye,useValue:te}]}}}return Ne.\u0275fac=function(ct){return new(ct||Ne)(d.LFG(d.Lbi))},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[ie]}),Ne})();function ke(Ne,yt,ct,te,xe){const[,le,Ie]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Ne)||[];if(le)return function We(Ne,yt){try{return Ne.toString()===yt.toString()}catch{return Ne===yt}}(xe,Ie)||(Ze("error",`${yt} was already initialized on the ${ct} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:xe,was:Ie})),le;{const Fe=te();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Fe,xe]),Fe}}const Re=!!dt.hot,Ze=(Ne,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(dt,Ce,F)=>{F.d(Ce,{q4:()=>xs,iC:()=>qu,fc:()=>Ml,HU:()=>wc,vb:()=>jh,JM:()=>Gr,u3:()=>_n});var d=F(5879),j=F(3182),O=F(5861),X=F(534),se=F(9058),ce=F(4537),be=F(7879);const Me=(E,D)=>D.some(S=>E instanceof S);let ye,z;const Pe=new WeakMap,ke=new WeakMap,We=new WeakMap,Re=new WeakMap,Ze=new WeakMap;let ct={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return ke.get(E);if("objectStoreNames"===D)return E.objectStoreNames||We.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Ie(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function le(E){return"function"==typeof E?function xe(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Fe(this),D),Ie(Pe.get(this))}:function(...D){return Ie(E.apply(Fe(this),D))}:function(D,...S){const V=E.call(Fe(this),D,...S);return We.set(V,D.sort?D.sort():[D]),Ie(V)}}(E):(E instanceof IDBTransaction&&function yt(E){if(ke.has(E))return;const D=new Promise((S,V)=>{const W=()=>{E.removeEventListener("complete",Q),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},Q=()=>{S(),W()},ge=()=>{V(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Q),E.addEventListener("error",ge),E.addEventListener("abort",ge)});ke.set(E,D)}(E),Me(E,function q(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ct):E)}function Ie(E){if(E instanceof IDBRequest)return function Ne(E){const D=new Promise((S,V)=>{const W=()=>{E.removeEventListener("success",Q),E.removeEventListener("error",ge)},Q=()=>{S(Ie(E.result)),W()},ge=()=>{V(E.error),W()};E.addEventListener("success",Q),E.addEventListener("error",ge)});return D.then(S=>{S instanceof IDBCursor&&Pe.set(S,E)}).catch(()=>{}),Ze.set(D,E),D}(E);if(Re.has(E))return Re.get(E);const D=le(E);return D!==E&&(Re.set(E,D),Ze.set(D,E)),D}const Fe=E=>Ze.get(E),Et=["get","getKey","getAll","getAllKeys","count"],Jt=["put","add","delete","clear"],pi=new Map;function nr(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(pi.get(D))return pi.get(D);const S=D.replace(/FromIndex$/,""),V=D!==S,W=Jt.includes(S);if(!(S in(V?IDBIndex:IDBObjectStore).prototype)||!W&&!Et.includes(S))return;const Q=function(){var ge=(0,O.Z)(function*(qe,...ze){const ut=this.transaction(qe,W?"readwrite":"readonly");let Mt=ut.store;return V&&(Mt=Mt.index(ze.shift())),(yield Promise.all([Mt[S](...ze),W&&ut.done]))[0]});return function(ze){return ge.apply(this,arguments)}}();return pi.set(D,Q),Q}!function te(E){ct=E(ct)}(E=>({...E,get:(D,S,V)=>nr(D,S)||E.get(D,S,V),has:(D,S)=>!!nr(D,S)||E.has(D,S)}));const _o="@firebase/installations",On="0.6.4",Vr=1e4,Uo=`w:${On}`,de="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",Ee=36e5,Xe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function mn({projectId:E}){return`${pe}/projects/${E}/installations`}function Dt(E){return{token:E.token,requestStatus:2,expiresIn:ci(E.expiresIn),creationTime:Date.now()}}function an(E,D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(E,D){const V=(yield D.json()).error;return Xe.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function pn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function jn(E){return hn.apply(this,arguments)}function hn(){return(hn=(0,O.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function ci(E){return Number(E.replace("s","000"))}function Oi(){return(Oi=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:S}){const V=mn(E),W=pn(E),Q=D.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&W.append("x-firebase-client",ut)}const qe={method:"POST",headers:W,body:JSON.stringify({fid:S,authVersion:de,appId:E.appId,sdkVersion:Uo})},ze=yield jn(()=>fetch(V,qe));if(ze.ok){const ut=yield ze.json();return{fid:ut.fid||S,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Dt(ut.authToken)}}throw yield an("Create Installation",ze)})).apply(this,arguments)}function Gn(E){return new Promise(D=>{setTimeout(D,E)})}const yo=/^[cdef][\w-]{21}$/,pt="";function Bt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function Pt(E){return function ir(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return yo.test(S)?S:pt}catch{return pt}}function en(E){return`${E.appName}!${E.appId}`}const li=new Map;function gr(E,D){const S=en(E);vo(S,D),function bn(E,D){const S=function Lt(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=E=>{vo(E.data.key,E.data.fid)}),qi}();S&&S.postMessage({key:E,fid:D}),function zn(){0===li.size&&qi&&(qi.close(),qi=null)}()}(S,D)}function vo(E,D){const S=li.get(E);if(S)for(const V of S)V(D)}let qi=null;const to="firebase-installations-database",jo=1,Ni="firebase-installations-store";let qn=null;function An(){return qn||(qn=function re(E,D,{blocked:S,upgrade:V,blocking:W,terminated:Q}={}){const ge=indexedDB.open(E,D),qe=Ie(ge);return V&&ge.addEventListener("upgradeneeded",ze=>{V(Ie(ge.result),ze.oldVersion,ze.newVersion,Ie(ge.transaction))}),S&&ge.addEventListener("blocked",()=>S()),qe.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),W&&ze.addEventListener("versionchange",()=>W())}).catch(()=>{}),qe}(to,jo,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Ni)}})),qn}function ti(E,D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,O.Z)(function*(E,D){const S=en(E),W=(yield An()).transaction(Ni,"readwrite"),Q=W.objectStore(Ni),ge=yield Q.get(S);return yield Q.put(D,S),yield W.done,(!ge||ge.fid!==D.fid)&&gr(E,D.fid),D})).apply(this,arguments)}function ui(E){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(E){const D=en(E),V=(yield An()).transaction(Ni,"readwrite");yield V.objectStore(Ni).delete(D),yield V.done})).apply(this,arguments)}function rr(E,D){return tn.apply(this,arguments)}function tn(){return(tn=(0,O.Z)(function*(E,D){const S=en(E),W=(yield An()).transaction(Ni,"readwrite"),Q=W.objectStore(Ni),ge=yield Q.get(S),qe=D(ge);return void 0===qe?yield Q.delete(S):yield Q.put(qe,S),yield W.done,qe&&(!ge||ge.fid!==qe.fid)&&gr(E,qe.fid),qe})).apply(this,arguments)}function G(E){return H.apply(this,arguments)}function H(){return H=(0,O.Z)(function*(E){let D;const S=yield rr(E.appConfig,V=>{const W=function P(E){return gt(E||{fid:Bt(),registrationStatus:0})}(V),Q=function L(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Xe.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function R(E,D){return J.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ve(E)}:{installationEntry:D}}(E,W);return D=Q.registrationPromise,Q.installationEntry});return S.fid===pt?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),H.apply(this,arguments)}function J(){return J=(0,O.Z)(function*(E,D){try{const S=yield function eo(E,D){return Oi.apply(this,arguments)}(E,D);return ti(E.appConfig,S)}catch(S){throw ot(S)&&409===S.customData.serverCode?yield ui(E.appConfig):yield ti(E.appConfig,{fid:D.fid,registrationStatus:0}),S}}),J.apply(this,arguments)}function ve(E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(E){let D=yield xt(E.appConfig);for(;1===D.registrationStatus;)yield Gn(100),D=yield xt(E.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:V}=yield G(E);return V||S}return D})).apply(this,arguments)}function xt(E){return rr(E,D=>{if(!D)throw Xe.create("installation-not-found");return gt(D)})}function gt(E){return function ht(E){return 1===E.registrationStatus&&E.registrationTime+Vr<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function En(){return(En=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},S){const V=function Ut(E,{fid:D}){return`${mn(E)}/${D}/authTokens:generate`}(E,S),W=function $n(E,{refreshToken:D}){const S=pn(E);return S.append("Authorization",function Tr(E){return`${de} ${E}`}(D)),S}(E,S),Q=D.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&W.append("x-firebase-client",ut)}const qe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Uo,appId:E.appId}})},ze=yield jn(()=>fetch(V,qe));if(ze.ok)return Dt(yield ze.json());throw yield an("Generate Auth Token",ze)})).apply(this,arguments)}function Ii(E){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,O.Z)(function*(E,D=!1){let S;const V=yield rr(E.appConfig,Q=>{if(!qt(Q))throw Xe.create("not-registered");const ge=Q.authToken;if(!D&&function rn(E){return 2===E.requestStatus&&!function Ci(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Ee}(E)}(ge))return Q;if(1===ge.requestStatus)return S=function _e(E,D){return oe.apply(this,arguments)}(E,D),Q;{if(!navigator.onLine)throw Xe.create("app-offline");const qe=function Wn(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(Q);return S=function ft(E,D){return Rt.apply(this,arguments)}(E,qe),qe}});return S?yield S:V.authToken}),Pi.apply(this,arguments)}function oe(){return(oe=(0,O.Z)(function*(E,D){let S=yield Le(E.appConfig);for(;1===S.authToken.requestStatus;)yield Gn(100),S=yield Le(E.appConfig);const V=S.authToken;return 0===V.requestStatus?Ii(E,D):V})).apply(this,arguments)}function Le(E){return rr(E,D=>{if(!qt(D))throw Xe.create("not-registered");return function ds(E){return 1===E.requestStatus&&E.requestTime+Vr<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Rt(){return Rt=(0,O.Z)(function*(E,D){try{const S=yield function At(E,D){return En.apply(this,arguments)}(E,D),V=Object.assign(Object.assign({},D),{authToken:S});return yield ti(E.appConfig,V),S}catch(S){if(!ot(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ti(E.appConfig,V)}else yield ui(E.appConfig);throw S}}),Rt.apply(this,arguments)}function qt(E){return void 0!==E&&2===E.registrationStatus}function tc(){return(tc=(0,O.Z)(function*(E){const D=E,{installationEntry:S,registrationPromise:V}=yield G(D);return V?V.catch(console.error):Ii(D).catch(console.error),S.fid})).apply(this,arguments)}function _r(){return _r=(0,O.Z)(function*(E,D=!1){const S=E;return yield function hs(E){return Fs.apply(this,arguments)}(S),(yield Ii(S,D)).token}),_r.apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(E){const{registrationPromise:D}=yield G(E);D&&(yield D)})).apply(this,arguments)}function ga(E){return Xe.create("missing-app-config-values",{valueName:E})}const uu="installations",nc=E=>{const D=E.getProvider("app").getImmediate(),S=function Xc(E){if(!E||!E.options)throw ga("App Configuration");if(!E.name)throw ga("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!E.options[S])throw ga(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,X._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ic=E=>{const D=E.getProvider("app").getImmediate(),S=(0,X._getProvider)(D,uu).getImmediate();return{getId:()=>function pa(E){return tc.apply(this,arguments)}(S),getToken:W=>function fh(E){return _r.apply(this,arguments)}(S,W)}};(function du(){(0,X._registerComponent)(new ce.wA(uu,nc,"PUBLIC")),(0,X._registerComponent)(new ce.wA("installations-internal",ic,"PRIVATE"))})(),(0,X.registerVersion)(_o,On),(0,X.registerVersion)(_o,On,"esm2017");const rc="@firebase/remote-config",wn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ac{constructor(D,S,V,W){this.client=D,this.storage=S,this.storageCache=V,this.logger=W}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-S,W=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${W}.`),W}fetch(D){var S=this;return(0,O.Z)(function*(){const[V,W]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(W&&S.isCachedDataFresh(D.cacheMaxAgeMillis,V))return W;D.eTag=W&&W.eTag;const Q=yield S.client.fetch(D),ge=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&ge.push(S.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(ge),Q})()}}function tl(E=navigator){return E.languages&&E.languages[0]||E.language}class ms{constructor(D,S,V,W,Q,ge){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=V,this.projectId=W,this.apiKey=Q,this.appId=ge}fetch(D){var S=this;return(0,O.Z)(function*(){const[V,W]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ze={sdk_version:S.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:S.appId,language_code:tl()},ut={method:"POST",headers:qe,body:JSON.stringify(ze)},Mt=fetch(ge,ut),kt=new Promise((co,lo)=>{D.signal.addEventListener(()=>{const Fa=new Error("The operation was aborted.");Fa.name="AbortError",lo(Fa)})});let vi;try{yield Promise.race([Mt,kt]),vi=yield Mt}catch(co){let lo="fetch-client-network";throw"AbortError"===co?.name&&(lo="fetch-timeout"),wn.create(lo,{originalErrorMessage:co?.message})}let hi=vi.status;const Ao=vi.headers.get("ETag")||void 0;let kl,Yo;if(200===vi.status){let co;try{co=yield vi.json()}catch(lo){throw wn.create("fetch-client-parse",{originalErrorMessage:lo?.message})}kl=co.entries,Yo=co.state}if("INSTANCE_STATE_UNSPECIFIED"===Yo?hi=500:"NO_CHANGE"===Yo?hi=304:("NO_TEMPLATE"===Yo||"EMPTY_CONFIG"===Yo)&&(kl={}),304!==hi&&200!==hi)throw wn.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Ao,config:kl}})()}}class Vs{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,O.Z)(function*(){const V=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:V}){var W=this;return(0,O.Z)(function*(){yield function Nn(E,D){return new Promise((S,V)=>{const W=Math.max(D-Date.now(),0),Q=setTimeout(S,W);E.addEventListener(()=>{clearTimeout(Q),V(wn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const Q=yield W.client.fetch(D);return yield W.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function nl(E){if(!(E instanceof se.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Q))throw Q;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(ge),W.attemptFetch(D,ge)}})()}}class il{constructor(D,S,V,W,Q){this.app=D,this._client=S,this._storageCache=V,this._storage=W,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Li(E,D){const S=E.target.error||void 0;return wn.create(D,{originalErrorMessage:S&&S?.message})}const ar="app_namespace_store";class hm{constructor(D,S,V,W=function on(){return new Promise((E,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=V=>{D(Li(V,"storage-open"))},S.onsuccess=V=>{E(V.target.result)},S.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(ar,{keyPath:"compositeKey"})}}catch(S){D(wn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,O.Z)(function*(){const V=yield S.openDbPromise;return new Promise((W,Q)=>{const qe=V.transaction([ar],"readonly").objectStore(ar),ze=S.createCompositeKey(D);try{const ut=qe.get(ze);ut.onerror=Mt=>{Q(Li(Mt,"storage-get"))},ut.onsuccess=Mt=>{const kt=Mt.target.result;W(kt?kt.value:void 0)}}catch(ut){Q(wn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,S){var V=this;return(0,O.Z)(function*(){const W=yield V.openDbPromise;return new Promise((Q,ge)=>{const ze=W.transaction([ar],"readwrite").objectStore(ar),ut=V.createCompositeKey(D);try{const Mt=ze.put({compositeKey:ut,value:S});Mt.onerror=kt=>{ge(Li(kt,"storage-set"))},Mt.onsuccess=()=>{Q()}}catch(Mt){ge(wn.create("storage-set",{originalErrorMessage:Mt?.message}))}})})()}delete(D){var S=this;return(0,O.Z)(function*(){const V=yield S.openDbPromise;return new Promise((W,Q)=>{const qe=V.transaction([ar],"readwrite").objectStore(ar),ze=S.createCompositeKey(D);try{const ut=qe.delete(ze);ut.onerror=Mt=>{Q(Li(Mt,"storage-delete"))},ut.onsuccess=()=>{W()}}catch(ut){Q(wn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class bo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const S=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),W=D.storage.getActiveConfig(),Q=yield S;Q&&(D.lastFetchStatus=Q);const ge=yield V;ge&&(D.lastSuccessfulFetchTimestampMillis=ge);const qe=yield W;qe&&(D.activeConfig=qe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function wa(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Bs(){(0,X._registerComponent)(new ce.wA("remote-config",function E(D,{instanceIdentifier:S}){const V=D.getProvider("app").getImmediate(),W=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wn.create("registration-window");if(!(0,se.hl)())throw wn.create("indexed-db-unavailable");const{projectId:Q,apiKey:ge,appId:qe}=V.options;if(!Q)throw wn.create("registration-project-id");if(!ge)throw wn.create("registration-api-key");if(!qe)throw wn.create("registration-app-id");const ze=new hm(qe,V.name,S=S||"firebase"),ut=new bo(ze),Mt=new be.Yd(rc);Mt.logLevel=be.in.ERROR;const kt=new ms(W,X.SDK_VERSION,S,Q,ge,qe),vi=new Vs(kt,ze),hi=new ac(vi,ze,ut,Mt),Ao=new il(V,hi,ut,ze,Mt);return function Ft(E){const D=(0,se.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ao),Ao},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(rc,"0.4.4"),(0,X.registerVersion)(rc,"0.4.4","esm2017")}();const Wi=(E,D)=>D.some(S=>E instanceof S);let cc,Zi;const ro=new WeakMap,ps=new WeakMap,Mn=new WeakMap,xa=new WeakMap,gh=new WeakMap;let pu={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return ps.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Mn.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return wo(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function _h(E){return"function"==typeof E?function Ng(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hu(){return Zi||(Zi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(gu(this),D),wo(ro.get(this))}:function(...D){return wo(E.apply(gu(this),D))}:function(D,...S){const V=E.call(gu(this),D,...S);return Mn.set(V,D.sort?D.sort():[D]),wo(V)}}(E):(E instanceof IDBTransaction&&function mu(E){if(ps.has(E))return;const D=new Promise((S,V)=>{const W=()=>{E.removeEventListener("complete",Q),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},Q=()=>{S(),W()},ge=()=>{V(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Q),E.addEventListener("error",ge),E.addEventListener("abort",ge)});ps.set(E,D)}(E),Wi(E,function Ki(){return cc||(cc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,pu):E)}function wo(E){if(E instanceof IDBRequest)return function fu(E){const D=new Promise((S,V)=>{const W=()=>{E.removeEventListener("success",Q),E.removeEventListener("error",ge)},Q=()=>{S(wo(E.result)),W()},ge=()=>{V(E.error),W()};E.addEventListener("success",Q),E.addEventListener("error",ge)});return D.then(S=>{S instanceof IDBCursor&&ro.set(S,E)}).catch(()=>{}),gh.set(D,E),D}(E);if(xa.has(E))return xa.get(E);const D=_h(E);return D!==E&&(xa.set(E,D),gh.set(D,E)),D}const gu=E=>gh.get(E);function _u(E,D,{blocked:S,upgrade:V,blocking:W,terminated:Q}={}){const ge=indexedDB.open(E,D),qe=wo(ge);return V&&ge.addEventListener("upgradeneeded",ze=>{V(wo(ge.result),ze.oldVersion,ze.newVersion,wo(ge.transaction))}),S&&ge.addEventListener("blocked",()=>S()),qe.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),W&&ze.addEventListener("versionchange",()=>W())}).catch(()=>{}),qe}function rl(E,{blocked:D}={}){const S=indexedDB.deleteDatabase(E);return D&&S.addEventListener("blocked",()=>D()),wo(S).then(()=>{})}const mm=["get","getKey","getAll","getAllKeys","count"],yh=["put","add","delete","clear"],vh=new Map;function bh(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(vh.get(D))return vh.get(D);const S=D.replace(/FromIndex$/,""),V=D!==S,W=yh.includes(S);if(!(S in(V?IDBIndex:IDBObjectStore).prototype)||!W&&!mm.includes(S))return;const Q=function(){var ge=(0,O.Z)(function*(qe,...ze){const ut=this.transaction(qe,W?"readwrite":"readonly");let Mt=ut.store;return V&&(Mt=Mt.index(ze.shift())),(yield Promise.all([Mt[S](...ze),W&&ut.done]))[0]});return function(ze){return ge.apply(this,arguments)}}();return vh.set(D,Q),Q}!function fm(E){pu=E(pu)}(E=>({...E,get:(D,S,V)=>bh(D,S)||E.get(D,S,V),has:(D,S)=>!!bh(D,S)||E.has(D,S)}));const yu="/firebase-messaging-sw.js",wh="/firebase-cloud-messaging-push-scope",ol="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vu="https://fcmregistrations.googleapis.com/v1",pm="google.c.a.c_id",Zn="google.c.a.c_l",bv="google.c.a.ts";var sl=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(sl||{});function yr(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bu(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(S),W=new Uint8Array(V.length);for(let Q=0;Q<V.length;++Q)W[Q]=V.charCodeAt(Q);return W}const lc="fcm_token_details_db",uc=5,_m="fcm_token_object_Store";function al(){return al=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(lc))return null;let D=null;return(yield _u(lc,uc,{upgrade:(V=(0,O.Z)(function*(W,Q,ge,qe){var ze;if(Q<2||!W.objectStoreNames.contains(_m))return;const ut=qe.objectStore(_m),Mt=yield ut.index("fcmSenderId").get(E);if(yield ut.clear(),Mt)if(2===Q){const kt=Mt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;D={token:kt.fcmToken,createTime:null!==(ze=kt.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:yr(kt.vapidKey)}}}else if(3===Q){const kt=Mt;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:yr(kt.auth),p256dh:yr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:yr(kt.vapidKey)}}}else if(4===Q){const kt=Mt;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:yr(kt.auth),p256dh:yr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:yr(kt.vapidKey)}}}}),function(Q,ge,qe,ze){return V.apply(this,arguments)})})).close(),yield rl(lc),yield rl("fcm_vapid_details_db"),yield rl("undefined"),function Br(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var V}),al.apply(this,arguments)}const cl="firebase-messaging-database",Kn=1,Mr="firebase-messaging-store";let wu=null;function ll(){return wu||(wu=_u(cl,Kn,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Mr)}})),wu}function js(E){return zs.apply(this,arguments)}function zs(){return zs=(0,O.Z)(function*(E){const D=xh(E),V=yield(yield ll()).transaction(Mr).objectStore(Mr).get(D);if(V)return V;{const W=yield function ym(E){return al.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield ul(E,W),W}}),zs.apply(this,arguments)}function ul(E,D){return vm.apply(this,arguments)}function vm(){return(vm=(0,O.Z)(function*(E,D){const S=xh(E),W=(yield ll()).transaction(Mr,"readwrite");return yield W.objectStore(Mr).put(D,S),yield W.done,D})).apply(this,arguments)}function _s(){return(_s=(0,O.Z)(function*(E){const D=xh(E),V=(yield ll()).transaction(Mr,"readwrite");yield V.objectStore(Mr).delete(D),yield V.done})).apply(this,arguments)}function xh({appConfig:E}){return E.appId}const Ti=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wv(E,D){return xu.apply(this,arguments)}function xu(){return(xu=(0,O.Z)(function*(E,D){const S=yield Ia(E),V=Cu(D),W={method:"POST",headers:S,body:JSON.stringify(V)};let Q;try{Q=yield(yield fetch(dl(E.appConfig),W)).json()}catch(ge){throw Ti.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(Q.error)throw Ti.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw Ti.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function dc(){return(dc=(0,O.Z)(function*(E,D){const S=yield Ia(E),V=Cu(D.subscriptionOptions),W={method:"PATCH",headers:S,body:JSON.stringify(V)};let Q;try{Q=yield(yield fetch(`${dl(E.appConfig)}/${D.token}`,W)).json()}catch(ge){throw Ti.create("token-update-failed",{errorInfo:ge?.toString()})}if(Q.error)throw Ti.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw Ti.create("token-update-no-token");return Q.token})).apply(this,arguments)}function bm(E,D){return hc.apply(this,arguments)}function hc(){return(hc=(0,O.Z)(function*(E,D){const V={method:"DELETE",headers:yield Ia(E)};try{const Q=yield(yield fetch(`${dl(E.appConfig)}/${D}`,V)).json();if(Q.error)throw Ti.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(W){throw Ti.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function dl({projectId:E}){return`${vu}/projects/${E}/registrations`}function Ia(E){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*({appConfig:E,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Cu({p256dh:E,auth:D,endpoint:S,vapidKey:V}){const W={web:{endpoint:S,auth:D,p256dh:E}};return V!==ol&&(W.web.applicationPubKey=V),W}const wm=6048e5;function Ih(){return Ih=(0,O.Z)(function*(E){const D=yield function hl(E,D){return Ca.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:yr(D.getKey("auth")),p256dh:yr(D.getKey("p256dh"))},V=yield js(E.firebaseDependencies);if(V){if(function Yi(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(V.subscriptionOptions,S))return Date.now()>=V.createTime+wm?function oo(E,D){return Au.apply(this,arguments)}(E,{token:V.token,createTime:Date.now(),subscriptionOptions:S}):V.token;try{yield bm(E.firebaseDependencies,V.token)}catch(W){console.warn(W)}return Hs(E.firebaseDependencies,S)}return Hs(E.firebaseDependencies,S)}),Ih.apply(this,arguments)}function Su(){return Su=(0,O.Z)(function*(E){const D=yield js(E.firebaseDependencies);D&&(yield bm(E.firebaseDependencies,D.token),yield function Eh(E){return _s.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Su.apply(this,arguments)}function Au(){return Au=(0,O.Z)(function*(E,D){try{const S=yield function Pg(E,D){return dc.apply(this,arguments)}(E.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield ul(E.firebaseDependencies,V),S}catch(S){throw yield function Tu(E){return Su.apply(this,arguments)}(E),S}}),Au.apply(this,arguments)}function Hs(E,D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(E,D){const V={token:yield wv(E,D),createTime:Date.now(),subscriptionOptions:D};return yield ul(E,V),V.token})).apply(this,arguments)}function Ca(){return(Ca=(0,O.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bu(D)})})).apply(this,arguments)}function Da(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ch(E,D){if(!D.notification)return;E.notification={};const S=D.notification.title;S&&(E.notification.title=S);const V=D.notification.body;V&&(E.notification.body=V);const W=D.notification.image;W&&(E.notification.image=W);const Q=D.notification.icon;Q&&(E.notification.icon=Q)}(D,E),function ys(E,D){D.data&&(E.data=D.data)}(D,E),function Ur(E,D){var S,V,W,Q,ge;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const qe=null!==(W=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(Q=D.notification)||void 0===Q?void 0:Q.click_action;qe&&(E.fcmOptions.link=qe);const ze=null===(ge=D.fcmOptions)||void 0===ge?void 0:ge.analytics_label;ze&&(E.fcmOptions.analyticsLabel=ze)}(D,E),D}function Dh(E,D){const S=[];for(let V=0;V<E.length;V++)S.push(E.charAt(V)),V<D.length&&S.push(D.charAt(V));return S.join("")}function Eo(E){return Ti.create("missing-app-config-values",{valueName:E})}Dh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Sh{constructor(D,S,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Th(E){if(!E||!E.options)throw Eo("App Configuration Object");if(!E.name)throw Eo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const V of D)if(!S[V])throw Eo(V);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:W,installations:S,analyticsProvider:V}}_delete(){return Promise.resolve()}}function fl(){return(fl=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(yu,{scope:wh}),E.swRegistration.update().catch(()=>{})}catch(D){throw Ti.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield function Mu(E){return fl.apply(this,arguments)}(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ti.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=ol)})).apply(this,arguments)}function Ah(){return Ah=(0,O.Z)(function*(E,D){if(!navigator)throw Ti.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ti.create("permission-blocked");return yield function ml(E,D){return Tt.apply(this,arguments)}(E,D?.vapidKey),yield function Ta(E,D){return jr.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function Du(E){return Ih.apply(this,arguments)}(E)}),Ah.apply(this,arguments)}function Ru(){return(Ru=(0,O.Z)(function*(E,D,S){const V=function xm(E){switch(E){case sl.NOTIFICATION_CLICKED:return"notification_open";case sl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:S[pm],message_name:S[Zn],message_time:S[bv],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zr(){return zr=(0,O.Z)(function*(E,D){const S=D.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===sl.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Da(S)):E.onMessageHandler.next(Da(S)));const V=S.data;(function Em(E){return"object"==typeof E&&!!E&&pm in E})(V)&&"1"===V["google.c.a.e"]&&(yield function Fg(E,D,S){return Ru.apply(this,arguments)}(E,S.messageType,V))}),zr.apply(this,arguments)}const pl="@firebase/messaging",Im=E=>{const D=new Sh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function fc(E,D){return zr.apply(this,arguments)}(D,S)),D},Mh=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:V=>function ku(E,D){return Ah.apply(this,arguments)}(D,V)}};function Ae(){return nn.apply(this,arguments)}function nn(){return(nn=(0,O.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cm(){(0,X._registerComponent)(new ce.wA("messaging",Im,"PUBLIC")),(0,X._registerComponent)(new ce.wA("messaging-internal",Mh,"PRIVATE")),(0,X.registerVersion)(pl,"0.12.4"),(0,X.registerVersion)(pl,"0.12.4","esm2017")}();const Nu="analytics",kh="firebase_id",Rh="origin",Vi=6e4,xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yl="https://www.googletagmanager.com/gtag/js",Un=new be.Yd("@firebase/analytics"),_i=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vl(E){if(!E.startsWith(yl)){const D=_i.create("invalid-gtag-resource",{gtagURL:E});return Un.warn(D.message),""}return E}function pc(E){return Promise.all(E.map(D=>D.catch(S=>S)))}function vs(){return(vs=(0,O.Z)(function*(E,D,S,V,W,Q){const ge=V[W];try{if(ge)yield D[ge];else{const ze=(yield pc(S)).find(ut=>ut.measurementId===W);ze&&(yield D[ze.appId])}}catch(qe){Un.error(qe)}E("config",W,Q)})).apply(this,arguments)}function Sa(){return(Sa=(0,O.Z)(function*(E,D,S,V,W){try{let Q=[];if(W&&W.send_to){let ge=W.send_to;Array.isArray(ge)||(ge=[ge]);const qe=yield pc(S);for(const ze of ge){const ut=qe.find(kt=>kt.measurementId===ze),Mt=ut&&D[ut.appId];if(!Mt){Q=[];break}Q.push(Mt)}}0===Q.length&&(Q=Object.values(D)),yield Promise.all(Q),E("event",V,W||{})}catch(Q){Un.error(Q)}})).apply(this,arguments)}const Lg=30,Fh=new class Ph{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Vg(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ws(){return(ws=(0,O.Z)(function*(E){var D;const{appId:S,apiKey:V}=E,W={method:"GET",headers:Vg(V)},Q=xo.replace("{app-id}",S),ge=yield fetch(Q,W);if(200!==ge.status&&304!==ge.status){let qe="";try{const ze=yield ge.json();null!==(D=ze.error)&&void 0!==D&&D.message&&(qe=ze.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:qe})}return ge.json()})).apply(this,arguments)}function Fu(){return(Fu=(0,O.Z)(function*(E,D=Fh,S){const{appId:V,apiKey:W,measurementId:Q}=E.options;if(!V)throw _i.create("no-app-id");if(!W){if(Q)return{measurementId:Q,appId:V};throw _i.create("no-api-key")}const ge=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Bu;return setTimeout((0,O.Z)(function*(){qe.abort()}),void 0!==S?S:Vi),Sm({appId:V,apiKey:W,measurementId:Q},ge,qe,D)})).apply(this,arguments)}function Sm(E,D,S){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,O.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:S},V,W=Fh){var Q;const{appId:ge,measurementId:qe}=E;try{yield function Lu(E,D){return new Promise((S,V)=>{const W=Math.max(D-Date.now(),0),Q=setTimeout(S,W);E.addEventListener(()=>{clearTimeout(Q),V(_i.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(V,D)}catch(ze){if(qe)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:ge,measurementId:qe};throw ze}try{const ze=yield function vr(E){return ws.apply(this,arguments)}(E);return W.deleteThrottleMetadata(ge),ze}catch(ze){const ut=ze;if(!function Vu(E){if(!(E instanceof se.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ut)){if(W.deleteThrottleMetadata(ge),qe)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ge,measurementId:qe};throw ze}const Mt=503===Number(null===(Q=ut?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,se.$s)(S,W.intervalMillis,Lg):(0,se.$s)(S,W.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Mt,backoffCount:S+1};return W.setThrottleMetadata(ge,kt),Un.debug(`Calling attemptFetch again in ${Mt} millis`),Sm(E,kt,V,W)}}),Aa.apply(this,arguments)}class Bu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let _c,Dl;function Lh(){return(Lh=(0,O.Z)(function*(E,D,S,V,W){if(W&&W.global)E("event",S,V);else{const Q=yield D;E("event",S,Object.assign(Object.assign({},V),{send_to:Q}))}})).apply(this,arguments)}function Ma(){return(Ma=(0,O.Z)(function*(){if(!(0,se.hl)())return Un.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return Un.warn(_i.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function so(){return so=(0,O.Z)(function*(E,D,S,V,W,Q,ge){var qe;const ze=function Pn(E){return Fu.apply(this,arguments)}(E);ze.then(hi=>{S[hi.measurementId]=hi.appId,E.options.measurementId&&hi.measurementId!==E.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Un.error(hi)),D.push(ze);const ut=function Am(){return Ma.apply(this,arguments)}().then(hi=>{if(hi)return V.getId()}),[Mt,kt]=yield Promise.all([ze,ut]);(function Pu(E){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(yl)&&S.src.includes(E))return S;return null})(Q)||function Oh(E,D){const S=function bl(E,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,D)),S}("firebase-js-sdk-policy",{createScriptURL:vl}),V=document.createElement("script"),W=`${yl}?l=${E}&id=${D}`;V.src=S?S?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(Q,Mt.measurementId),Dl&&(W("consent","default",Dl),function Gs(E){Dl=E}(void 0)),W("js",new Date);const vi=null!==(qe=ge?.config)&&void 0!==qe?qe:{};return vi[Rh]="firebase",vi.update=!0,null!=kt&&(vi[kh]=kt),W("config",Mt.measurementId,vi),_c&&(W("set",_c),function zu(E){_c=E}(void 0)),Mt.measurementId}),so.apply(this,arguments)}class st{constructor(D){this.app=D}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},Vh=[];const qs={};let Ui,ao,Hr="dataLayer",$o=!1;function Mm(E,D,S){!function Rr(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((V,W)=>`(${W+1}) ${V}`).join(" "),S=_i.create("invalid-analytics-context",{errorInfo:D});Un.warn(S.message)}}();const V=E.options.appId;if(!V)throw _i.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw _i.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[V])throw _i.create("already-exists",{id:V});if(!$o){!function gc(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Hr);const{wrappedGtag:Q,gtagCore:ge}=function xl(E,D,S,V,W){let Q=function(...ge){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(Q=window[W]),window[W]=function El(E,D,S,V){function Q(){return Q=(0,O.Z)(function*(ge,...qe){try{if("event"===ge){const[ze,ut]=qe;yield function bs(E,D,S,V,W){return Sa.apply(this,arguments)}(E,D,S,ze,ut)}else if("config"===ge){const[ze,ut]=qe;yield function wl(E,D,S,V,W,Q){return vs.apply(this,arguments)}(E,D,S,V,ze,ut)}else if("consent"===ge){const[ze]=qe;E("consent","update",ze)}else if("get"===ge){const[ze,ut,Mt]=qe;E("get",ze,ut,Mt)}else if("set"===ge){const[ze]=qe;E("set",ze)}else E(ge,...qe)}catch(ze){Un.error(ze)}}),Q.apply(this,arguments)}return function W(ge){return Q.apply(this,arguments)}}(Q,E,D,S),{gtagCore:Q,wrappedGtag:window[W]}}(kr,Vh,qs,Hr,"gtag");ao=Q,Ui=ge,$o=!0}return kr[V]=function Bg(E,D,S,V,W,Q,ge){return so.apply(this,arguments)}(E,Vh,qs,D,Ui,Hr,S),new st(E)}function Bh(){return wr.apply(this,arguments)}function wr(){return(wr=(0,O.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const gn="@firebase/analytics";!function Qn(){(0,X._registerComponent)(new ce.wA(Nu,(D,{options:S})=>Mm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,X._registerComponent)(new ce.wA("analytics-internal",function E(D){try{const S=D.getProvider(Nu).getImmediate();return{logEvent:(V,W,Q)=>function Zs(E,D,S,V){E=(0,se.m9)(E),function $s(E,D,S,V,W){return Lh.apply(this,arguments)}(ao,kr[E.app.options.appId],D,S,V).catch(W=>Un.error(W))}(S,V,W,Q)}}catch(S){throw _i.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,X.registerVersion)(gn,"0.10.0"),(0,X.registerVersion)(gn,"0.10.0","esm2017")}();var $r=F(1954),di=F(2631);const Uh=new class Oa extends di.v{}(class Dn extends $r.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,S,V):(D.flush(this),0)}});var Do=F(6321),Er=F(5592),Tn=F(9397),zi=F(3093),Tl=F(5137);const xs=new d.GfV("7.6.1"),To="__angularfire_symbol__analyticsIsSupportedValue",Gu="__angularfire_symbol__analyticsIsSupported",Ks="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",Ht="__angularfire_symbol__messagingIsSupportedValue",Ys="__angularfire_symbol__messagingIsSupported";function Gr(E,D,S){if(D){if(1===D.length)return D[0];const Q=D.filter(ge=>ge.app===S);if(1===Q.length)return Q[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[Gu]||(globalThis[Gu]=Bh().then(E=>globalThis[To]=E).catch(()=>globalThis[To]=!1)),globalThis[Ys]||(globalThis[Ys]=Ae().then(E=>globalThis[Ht]=E).catch(()=>globalThis[Ht]=!1)),globalThis[Na]||(globalThis[Na]=wa().then(E=>globalThis[Ks]=E).catch(()=>globalThis[Ks]=!1));const jh=(E,D)=>{const S=D?[D]:(0,j.C6)(),V=[];return S.forEach(W=>{W.container.getProvider(E).instances.forEach(ge=>{V.includes(ge)||V.push(ge)})}),V};function Ln(){}class So{constructor(D,S=Uh){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,V){const W=this.zone;return this.delegate.schedule(function(ge){W.runGuarded(()=>{D.apply(this,[ge])})},S,V)}}class bc{constructor(D){this.zone=D,this.task=null}call(D,S){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ln,{},Ln,Ln)),S.pipe((0,Tn.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wc=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new So(Zone.current)),this.insideAngular=S.run(()=>new So(Zone.current,Do.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function yi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Ko(E){return yi().ngZone.run(()=>E())}function Ml(E){return E.pipe((0,zi.Q)(yi().outsideAngular))}function qu(E){return yi(),function Wu(E){return function(S){return(S=S.lift(new bc(E.ngZone))).pipe((0,Tl.R)(E.outsideAngular),(0,zi.Q)(E.insideAngular))}}(yi())(E)}const Pa=(E,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ko(()=>E.apply(void 0,V))},_n=(E,D)=>function(){let S;const V=arguments;for(let Q=0;Q<arguments.length;Q++)"function"==typeof V[Q]&&(D&&(S||(S=Ko(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ln,{},Ln,Ln)))),V[Q]=Pa(V[Q],S));const W=function Ec(E){return yi().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,V));if(!D){if(W instanceof Er.y){const Q=yi();return W.pipe((0,Tl.R)(Q.outsideAngular),(0,zi.Q)(Q.insideAngular))}return Ko(()=>W)}return W instanceof Er.y?W.pipe(qu):W instanceof Promise?Ko(()=>new Promise((Q,ge)=>W.then(qe=>Ko(()=>Q(qe)),qe=>Ko(()=>ge(qe))))):"function"==typeof W&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),W.apply(this,arguments)}:Ko(()=>W)}},6878:(dt,Ce,F)=>{F.d(Ce,{$:()=>yu,A:()=>q,D:()=>ke,I:()=>mh,J:()=>nc,L:()=>It,N:()=>rr,P:()=>Bg,Q:()=>hm,R:()=>Uu,U:()=>Us,V:()=>wa,W:()=>Ea,X:()=>Ar,Y:()=>Ki,Z:()=>hu,_:()=>gh,a:()=>gi,a0:()=>ol,a1:()=>pm,a2:()=>gm,a3:()=>_m,a4:()=>al,a5:()=>cl,a6:()=>Mr,a7:()=>ll,a8:()=>zs,a9:()=>vm,aA:()=>re,aB:()=>Gu,aC:()=>ui,aD:()=>tn,aE:()=>Tn,aF:()=>ji,aG:()=>Ra,aH:()=>ni,aL:()=>cr,aO:()=>cc,aa:()=>Eh,ab:()=>xh,ac:()=>Eu,ad:()=>Pg,ae:()=>bm,af:()=>dl,ai:()=>wm,aj:()=>Ih,ak:()=>Tu,an:()=>Ng,ao:()=>Ch,aq:()=>Tt,ar:()=>pl,as:()=>Et,at:()=>gt,au:()=>ve,av:()=>te,aw:()=>kt,ax:()=>Ys,ay:()=>ht,az:()=>xe,b:()=>Ou,c:()=>ao,d:()=>Mm,e:()=>Ug,f:()=>gn,g:()=>Oa,h:()=>$r,i:()=>Nh,j:()=>Do,k:()=>Yo,l:()=>un,m:()=>Fa,p:()=>Me,r:()=>br,s:()=>Bi,u:()=>Am});var d=F(5861),j=F(9058),O=F(534),X=F(7582),se=F(7879),ce=F(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new se.Yd("@firebase/auth");function ct(b,...p){Ne.logLevel<=se.in.ERROR&&Ne.error(`Auth (${O.SDK_VERSION}): ${b}`,...p)}function te(b,...p){throw Fe(b,...p)}function xe(b,...p){return Fe(b,...p)}function le(b,p,_){const x=Object.assign(Object.assign({},We()),{[p]:_});return new j.LL("auth","Firebase",x).create(p,{appName:b.name})}function Ie(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&te(b,"argument-error"),le(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(b,...p){if("string"!=typeof b){const _=p[0],x=[...p.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return Re.create(b,...p)}function re(b,p,..._){if(!b)throw Fe(p,..._)}function lt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw ct(p),new Error(p)}function Et(b,p){b||lt(p)}function Jt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function pi(){return"http:"===nr()||"https:"===nr()}function nr(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Vr{constructor(p,_){this.shortDelay=p,this.longDelay=_,Et(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function _o(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pi()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Uo(b,p){Et(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class de{static initialize(p,_,x){this.fetchImpl=p,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new Vr(3e4,6e4);function ue(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function De(b,p,_,x){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(b,p,_,x,M={}){return Xe(b,M,(0,d.Z)(function*(){let N={},Y={};x&&("GET"===p?Y=x:N={body:JSON.stringify(x)});const me=(0,j.xO)(Object.assign({key:b.config.apiKey},Y)).slice(1),He=yield b._getAdditionalHeaders();return He["Content-Type"]="application/json",b.languageCode&&(He["X-Firebase-Locale"]=b.languageCode),de.fetch()(an(b,b.config.apiHost,_,me),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Xe(b,p,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(b,p,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},pe),p);try{const M=new Vt(b),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield N.json();if("needConfirmation"in Y)throw pn(b,"account-exists-with-different-credential",Y);if(N.ok&&!("errorMessage"in Y))return Y;{const me=N.ok?Y.errorMessage:Y.error.message,[He,Je]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw pn(b,"credential-already-in-use",Y);if("EMAIL_EXISTS"===He)throw pn(b,"email-already-in-use",Y);if("USER_DISABLED"===He)throw pn(b,"user-disabled",Y);const _t=x[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw le(b,_t,Je);te(b,_t)}}catch(M){if(M instanceof j.ZR)throw M;te(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function mn(b,p,_,x){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(b,p,_,x,M={}){const N=yield De(b,p,_,x,M);return"mfaPendingCredential"in N&&te(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function an(b,p,_,x){const M=`${p}${_}?${x}`;return b.config.emulator?Uo(b.config,M):`${b.config.apiScheme}://${M}`}class Vt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(xe(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(b,p,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const M=xe(b,p,x);return M.customData._tokenResponse=_,M}function jn(){return(jn=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Oi(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function yo(){return(yo=(0,d.Z)(function*(b,p=!1){const _=(0,j.m9)(b),x=yield _.getIdToken(p),M=Bt(x);re(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Y=N?.sign_in_provider;return{claims:M,token:x,authTime:Oi(pt(M.auth_time)),issuedAtTime:Oi(pt(M.iat)),expirationTime:Oi(pt(M.exp)),signInProvider:Y||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function pt(b){return 1e3*Number(b)}function Bt(b){const[p,_,x]=b.split(".");if(void 0===p||void 0===_||void 0===x)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(ct("Failed to decode base64 JWT payload"),null)}catch(M){return ct("Caught error parsing JWT payload as JSON",M?.toString()),null}}function en(b,p){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(x){throw x instanceof j.ZR&&function gr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class Kt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),x)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class ei{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vo(b){return bn.apply(this,arguments)}function bn(){return bn=(0,d.Z)(function*(b){var p;const _=b.auth,x=yield b.getIdToken(),M=yield en(b,function Tr(b,p){return eo.apply(this,arguments)}(_,{idToken:x}));re(M?.users.length,_,"internal-error");const N=M.users[0];b._notifyReloadListener(N);const Y=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?function to(b){return b.map(p=>{var{providerId:_}=p,x=(0,X._T)(p,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(N.providerUserInfo):[],me=function zn(b,p){return[...b.filter(x=>!p.some(M=>M.providerId===x.providerId)),...p]}(b.providerData,Y),_t=!!b.isAnonymous&&!(b.email&&N.passwordHash||me?.length),Qt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:me,metadata:new ei(N.createdAt,N.lastLoginAt),isAnonymous:_t};Object.assign(b,Qt)}),bn.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(b){const p=(0,j.m9)(b);yield vo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(b,p){const _=yield Xe(b,{},(0,d.Z)(function*(){const x=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:N}=b.config,Y=an(b,M,"/v1/token",`key=${N}`),me=yield b._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(Y,{method:"POST",headers:me,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){re(p.idToken,"internal-error"),re(typeof p.idToken<"u","internal-error"),re(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Pt(b){const p=Bt(b);return re(p,"internal-error"),re(typeof p.exp<"u","internal-error"),re(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var x=this;return(0,d.Z)(function*(){return re(!x.accessToken||x.refreshToken,p,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(p,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var x=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Y}=yield function jo(b,p){return Ni.apply(this,arguments)}(p,_);x.updateTokensAndExpiration(M,N,Number(Y))})()}updateTokensAndExpiration(p,_,x){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(p,_){const{refreshToken:x,accessToken:M,expirationTime:N}=_,Y=new qn;return x&&(re("string"==typeof x,"internal-error",{appName:p}),Y.refreshToken=x),M&&(re("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),N&&(re("number"==typeof N,"internal-error",{appName:p}),Y.expirationTime=N),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return lt("not implemented")}}function An(b,p){re("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class ti{constructor(p){var{uid:_,auth:x,stsTokenManager:M}=p,N=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ei(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,d.Z)(function*(){const x=yield en(_,_.stsTokenManager.getToken(_.auth,p));return re(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(p){return function ir(b){return yo.apply(this,arguments)}(this,p)}reload(){return function qi(b){return Lt.apply(this,arguments)}(this)}_assign(p){this!==p&&(re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new ti(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var x=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield vo(x)),yield x.auth._persistUserIfCurrent(x),M&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var p=this;return(0,d.Z)(function*(){const _=yield p.getIdToken();return yield en(p,function $n(b,p){return jn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var x,M,N,Y,me,He,Je,_t;const Qt=null!==(x=_.displayName)&&void 0!==x?x:void 0,xr=null!==(M=_.email)&&void 0!==M?M:void 0,Qs=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,Om=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,$g=null!==(me=_.tenantId)&&void 0!==me?me:void 0,Nm=null!==(He=_._redirectEventId)&&void 0!==He?He:void 0,Zu=null!==(Je=_.createdAt)&&void 0!==Je?Je:void 0,Qo=null!==(_t=_.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:La,emailVerified:Xo,isAnonymous:Nl,providerData:Va,stsTokenManager:Ku}=_;re(La&&Ku,p,"internal-error");const Pl=qn.fromJSON(this.name,Ku);re("string"==typeof La,p,"internal-error"),An(Qt,p.name),An(xr,p.name),re("boolean"==typeof Xo,p,"internal-error"),re("boolean"==typeof Nl,p,"internal-error"),An(Qs,p.name),An(Om,p.name),An($g,p.name),An(Nm,p.name),An(Zu,p.name),An(Qo,p.name);const $h=new ti({uid:La,auth:p,email:xr,emailVerified:Xo,displayName:Qt,isAnonymous:Nl,photoURL:Om,phoneNumber:Qs,tenantId:$g,stsTokenManager:Pl,createdAt:Zu,lastLoginAt:Qo});return Va&&Array.isArray(Va)&&($h.providerData=Va.map(Gg=>Object.assign({},Gg))),Nm&&($h._redirectEventId=Nm),$h}static _fromIdTokenResponse(p,_,x=!1){return(0,d.Z)(function*(){const M=new qn;M.updateFromServerResponse(_);const N=new ti({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:x});return yield vo(N),N})()}}const Vn=new Map;function ui(b){Et(b instanceof Function,"Expected a class definition");let p=Vn.get(b);return p?(Et(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Vn.set(b,p),p)}const rr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,x){var M=this;return(0,d.Z)(function*(){M.storage[_]=x})()}_get(_){var x=this;return(0,d.Z)(function*(){const M=x.storage[_];return void 0===M?null:M})()}_remove(_){var x=this;return(0,d.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function tn(b,p,_){return`firebase:${b}:${p}:${_}`}class G{constructor(p,_,x){this.persistence=p,this.auth=_,this.userKey=x;const{config:M,name:N}=this.auth;this.fullUserKey=tn(this.userKey,M.apiKey,N),this.fullPersistenceKey=tn("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?ti._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,d.Z)(function*(){if(_.persistence===p)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,x="authUser"){return(0,d.Z)(function*(){if(!_.length)return new G(ui(rr),p,x);const M=(yield Promise.all(_.map(function(){var Je=(0,d.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let N=M[0]||ui(rr);const Y=tn(x,p.config.apiKey,p.name);let me=null;for(const Je of _)try{const _t=yield Je._get(Y);if(_t){const Qt=ti._fromJSON(p,_t);Je!==N&&(me=Qt),N=Je;break}}catch{}const He=M.filter(Je=>Je._shouldAllowMigration);return N._shouldAllowMigration&&He.length?(N=He[0],me&&(yield N._set(Y,me.toJSON())),yield Promise.all(_.map(function(){var Je=(0,d.Z)(function*(_t){if(_t!==N)try{yield _t._remove(Y)}catch{}});return function(_t){return Je.apply(this,arguments)}}())),new G(N,p,x)):new G(N,p,x)})()}}function H(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ye(p))return"Blackberry";if(xt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||R(p))&&!p.includes("edge/"))return"Chrome";if(ve(p))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function P(b=(0,j.z$)()){return/firefox\//i.test(b)}function L(b=(0,j.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function R(b=(0,j.z$)()){return/crios\//i.test(b)}function J(b=(0,j.z$)()){return/iemobile/i.test(b)}function ve(b=(0,j.z$)()){return/android/i.test(b)}function Ye(b=(0,j.z$)()){return/blackberry/i.test(b)}function xt(b=(0,j.z$)()){return/webos/i.test(b)}function gt(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ht(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Ut(b=(0,j.z$)()){return gt(b)||ve(b)||xt(b)||Ye(b)||/windows phone/i.test(b)||J(b)}function Pi(b,p=[]){let _;switch(b){case"Browser":_=H((0,j.z$)());break;case"Worker":_=`${H((0,j.z$)())}-${b}`;break;default:_=b}const x=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${x}`}function oe(){return(oe=(0,d.Z)(function*(b){return(yield De(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(b,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(b,p){return De(b,"GET","/v2/recaptchaConfig",ue(b,p))})).apply(this,arguments)}function Rt(b){return void 0!==b&&void 0!==b.getResponse}function qt(b){return void 0!==b&&void 0!==b.enterprise}class rn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Wn(b){return new Promise((p,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=p,x.onerror=M=>{const N=xe("internal-error");N.customData=M,_(N)},x.type="text/javascript",x.charset="UTF-8",function Ci(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(x)})}function ds(b){return`__${b}${Math.floor(1e6*Math.random())}`}class _r{constructor(p){this.type="recaptcha-enterprise",this.auth=ni(p)}verify(p="verify",_=!1){var x=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(me){if(!_){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var He=(0,d.Z)(function*(Je,_t){Le(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qt=>{if(void 0!==Qt.recaptchaKey){const xr=new rn(Qt);return null==me.tenantId?me._agentRecaptchaConfig=xr:me._tenantRecaptchaConfigs[me.tenantId]=xr,Je(xr.siteKey)}_t(new Error("recaptcha Enterprise site key undefined"))}).catch(Qt=>{_t(Qt)})});return function(Je,_t){return He.apply(this,arguments)}}())}),N.apply(this,arguments)}function Y(me,He,Je){const _t=window.grecaptcha;qt(_t)?_t.enterprise.ready(()=>{_t.enterprise.execute(me,{action:p}).then(Qt=>{He(Qt)}).catch(()=>{He("NO_RECAPTCHA")})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,He)=>{(function M(me){return N.apply(this,arguments)})(x.auth).then(Je=>{if(!_&&qt(window.grecaptcha))Y(Je,me,He);else{if(typeof window>"u")return void He(new Error("RecaptchaVerifier is only supported in browser"));Wn("https://www.google.com/recaptcha/enterprise.js?render="+Je).then(()=>{Y(Je,me,He)}).catch(_t=>{He(_t)})}}).catch(Je=>{He(Je)})})})()}}function hs(b,p,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(b,p,_,x=!1){const M=new _r(b);let N;try{N=yield M.verify(_)}catch{N=yield M.verify(_,!0)}const Y=Object.assign({},p);return Object.assign(Y,x?{captchaResp:N}:{captchaResponse:N}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class lm{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const x=N=>new Promise((Y,me)=>{try{Y(p(N))}catch(He){me(He)}});x.onAbort=_,this.queue.push(x);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===p)return;const x=[];try{for(const M of _.queue)yield M(p),M.onAbort&&x.push(M.onAbort)}catch(M){x.reverse();for(const N of x)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Qc{constructor(p,_,x,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rg(this),this.idTokenSubscription=new Rg(this),this.beforeStateQueue=new lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var x=this;return _&&(this._popupRedirectResolver=ui(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,N;if(!x._deleted&&(x.persistenceManager=yield G.create(x,p),!x._deleted)){if(null!==(M=x._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(N=x.currentUser)||void 0===N?void 0:N.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,d.Z)(function*(){var x;const M=yield _.assertedPersistence.getCurrentUser();let N=M,Y=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const me=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,He=N?._redirectEventId,Je=yield _.tryRedirectSignIn(p);(!me||me===He)&&Je?.user&&(N=Je.user,Y=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(N)}catch(me){N=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(me))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var _=this;return(0,d.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,d.Z)(function*(){try{yield vo(p)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function On(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,d.Z)(function*(){const x=p?(0,j.m9)(p):null;return x&&re(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(p,_=!1){var x=this;return(0,d.Z)(function*(){if(!x._deleted)return p&&re(x.tenantId===p.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(p)),x.queue((0,d.Z)(function*(){yield x.directlySetCurrentUser(p),x.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(ui(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const _=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new rn(_);null==p.tenantId?p._agentRecaptchaConfig=x:p._tenantRecaptchaConfigs[p.tenantId]=x,x.emailPasswordEnabled&&new _r(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,x){return this.registerStateListener(this.authStateSubscription,p,_,x)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,x){return this.registerStateListener(this.idTokenSubscription,p,_,x)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var x=this;return(0,d.Z)(function*(){const M=yield x.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const x=p&&ui(p)||_._popupRedirectResolver;re(x,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[ui(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,d.Z)(function*(){var x,M;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,d.Z)(function*(){if(p===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,x,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return re(Y,this,"internal-error"),Y.then(()=>N(this.currentUser)),"function"==typeof _?p.addObserver(_,x,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var _;const x={"X-Client-Version":p.clientVersion};p.app.options.appId&&(x["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(x["X-Firebase-Client"]=M);const N=yield p._getAppCheckToken();return N&&(x["X-Firebase-AppCheck"]=N),x})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var _;const x=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function yt(b,...p){Ne.logLevel<=se.in.WARN&&Ne.warn(`Auth (${O.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function ni(b){return(0,j.m9)(b)}class Rg{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mh(b,p,_){const x=ni(b);re(x._canInitEmulator,x,"emulator-config-failed"),re(/^https?:\/\//.test(p),x,"invalid-emulator-scheme");const M=!!_?.disableWarnings,N=Xc(p),{host:Y,port:me}=function ga(b){const p=Xc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(x);if(M){const N=M[1];return{host:N,port:uu(x.substr(N.length+1))}}{const[N,Y]=x.split(":");return{host:N,port:uu(Y)}}}(p);x.config.emulator={url:`${N}//${Y}${null===me?"":`:${me}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Y,port:me,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function um(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Xc(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function uu(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class nc{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return lt("not implemented")}_getIdTokenResponse(p){return lt("not implemented")}_linkToIdToken(p,_){return lt("not implemented")}_getReauthenticationResolver(p){return lt("not implemented")}}function ic(b,p){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:resetPassword",ue(b,p))})).apply(this,arguments)}function rc(b,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:update",ue(b,p))})).apply(this,arguments)}function Di(b,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithPassword",ue(b,p))})).apply(this,arguments)}function zo(b,p){return or.apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:sendOobCode",ue(b,p))})).apply(this,arguments)}function oc(){return(oc=(0,d.Z)(function*(b,p){return zo(b,p)})).apply(this,arguments)}function ya(b,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(b,p){return zo(b,p)})).apply(this,arguments)}function ph(b,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(b,p){return zo(b,p)})).apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(b,p){return zo(b,p)})).apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithEmailLink",ue(b,p))})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithEmailLink",ue(b,p))})).apply(this,arguments)}class Ho extends nc{constructor(p,_,x,M=null){super("password",x),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Ho(p,_,"password")}static _fromEmailAndCode(p,_,x=null){return new Ho(p,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,d.Z)(function*(){var x;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=p._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const N=yield hs(p,M,"signInWithPassword");return Di(p,N)}return Di(p,M).catch(function(){var N=(0,d.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield hs(p,M,"signInWithPassword");return Di(p,me)}return Promise.reject(Y)});return function(Y){return N.apply(this,arguments)}}());case"emailLink":return function Hn(b,p){return sr.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:te(p,"internal-error")}})()}_linkToIdToken(p,_){var x=this;return(0,d.Z)(function*(){switch(x.signInMethod){case"password":return rc(p,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function el(b,p){return Fi.apply(this,arguments)}(p,{idToken:_,email:x._email,oobCode:x._password});default:te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function xn(b,p){return no.apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithIdp",ue(b,p))})).apply(this,arguments)}class It extends nc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new It(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M}=_,N=(0,X._T)(_,["providerId","signInMethod"]);if(!x||!M)return null;const Y=new It(x,M);return Y.idToken=N.idToken||void 0,Y.accessToken=N.accessToken||void 0,Y.secret=N.secret,Y.nonce=N.nonce,Y.pendingToken=N.pendingToken||null,Y}_getIdTokenResponse(p){return xn(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,xn(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,xn(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function tl(){return(tl=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:sendVerificationCode",ue(b,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithPhoneNumber",ue(b,p))})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(b,p){const _=yield mn(b,"POST","/v1/accounts:signInWithPhoneNumber",ue(b,p));if(_.temporaryProof)throw pn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Sr={USER_NOT_FOUND:"user-not-found"};function il(){return(il=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithPhoneNumber",ue(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Sr)})).apply(this,arguments)}class Li extends nc{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Li({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Li({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function ms(b,p){return Nn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function nl(b,p){return Vs.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function va(b,p){return il.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:x,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:x,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:N}=p;return x||_||M||N?new Li({verificationId:_,verificationCode:x,phoneNumber:M,temporaryProof:N}):null}}class io{constructor(p){var _,x,M,N,Y,me;const He=(0,j.zd)((0,j.pd)(p)),Je=null!==(_=He.apiKey)&&void 0!==_?_:null,_t=null!==(x=He.oobCode)&&void 0!==x?x:null,Qt=function ar(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);re(Je&&_t&&Qt,"argument-error"),this.apiKey=Je,this.operation=Qt,this.code=_t,this.continueUrl=null!==(N=He.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Y=He.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(me=He.tenantId)&&void 0!==me?me:null}static parseLink(p){const _=function ba(b){const p=(0,j.zd)((0,j.pd)(b)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,x=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(x?(0,j.zd)((0,j.pd)(x)).link:null)||x||_||p||b}(p);try{return new io(_)}catch{return null}}}let hm=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Ho._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const M=io.parseLink(x);return re(M,"argument-error"),Ho._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class bo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Bs extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ar extends Bs{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return re("providerId"in _&&"signInMethod"in _,"argument-error"),It._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return re(p.idToken||p.accessToken,"argument-error"),It._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ar.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ar.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:M,pendingToken:N,nonce:Y,providerId:me}=p;if(!x&&!M&&!_&&!N||!me)return null;try{return new Ar(me)._credential({idToken:_,accessToken:x,nonce:Y,pendingToken:N})}catch{return null}}}let Us=(()=>{class b extends Bs{constructor(){super("facebook.com")}static credential(_){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),wa=(()=>{class b extends Bs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:M}=_;if(!x&&!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ea=(()=>{class b extends Bs{constructor(){super("github.com")}static credential(_){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class cc extends nc{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return xn(p,this.buildRequest())}_linkToIdToken(p,_){const x=this.buildRequest();return x.idToken=_,xn(p,x)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,xn(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:M,pendingToken:N}=_;return x&&M&&N&&x===M?new cc(x,N):null}static _create(p,_){return new cc(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ki extends bo{constructor(p){re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ki.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ki.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=cc.fromJSON(p);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:x}=p;if(!_||!x)return null;try{return cc._create(x,_)}catch{return null}}}let hu=(()=>{class b extends Bs{constructor(){super("twitter.com")}static credential(_,x){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:M}=_;if(!x||!M)return null;try{return b.credential(x,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ro(b,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signUp",ue(b,p))})).apply(this,arguments)}class Mn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,x,M=!1){return(0,d.Z)(function*(){const N=yield ti._fromIdTokenResponse(p,x,M),Y=xa(x);return new Mn({user:N,providerId:Y,_tokenResponse:x,operationType:_})})()}static _forOperation(p,_,x){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(x,!0);const M=xa(x);return new Mn({user:p,providerId:M,_tokenResponse:x,operationType:_})})()}}function xa(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function gh(b){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(b){var p;const _=ni(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Mn({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield ro(_,{returnSecureToken:!0}),M=yield Mn._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class mu extends j.ZR{constructor(p,_,x,M){var N;super(_.code,_.message),this.operationType=x,this.user=M,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(p,_,x,M){return new mu(p,_,x,M)}}function pu(b,p,_,x){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?mu._fromErrorAndOperation(b,N,p,x):N})}function fm(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Ng(b,p){return _h.apply(this,arguments)}function _h(){return _h=(0,d.Z)(function*(b,p){const _=(0,j.m9)(b);yield _u(!0,_,p);const{providerUserInfo:x}=yield function hn(b,p){return ci.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=fm(x||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),_h.apply(this,arguments)}function wo(b,p){return gu.apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(b,p,_=!1){const x=yield en(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Mn._forOperation(b,"link",x)})).apply(this,arguments)}function _u(b,p,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(b,p,_){yield vo(p);const M=!1===b?"provider-already-linked":"no-such-provider";re(fm(p.providerData).has(_)===b,p.auth,M)})).apply(this,arguments)}function mm(b,p){return yh.apply(this,arguments)}function yh(){return(yh=(0,d.Z)(function*(b,p,_=!1){const{auth:x}=b,M="reauthenticate";try{const N=yield en(b,pu(x,M,p,b),_);re(N.idToken,x,"internal-error");const Y=Bt(N.idToken);re(Y,x,"internal-error");const{sub:me}=Y;return re(b.uid===me,x,"user-mismatch"),Mn._forOperation(b,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&te(x,"user-mismatch"),N}})).apply(this,arguments)}function vh(b,p){return bh.apply(this,arguments)}function bh(){return(bh=(0,d.Z)(function*(b,p,_=!1){const x="signIn",M=yield pu(b,x,p),N=yield Mn._fromIdTokenResponse(b,x,M);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function yu(b,p){return wh.apply(this,arguments)}function wh(){return(wh=(0,d.Z)(function*(b,p){return vh(ni(b),p)})).apply(this,arguments)}function ol(b,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(b,p){const _=(0,j.m9)(b);return yield _u(!1,_,p.providerId),wo(_,p)})).apply(this,arguments)}function pm(b,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(b,p){return mm((0,j.m9)(b),p)})).apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(b,p){return mn(b,"POST","/v1/accounts:signInWithCustomToken",ue(b,p))})).apply(this,arguments)}function gm(b,p){return sl.apply(this,arguments)}function sl(){return sl=(0,d.Z)(function*(b,p){const _=ni(b),x=yield function bv(b,p){return gs.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Mn._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(M.user),M}),sl.apply(this,arguments)}class yr{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?bu._fromServerResponse(p,_):"totpInfo"in _?lc._fromServerResponse(p,_):te(p,"internal-error")}}class bu extends yr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new bu(_)}}class lc extends yr{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new lc(_)}}function uc(b,p,_){var x;re((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),re(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function _m(b,p,_){return ym.apply(this,arguments)}function ym(){return ym=(0,d.Z)(function*(b,p,_){var x;const M=ni(b),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Y=yield hs(M,N,"getOobCode",!0);_&&uc(M,Y,_),yield ya(M,Y)}else _&&uc(M,N,_),yield ya(M,N).catch(function(){var Y=(0,d.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const He=yield hs(M,N,"getOobCode",!0);_&&uc(M,He,_),yield ya(M,He)}});return function(me){return Y.apply(this,arguments)}}())}),ym.apply(this,arguments)}function al(b,p,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(b,p,_){yield ic((0,j.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function cl(b,p){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,d.Z)(function*(b,p){yield function dm(b,p){return jt.apply(this,arguments)}((0,j.m9)(b),{oobCode:p})}),Kn.apply(this,arguments)}function Mr(b,p){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(b,p){const _=(0,j.m9)(b),x=yield ic(_,{oobCode:p}),M=x.requestType;switch(re(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(x.mfaInfo,_,"internal-error");default:re(x.email,_,"internal-error")}let N=null;return x.mfaInfo&&(N=yr._fromServerResponse(ni(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function ll(b,p){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(b,p){const{data:_}=yield Mr((0,j.m9)(b),p);return _.email})).apply(this,arguments)}function zs(b,p,_){return ul.apply(this,arguments)}function ul(){return ul=(0,d.Z)(function*(b,p,_){var x;const M=ni(b),N={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Je=yield hs(M,N,"signUpPassword");Y=ro(M,Je)}else Y=ro(M,N).catch(function(){var Je=(0,d.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qt=yield hs(M,N,"signUpPassword");return ro(M,Qt)}return Promise.reject(_t)});return function(_t){return Je.apply(this,arguments)}}());const me=yield Y.catch(Je=>Promise.reject(Je)),He=yield Mn._fromIdTokenResponse(M,"signIn",me);return yield M._updateCurrentUser(He.user),He}),ul.apply(this,arguments)}function vm(b,p,_){return yu((0,j.m9)(b),hm.credential(p,_))}function Eh(b,p,_){return _s.apply(this,arguments)}function _s(){return _s=(0,d.Z)(function*(b,p,_){var x;const M=ni(b),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Y(me,He){re(He.handleCodeInApp,M,"argument-error"),He&&uc(M,me,He)}if(null!==(x=M._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const me=yield hs(M,N,"getOobCode",!0);Y(me,_),yield ph(M,me)}else Y(N,_),yield ph(M,N).catch(function(){var me=(0,d.Z)(function*(He){if("auth/missing-recaptcha-token"!==He.code)return Promise.reject(He);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield hs(M,N,"getOobCode",!0);Y(Je,_),yield ph(M,Je)}});return function(He){return me.apply(this,arguments)}}())}),_s.apply(this,arguments)}function xh(b,p){const _=io.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}function Eu(b,p,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=hm.credentialWithLink(p,_||Jt());return re(M._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),yu(x,M)})).apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:createAuthUri",ue(b,p))})).apply(this,arguments)}function Pg(b,p){return dc.apply(this,arguments)}function dc(){return dc=(0,d.Z)(function*(b,p){const x={identifier:p,continueUri:pi()?Jt():"http://localhost"},{signinMethods:M}=yield function wv(b,p){return xu.apply(this,arguments)}((0,j.m9)(b),x);return M||[]}),dc.apply(this,arguments)}function bm(b,p){return hc.apply(this,arguments)}function hc(){return hc=(0,d.Z)(function*(b,p){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&uc(_.auth,M,p);const{email:N}=yield function Jc(b,p){return oc.apply(this,arguments)}(_.auth,M);N!==b.email&&(yield b.reload())}),hc.apply(this,arguments)}function dl(b,p,_){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&uc(x.auth,N,_);const{email:Y}=yield function it(b,p){return Ft.apply(this,arguments)}(x.auth,N);Y!==b.email&&(yield b.reload())}),Ia.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(b,p){return De(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wm(b,p){return Du.apply(this,arguments)}function Du(){return Du=(0,d.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const x=(0,j.m9)(b),N={idToken:yield x.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Y=yield en(x,function Iu(b,p){return Cu.apply(this,arguments)}(x.auth,N));x.displayName=Y.displayName||null,x.photoURL=Y.photoUrl||null;const me=x.providerData.find(({providerId:He})=>"password"===He);me&&(me.displayName=x.displayName,me.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Y)}),Du.apply(this,arguments)}function Ih(b,p){return Su((0,j.m9)(b),p,null)}function Tu(b,p){return Su((0,j.m9)(b),null,p)}function Su(b,p,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(b,p,_){const{auth:x}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(N.email=p),_&&(N.password=_);const Y=yield en(b,rc(x,N));yield b._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Hs{constructor(p,_,x={}){this.isNewUser=p,this.providerId=_,this.profile=x}}class Cn extends Hs{constructor(p,_,x,M){super(p,_,x),this.username=M}}class hl extends Hs{constructor(p,_){super(p,"facebook.com",_)}}class Ca extends Cn{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Yi extends Hs{constructor(p,_){super(p,"google.com",_)}}class Da extends Cn{constructor(p,_,x){super(p,"twitter.com",_,x)}}function Ch(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Au(b){var p,_;if(!b)return null;const{providerId:x}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const Y=null===(_=null===(p=Bt(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new Hs(N,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!x)return null;switch(x){case"facebook.com":return new hl(N,M);case"github.com":return new Ca(N,M);case"google.com":return new Yi(N,M);case"twitter.com":return new Da(N,M,b.screenName||null);case"custom":case"anonymous":return new Hs(N,null);default:return new Hs(N,x,M)}}(_)}class jr{constructor(p,_,x){this.type=p,this.credential=_,this.auth=x}static _fromIdtoken(p,_){return new jr("enroll",p,_)}static _fromMfaPendingCredential(p){return new jr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,x;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return jr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(x=p.multiFactorSession)&&void 0!==x&&x.idToken)return jr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ml{constructor(p,_,x){this.session=p,this.hints=_,this.signInResolver=x}static _fromError(p,_){const x=ni(p),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(me=>yr._fromServerResponse(x,me));re(M.mfaPendingCredential,x,"internal-error");const Y=jr._fromMfaPendingCredential(M.mfaPendingCredential);return new ml(Y,N,function(){var me=(0,d.Z)(function*(He){const Je=yield He._process(x,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const _t=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(_.operationType){case"signIn":const Qt=yield Mn._fromIdTokenResponse(x,_.operationType,_t);return yield x._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return re(_.user,x,"internal-error"),Mn._forOperation(_.user,_.operationType,_t);default:te(x,"internal-error")}});return function(He){return me.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,d.Z)(function*(){return _.signInResolver(p)})()}}function Tt(b,p){var _;const x=(0,j.m9)(b),M=p;return re(p.customData.operationType,x,"argument-error"),re(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),ml._fromError(x,M)}class fc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>yr._fromServerResponse(p.auth,x)))})}static _fromUser(p){return new fc(p)}getSession(){var p=this;return(0,d.Z)(function*(){return jr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var x=this;return(0,d.Z)(function*(){const M=p,N=yield x.getSession(),Y=yield en(x.user,M._process(x.user.auth,N,_));return yield x.user._updateTokensIfNecessary(Y),x.user.reload()})()}unenroll(p){var _=this;return(0,d.Z)(function*(){const x="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const N=yield en(_.user,function xm(b,p){return De(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(b,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==x),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const zr=new WeakMap;function pl(b){const p=(0,j.m9)(b);return zr.has(p)||zr.set(p,fc._fromUser(p)),zr.get(p)}const mc="__sak";class Im{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ou=(()=>{class b extends Im{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mh(){const b=(0,j.z$)();return L(b)||gt(b)}()&&function Ii(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const M=this.storage.getItem(x),N=this.localCache[x];M!==N&&_(x,N,M)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((me,He,Je)=>{this.notifyListeners(me,Je)});const M=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!x)return}const N=()=>{const me=this.storage.getItem(M);!x&&this.localCache[M]===me||this.notifyListeners(M,me)},Y=this.storage.getItem(M);!function En(){return(0,j.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var M=()=>super._set,N=this;return(0,d.Z)(function*(){yield M().call(N,_,x),N.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,M=this;return(0,d.Z)(function*(){const N=yield x().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var x=()=>super._remove,M=this;return(0,d.Z)(function*(){yield x().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),gi=(()=>{class b extends Im{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let _l=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(N=>N.isListeningto(_));if(x)return x;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,d.Z)(function*(){const M=_,{eventId:N,eventType:Y,data:me}=M.data,He=x.handlersMap[Y];if(!He?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Y});const Je=Array.from(He).map(function(){var Qt=(0,d.Z)(function*(xr){return xr(M.origin,me)});return function(xr){return Qt.apply(this,arguments)}}()),_t=yield function Dm(b){return Promise.all(b.map(function(){var p=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:N,eventType:Y,response:_t})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function cr(b="",p=10){let _="";for(let x=0;x<p;x++)_+=Math.floor(10*Math.random());return b+_}class Tm{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,x=50){var M=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Y,me;return new Promise((He,Je)=>{const _t=cr("",20);N.port1.start();const Qt=setTimeout(()=>{Je(new Error("unsupported_event"))},x);me={messageChannel:N,onMessage(xr){const Qs=xr;if(Qs.data.eventId===_t)switch(Qs.data.status){case"ack":clearTimeout(Qt),Y=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),He(Qs.data.response);break;default:clearTimeout(Qt),clearTimeout(Y),Je(new Error("invalid_response"))}}},M.handlers.add(me),N.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:p,eventId:_t,data:_},[N.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function Yn(){return window}function kh(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Vi(){return(Vi=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Un="firebaseLocalStorageDb",_i="firebaseLocalStorage",vl="fbase_key";class pc{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function bl(b,p){return b.transaction([_i],p?"readwrite":"readonly").objectStore(_i)}function gc(){const b=indexedDB.open(Un,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(_i,{keyPath:vl})}catch(M){_(M)}}),b.addEventListener("success",(0,d.Z)(function*(){const x=b.result;x.objectStoreNames.contains(_i)?p(x):(x.close(),yield function Oh(){const b=indexedDB.deleteDatabase(Un);return new pc(b).toPromise()}(),p(yield gc()))}))})}function wl(b,p,_){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(b,p,_){const x=bl(b,!0).put({[vl]:p,value:_});return new pc(x).toPromise()})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(b,p){const _=bl(b,!1).get(p),x=yield new pc(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function El(b,p){const _=bl(b,!0).delete(p);return new pc(_).toPromise()}const Nh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield gc()),_.db})()}_withRetries(_){var x=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const N=yield x._openDb();return yield _(N)}catch(N){if(M++>3)throw N;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return kh()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=_l._getInstance(function yl(){return kh()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,d.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,d.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var x,M;if(_.activeServiceWorker=yield function Rh(){return Vi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Tm(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(x=N[0])&&void 0!==x&&x.fulfilled&&null!==(M=N[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,d.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function xo(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield gc();return yield wl(_,mc,"1"),yield El(_,mc),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,d.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(N=>wl(N,_,x)),M.localCache[_]=x,M.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,d.Z)(function*(){const M=yield x._withRetries(N=>function bs(b,p){return Sa.apply(this,arguments)}(N,_));return x.localCache[_]=M,M})()}_remove(_){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(M=>El(M,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const x=yield _._withRetries(Y=>{const me=bl(Y,!1).getAll();return new pc(me).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Y,value:me}of x)N.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(me)&&(_.notifyListeners(Y,me),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!N.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,x){this.localCache[_]=x;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Pn=1e12;class Fu{constructor(p){this.auth=p,this.counter=Pn,this._widgets=new Map}render(p,_){const x=this.counter;return this._widgets.set(x,new Sm(p,this.auth.name,_||{})),this.counter++,x}reset(p){var _;const x=p||Pn;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Pn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,d.Z)(function*(){var x;return null===(x=_._widgets.get(p||Pn))||void 0===x||x.execute(),""})()}}class Sm{constructor(p,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;re(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Aa(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lu=ds("rcb"),Vu=new Vr(3e4,6e4);class _c{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Yn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return re(function $s(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Rt(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((x,M)=>{const N=Yn().setTimeout(()=>{M(xe(p,"network-request-failed"))},Vu.get());Yn()[Lu]=()=>{Yn().clearTimeout(N),delete Yn()[Lu];const me=Yn().grecaptcha;if(!me||!Rt(me))return void M(xe(p,"internal-error"));const He=me.render;me.render=(Je,_t)=>{const Qt=He(Je,_t);return this.counter++,Qt},this.hostLanguage=_,x(me)},Wn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Lu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(xe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Yn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lh{load(p){return(0,d.Z)(function*(){return new Fu(p)})()}clearedOneInstance(){}}const Il="recaptcha",yc={theme:"light",type:"image"};class Uu{constructor(p,_=Object.assign({},yc),x){this.parameters=_,this.type=Il,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ni(x),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lh:new _c,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),x=p.getAssertedRecaptcha();return x.getResponse(_)||new Promise(N=>{const Y=me=>{me&&(p.tokenChangeListeners.delete(Y),N(me))};p.tokenChangeListeners.add(Y),p.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof p)p(_);else if("string"==typeof p){const x=Yn()[p];"function"==typeof x&&x(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){re(pi()&&!kh(),p.auth,"internal-error"),yield function Cl(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function _e(b){return oe.apply(this,arguments)}(p.auth);re(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ri{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Li._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Bi(b,p,_){return ju.apply(this,arguments)}function ju(){return(ju=(0,d.Z)(function*(b,p,_){const x=ni(b),M=yield Gs(x,p,(0,j.m9)(_));return new ri(M,N=>yu(x,N))})).apply(this,arguments)}function un(b,p,_){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b);yield _u(!1,x,"phone");const M=yield Gs(x.auth,p,(0,j.m9)(_));return new ri(M,N=>ol(x,N))})).apply(this,arguments)}function br(b,p,_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b),M=yield Gs(x.auth,p,(0,j.m9)(_));return new ri(M,N=>pm(x,N))})).apply(this,arguments)}function Gs(b,p,_){return zu.apply(this,arguments)}function zu(){return zu=(0,d.Z)(function*(b,p,_){var x;const M=yield _.verify();try{let N;if(re("string"==typeof M,b,"argument-error"),re(_.type===Il,b,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const Y=N.session;if("phoneNumber"in N)return re("enroll"===Y.type,b,"internal-error"),(yield function ku(b,p){return De(b,"POST","/v2/accounts/mfaEnrollment:start",ue(b,p))}(b,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{re("signin"===Y.type,b,"internal-error");const me=(null===(x=N.multiFactorHint)||void 0===x?void 0:x.uid)||N.multiFactorUid;return re(me,b,"missing-multi-factor-info"),(yield function Ph(b,p){return De(b,"POST","/v2/accounts/mfaSignIn:start",ue(b,p))}(b,{mfaPendingCredential:Y.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function ac(b,p){return tl.apply(this,arguments)}(b,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}}),zu.apply(this,arguments)}function Am(b,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(b,p){yield wo((0,j.m9)(b),p)})).apply(this,arguments)}let Bg=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=ni(_)}verifyPhoneNumber(_,x){return Gs(this.auth,_,(0,j.m9)(x))}static credential(_,x){return Li._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:M}=_;return x&&M?Li._fromTokenResponse(x,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function so(b,p){return p?ui(p):(re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class st extends nc{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return xn(p,this._buildIdpRequest())}_linkToIdToken(p,_){return xn(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return xn(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function kr(b){return vh(b.auth,new st(b),b.bypassAuthState)}function Vh(b){const{auth:p,user:_}=b;return re(_,p,"internal-error"),mm(_,new st(b),b.bypassAuthState)}function qs(b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(b){const{auth:p,user:_}=b;return re(_,p,"internal-error"),wo(_,new st(b),b.bypassAuthState)})).apply(this,arguments)}class Ws{constructor(p,_,x,M,N=!1){this.auth=p,this.resolver=x,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,d.Z)(function*(x,M){p.pendingPromise={resolve:x,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(x,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,d.Z)(function*(){const{urlResponse:x,sessionId:M,postBody:N,tenantId:Y,error:me,type:He}=p;if(me)return void _.reject(me);const Je={auth:_.auth,requestUri:x,sessionId:M,tenantId:Y||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(He)(Je))}catch(_t){_.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return kr;case"linkViaPopup":case"linkViaRedirect":return qs;case"reauthViaPopup":case"reauthViaRedirect":return Vh;default:te(this.auth,"internal-error")}}resolve(p){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new Vr(2e3,1e4);function ao(b,p,_){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(b,p,_){const x=ni(b);Ie(b,p,bo);const M=so(x,_);return new Go(x,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Ug(b,p,_){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b);Ie(x.auth,p,bo);const M=so(x.auth,_);return new Go(x.auth,"reauthViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}function Mm(b,p,_){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b);Ie(x.auth,p,bo);const M=so(x.auth,_);return new Go(x.auth,"linkViaPopup",p,M,x).executeNotNull()})).apply(this,arguments)}let Go=(()=>{class b extends Ws{constructor(_,x,M,N,Y){super(_,x,N,Y),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const x=yield _.execute();return re(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,d.Z)(function*(){Et(1===_.filter.length,"Popup operations only handle one event");const x=cr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,M;this.pollId=null!==(M=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Ui.get())};_()}}return b.currentPopupAction=null,b})();const Bh="pendingRedirect",wr=new Map;class qo extends Ws{constructor(p,_,x=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,d.Z)(function*(){let x=wr.get(_.auth._key());if(!x){try{const N=(yield function Hu(b,p){return ka.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;x=()=>Promise.resolve(N)}catch(M){x=()=>Promise.reject(M)}wr.set(_.auth._key(),x)}return _.bypassAuthState||wr.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,x=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(x,p);if("unknown"!==p.type){if(p.eventId){const M=yield x.auth._redirectUserForId(p.eventId);if(M)return x.user=M,_().call(x,p);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ka(){return(ka=(0,d.Z)(function*(b,p){const _=Zo(p),x=Zs(b);if(!(yield x._isAvailable()))return!1;const M="true"===(yield x._get(_));return yield x._remove(_),M})).apply(this,arguments)}function Wo(b,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(b,p){return Zs(b)._set(Zo(p),"true")})).apply(this,arguments)}function Ra(){wr.clear()}function ji(b,p){wr.set(b._key(),p)}function Zs(b){return ui(b._redirectPersistence)}function Zo(b){return tn(Bh,b.config.apiKey,b.name)}function gn(b,p,_){return function Fn(b,p,_){return Qn.apply(this,arguments)}(b,p,_)}function Qn(){return(Qn=(0,d.Z)(function*(b,p,_){const x=ni(b);Ie(b,p,bo),yield x._initializationPromise;const M=so(x,_);return yield Wo(M,x),M._openRedirect(x,p,"signInViaRedirect")})).apply(this,arguments)}function $r(b,p,_){return function Dn(b,p,_){return di.apply(this,arguments)}(b,p,_)}function di(){return(di=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b);Ie(x.auth,p,bo),yield x.auth._initializationPromise;const M=so(x.auth,_);yield Wo(M,x.auth);const N=yield Tl(x);return M._openRedirect(x.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function Oa(b,p,_){return function Uh(b,p,_){return $u.apply(this,arguments)}(b,p,_)}function $u(){return($u=(0,d.Z)(function*(b,p,_){const x=(0,j.m9)(b);Ie(x.auth,p,bo),yield x.auth._initializationPromise;const M=so(x.auth,_);yield _u(!1,x,p.providerId),yield Wo(M,x.auth);const N=yield Tl(x);return M._openRedirect(x.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function Do(b,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(b,p){return yield ni(b)._initializationPromise,Tn(b,p,!1)})).apply(this,arguments)}function Tn(b,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(b,p,_=!1){const x=ni(b),M=so(x,p),Y=yield new qo(x,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield x._persistUserIfCurrent(Y.user),yield x._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Tl(b){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(b){const p=cr(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Gu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(p,x)&&(_=!0,this.sendToConsumer(p,x),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ht(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Na(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var x;if(p.error&&!Na(p)){const M=(null===(x=p.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const x=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&x}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ks(p))}saveEventToCache(p){this.cachedEventUids.add(Ks(p)),this.lastProcessedEventTime=Date.now()}}function Ks(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Na({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Ys(b){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(b,p={}){return De(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ev=/^https?/;function Gr(){return(Gr=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Ys(b);for(const _ of p)try{if(jh(_))return}catch{}te(b,"unauthorized-domain")})).apply(this,arguments)}function jh(b){const p=Jt(),{protocol:_,hostname:x}=new URL(p);if(b.startsWith("chrome-extension://")){const Y=new URL(b);return""===Y.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===x}if(!Ev.test(_))return!1;if(Al.test(b))return x===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(x)}const Ln=new Vr(3e4,6e4);function So(){const b=Yn().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let wc=null;const Ec=new Vr(5e3,15e3),Ko="__/auth/iframe",Ml="emulator/auth/iframe",xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(b){const p=b.config;re(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?Uo(p,Ml):`https://${b.config.authDomain}/${Ko}`,x={apiKey:p.apiKey,appName:b.name,v:O.SDK_VERSION},M=qu.get(b.config.apiHost);M&&(x.eid=M);const N=b._getFrameworks();return N.length&&(x.fw=N.join(",")),`${_}?${(0,j.xO)(x).slice(1)}`}function _n(){return _n=(0,d.Z)(function*(b){const p=yield function yi(b){return wc=wc||function bc(b){return new Promise((p,_)=>{var x,M,N;function Y(){So(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{So(),_(xe(b,"network-request-failed"))},timeout:Ln.get()})}if(null!==(M=null===(x=Yn().gapi)||void 0===x?void 0:x.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(N=Yn().gapi)||void 0===N||!N.load){const me=ds("iframefcb");return Yn()[me]=()=>{gapi.load?Y():_(xe(b,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${me}`).catch(He=>_(He))}Y()}}).catch(p=>{throw wc=null,p})}(b),wc}(b),_=Yn().gapi;return re(_,b,"internal-error"),p.open({where:document.body,url:Wu(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xc,dontclear:!0},x=>new Promise(function(){var M=(0,d.Z)(function*(N,Y){yield x.restyle({setHideOnLeave:!1});const me=xe(b,"network-request-failed"),He=Yn().setTimeout(()=>{Y(me)},Ec.get());function Je(){Yn().clearTimeout(He),N(x)}x.ping(Je).then(Je,()=>{Y(me)})});return function(N,Y){return M.apply(this,arguments)}}()))}),_n.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Q{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ze="__/auth/handler",ut="emulator/auth/handler",Mt=encodeURIComponent("fac");function kt(b,p,_,x,M,N){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(b,p,_,x,M,N){re(b.config.authDomain,b,"auth-domain-config-required"),re(b.config.apiKey,b,"invalid-api-key");const Y={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:O.SDK_VERSION,eventId:M};if(p instanceof bo){p.setDefaultLanguage(b.languageCode),Y.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[_t,Qt]of Object.entries(N||{}))Y[_t]=Qt}if(p instanceof Bs){const _t=p.getScopes().filter(Qt=>""!==Qt);_t.length>0&&(Y.scopes=_t.join(","))}b.tenantId&&(Y.tid=b.tenantId);const me=Y;for(const _t of Object.keys(me))void 0===me[_t]&&delete me[_t];const He=yield b._getAppCheckToken(),Je=He?`#${Mt}=${encodeURIComponent(He)}`:"";return`${function hi({config:b}){return b.emulator?Uo(b,ut):`https://${b.authDomain}/${ze}`}(b)}?${(0,j.xO)(me).slice(1)}${Je}`})).apply(this,arguments)}const Ao="webStorageSupport",Yo=class kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gi,this._completeRedirectFn=Tn,this._overrideRedirectResult=ji}_openPopup(p,_,x,M){var N=this;return(0,d.Z)(function*(){var Y;Et(null===(Y=N.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const me=yield kt(p,_,x,Jt(),M);return function ge(b,p,_,x=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-x)/2,0).toString();let me="";const He=Object.assign(Object.assign({},E),{width:x.toString(),height:M.toString(),top:N,left:Y}),Je=(0,j.z$)().toLowerCase();_&&(me=R(Je)?"_blank":_),P(Je)&&(p=p||"http://localhost",He.scrollbars="yes");const _t=Object.entries(He).reduce((xr,[Qs,Om])=>`${xr}${Qs}=${Om},`,"");if(function At(b=(0,j.z$)()){var p;return gt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==me)return function qe(b,p){const _=document.createElement("a");_.href=b,_.target=p;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(p||"",me),new Q(null);const Qt=window.open(p||"",me,_t);re(Qt,b,"popup-blocked");try{Qt.focus()}catch{}return new Q(Qt)}(p,me,cr())})()}_openRedirect(p,_,x,M){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(p),function Nu(b){Yn().location.href=b}(yield kt(p,_,x,Jt(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(Et(N,"If manager is not set, promise should be"),N)}const x=this.initAndGetManager(p);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(p){var _=this;return(0,d.Z)(function*(){const x=yield function Pa(b){return _n.apply(this,arguments)}(p),M=new Gu(p);return x.register("authEvent",N=>(re(N?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=x,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Ao,{type:Ao},M=>{var N;const Y=null===(N=M?.[0])||void 0===N?void 0:N[Ao];void 0!==Y&&_(!!Y),te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vc(b){return Gr.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ut()||L()||gt()}};class co{constructor(p){this.factorId=p}_process(p,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,x);case"signin":return this._finalizeSignIn(p,_.credential);default:return lt("unexpected MultiFactorSessionType")}}}class lo extends co{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new lo(p)}_finalizeEnroll(p,_,x){return function Ah(b,p){return De(b,"POST","/v2/accounts/mfaEnrollment:finalize",ue(b,p))}(p,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Fh(b,p){return De(b,"POST","/v2/accounts/mfaSignIn:finalize",ue(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fa=(()=>{class b{constructor(){}static assertion(_){return lo._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ic="@firebase/auth";class xv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(x=>{p(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Rm(b){(0,O._registerComponent)(new ce.wA("auth",(p,{options:_})=>{const x=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:Y,authDomain:me}=x.options;re(Y&&!Y.includes(":"),"invalid-api-key",{appName:x.name});const He={apiKey:Y,authDomain:me,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pi(b)},Je=new Qc(x,M,N,He);return function Og(b,p){const _=p?.persistence||[],x=(Array.isArray(_)?_:[_]).map(ui);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(x,p?.popupRedirectResolver)}(Je,_),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,x)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ce.wA("auth-internal",p=>{const _=ni(p.getProvider("auth").getImmediate());return new xv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ic,"0.23.2",function Iv(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(Ic,"0.23.2","esm2017")}("Browser")},9058:(dt,Ce,F)=>{F.d(Ce,{$s:()=>ui,BH:()=>le,G6:()=>Uo,L:()=>ye,LL:()=>Ue,P0:()=>ct,Pz:()=>xe,Sg:()=>Ie,UG:()=>lt,US:()=>ce,ZB:()=>ie,ZR:()=>De,aH:()=>te,b$:()=>pi,eu:()=>pe,hl:()=>de,jU:()=>Et,m9:()=>tn,ne:()=>en,pd:()=>Bt,r3:()=>hn,ru:()=>Jt,tV:()=>z,uI:()=>re,vZ:()=>Oi,w1:()=>_o,xO:()=>yo,xb:()=>Tr,z$:()=>Fe,zI:()=>Ee,zd:()=>pt});const X=function(G){const H=[];let P=0;for(let L=0;L<G.length;L++){let R=G.charCodeAt(L);R<128?H[P++]=R:R<2048?(H[P++]=R>>6|192,H[P++]=63&R|128):55296==(64512&R)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(R=65536+((1023&R)<<10)+(1023&G.charCodeAt(++L)),H[P++]=R>>18|240,H[P++]=R>>12&63|128,H[P++]=R>>6&63|128,H[P++]=63&R|128):(H[P++]=R>>12|224,H[P++]=R>>6&63|128,H[P++]=63&R|128)}return H},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let R=0;R<G.length;R+=3){const J=G[R],ve=R+1<G.length,Ye=ve?G[R+1]:0,xt=R+2<G.length,gt=xt?G[R+2]:0;let En=(15&Ye)<<2|gt>>6,Ut=63&gt;xt||(Ut=64,ve||(En=64)),L.push(P[J>>2],P[(3&J)<<4|Ye>>4],P[En],P[Ut])}return L.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(X(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let P=0,L=0;for(;P<G.length;){const R=G[P++];if(R<128)H[L++]=String.fromCharCode(R);else if(R>191&&R<224){const J=G[P++];H[L++]=String.fromCharCode((31&R)<<6|63&J)}else if(R>239&&R<365){const xt=((7&R)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;H[L++]=String.fromCharCode(55296+(xt>>10)),H[L++]=String.fromCharCode(56320+(1023&xt))}else{const J=G[P++],ve=G[P++];H[L++]=String.fromCharCode((15&R)<<12|(63&J)<<6|63&ve)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let R=0;R<G.length;){const J=P[G.charAt(R++)],Ye=R<G.length?P[G.charAt(R)]:0;++R;const gt=R<G.length?P[G.charAt(R)]:64;++R;const At=R<G.length?P[G.charAt(R)]:64;if(++R,null==J||null==Ye||null==gt||null==At)throw new be;L.push(J<<2|Ye>>4),64!==gt&&(L.push(Ye<<4&240|gt>>2),64!==At&&L.push(gt<<6&192|At))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(G){return function(G){const H=X(G);return ce.encodeByteArray(H,!0)}(G).replace(/\./g,"")},z=function(G){try{return ce.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ie(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Pe(P)||(G[P]=ie(G[P],H[P]));return G}function Pe(G){return"__proto__"!==G}const Ne=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&z(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ct=G=>{const H=(G=>{var H,P;return null===(P=null===(H=Ne())||void 0===H?void 0:H.emulatorHosts)||void 0===P?void 0:P[G]})(G);if(!H)return;const P=H.lastIndexOf(":");if(P<=0||P+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const L=parseInt(H.substring(P+1),10);return"["===H[0]?[H.substring(1,P-1),L]:[H.substring(0,P),L]},te=()=>{var G;return null===(G=Ne())||void 0===G?void 0:G.config},xe=G=>{var H;return null===(H=Ne())||void 0===H?void 0:H[`_${G}`]};class le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,L)=>{P?this.reject(P):this.resolve(L),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,L))}}}function Ie(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=H||"demo-project",R=G.iat||0,J=G.sub||G.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:R,exp:R+3600,auth_time:R,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(ve)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function lt(){var G;const H=null===(G=Ne())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function Jt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function pi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){const G=Fe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Uo(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((G,H)=>{try{let P=!0;const L="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(L);R.onsuccess=()=>{R.result.close(),P||self.indexedDB.deleteDatabase(L),G(!0)},R.onupgradeneeded=()=>{P=!1},R.onerror=()=>{var J;H((null===(J=R.error)||void 0===J?void 0:J.message)||"")}}catch(P){H(P)}})}function Ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class De extends Error{constructor(H,P,L){super(P),this.code=H,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(H,P,L){this.service=H,this.serviceName=P,this.errors=L}create(H,...P){const L=P[0]||{},R=`${this.service}/${H}`,J=this.errors[H],ve=J?function Xe(G,H){return G.replace(ot,(P,L)=>{const R=H[L];return null!=R?String(R):`<${L}?>`})}(J,L):"Error";return new De(R,`${this.serviceName}: ${ve} (${R}).`,L)}}const ot=/\{\$([^}]+)}/g;function hn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Tr(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Oi(G,H){if(G===H)return!0;const P=Object.keys(G),L=Object.keys(H);for(const R of P){if(!L.includes(R))return!1;const J=G[R],ve=H[R];if(Gn(J)&&Gn(ve)){if(!Oi(J,ve))return!1}else if(J!==ve)return!1}for(const R of L)if(!P.includes(R))return!1;return!0}function Gn(G){return null!==G&&"object"==typeof G}function yo(G){const H=[];for(const[P,L]of Object.entries(G))Array.isArray(L)?L.forEach(R=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(R))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(L));return H.length?"&"+H.join("&"):""}function pt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[R,J]=L.split("=");H[decodeURIComponent(R)]=decodeURIComponent(J)}}),H}function Bt(G){const H=G.indexOf("?");if(!H)return"";const P=G.indexOf("#",H);return G.substring(H,P>0?P:void 0)}function en(G,H){const P=new li(G,H);return P.subscribe.bind(P)}class li{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(L=>{this.error(L)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,L){let R;if(void 0===H&&void 0===P&&void 0===L)throw new Error("Missing Observer.");R=function Kt(G,H){if("object"!=typeof G||null===G)return!1;for(const P of H)if(P in G&&"function"==typeof G[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:L},void 0===R.next&&(R.next=ei),void 0===R.error&&(R.error=ei),void 0===R.complete&&(R.complete=ei);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),J}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}const qn=1e3,An=2,ti=144e5,Vn=.5;function ui(G,H=qn,P=An){const L=H*Math.pow(P,G),R=Math.round(Vn*L*(Math.random()-.5)*2);return Math.min(ti,L+R)}function tn(G){return G&&G._delegate?G._delegate:G}},7977:(dt,Ce,F)=>{var d=F(5879);let j=null;function O(){return j}class se{}const ce=new d.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ye)},providedIn:"platform"}),n})();const Me=new d.OlP("Location Initialized");let ye=(()=>{class n extends be{constructor(){super(),this._doc=(0,d.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(We)},providedIn:"root"}),n})();const ke=new d.OlP("appBaseHref");let We=(()=>{class n extends Pe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ie(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const l=this.prepareExternalUrl(r+ie(a));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){const l=this.prepareExternalUrl(r+ie(a));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(ke,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends Pe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=z(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let l=this.prepareExternalUrl(r+ie(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){let l=this.prepareExternalUrl(r+ie(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(ke,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(ct(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ie(i))}normalize(t){return n.stripTrailingSlash(function yt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ct(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ie,n.joinWithSlash=z,n.stripTrailingSlash=q,n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ne(){return new Ze((0,d.LFG)(Pe))}()},providedIn:"root"}),n})();function ct(n){return n.replace(/\/index.html$/,"")}class lm{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lm(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,l),ni(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ni(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ni(n,e){n.context.$implicit=e.item}let fs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Og,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Og{constructor(){this.$implicit=null,this.ngIf=null}}function mh(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Di{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class wn{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const zo=new wn,or=new Di;let Jc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return zo;if((0,d.F4k)(t))return or;throw function jt(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Sr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const va="browser";function ba(n){return n===va}function io(n){return"server"===n}let Bs=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Ar((0,d.LFG)(ce),window)}),n})();class Ar{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Us(this.window.history)||Us(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Us(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ca extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yi extends Ca{static makeCurrent(){!function X(n){j||(j=n)}(new Yi)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ch(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}();return null==t?null:function Ur(n){ys=ys||document.createElement("a"),ys.setAttribute("href",n);const e=ys.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ys,Da=null,Dh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Th=new d.OlP("EventManagerPlugins");let Eo=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(a=>a.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Th),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Sh{constructor(e){this._doc=e}}const Mu="ng-app-id";let fl=(()=>{class n{constructor(t,i,r,a={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=io(a),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Mu}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const a=r.get(t);return a.usage+=i,a.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,a=r?.get(i);if(a?.parentNode===t)return r.delete(i),a.removeAttribute(Mu),a;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Mu,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const a=this.styleRef,l=a.get(i)?.elements;l?l.push(r):a.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jr=/%COMP%/g,Fg=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fc(n,e){return e.map(t=>t.replace(jr,n))}let zr=(()=>{class n{constructor(t,i,r,a,l,f,g,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=f,this.ngZone=g,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=io(f),this.defaultRenderer=new pl(t,l,g,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof nn?r.applyToHost(t):r instanceof Ae&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const l=this.doc,f=this.ngZone,g=this.eventManager,v=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:a=new nn(g,v,i,this.appId,C,l,f,A);break;case d.ifc.ShadowDom:return new Cm(g,v,t,i,l,f,this.nonce,A);default:a=new Ae(g,v,i,C,l,f,A)}r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Eo),d.LFG(fl),d.LFG(d.AFp),d.LFG(Fg),d.LFG(ce),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class pl{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ta[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Mh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Mh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ta[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ta[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Mh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cm extends pl{constructor(e,t,i,r,a,l,f,g){super(e,a,l,g),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=fc(r.id,r.styles);for(const C of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=C,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ae extends pl{constructor(e,t,i,r,a,l,f,g){super(e,a,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=g?fc(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nn extends Ae{constructor(e,t,i,r,a,l,f,g){const v=r+"-"+i.id;super(e,t,i,a,l,f,g,v),this.contentAttr=function Ru(n){return"_ngcontent-%COMP%".replace(jr,n)}(v),this.hostAttr=function xm(n){return"_nghost-%COMP%".replace(jr,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Ou=(()=>{class n extends Sh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=["alt","control","meta","shift"],gi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _l=(()=>{class n extends Sh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),l=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),gl.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),l+=v+".")}),l+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=r,g.fullKey=l,g}static matchEventFullKeyCode(t,i){let r=gi[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gl.forEach(l=>{l!==r&&(0,Dm[l])(t)&&(a+=l+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:va},{provide:d.g9A,useValue:function kh(){Yi.makeCurrent()},multi:!0},{provide:ce,useFactory:function Vi(){return(0,d.RDi)(document),document},deps:[]}]),Un=new d.OlP(""),Io=[{provide:d.rWj,useClass:class Em{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new d.vHH(5103,!1);return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let a=r.length,l=!1;const f=function(g){l=l||g,a--,0==a&&i(l)};r.forEach(g=>{g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],_i=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Rh(){return new d.qLn},deps:[]},{provide:Th,useClass:Ou,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:Th,useClass:_l,multi:!0,deps:[ce]},zr,fl,Eo,{provide:d.FYo,useExisting:zr},{provide:class Wi{},useClass:Dh,deps:[]},[]];let vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Un,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[..._i,...Io],imports:[Sr,d.hGG]}),n})(),wl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gc(){return new wl((0,d.LFG)(ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(Vu),i},providedIn:"root"}),n})(),Vu=(()=>{class n extends Aa{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Lu(n){return new Vu(n.get(ce))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var ri=F(5592),Bi=F(4674),un=F(2459),rt=F(2096),br=F(5619);const{isArray:Dl}=Array,{getPrototypeOf:Gs,prototype:zu,keys:Am}=Object;function Ma(n){if(1===n.length){const e=n[0];if(Dl(e))return{args:e,keys:null};if(function Bg(n){return n&&"object"==typeof n&&Gs(n)===zu}(e)){const t=Am(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var so=F(2737),st=F(7398);const{isArray:kr}=Array;function qs(n){return(0,st.U)(e=>function Vh(n,e){return kr(e)?n(...e):n(e)}(n,e))}var Hr=F(9940);function Ws(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Ui=F(8251),ao=F(7103);function $o(...n){const e=(0,Hr.yG)(n),t=(0,Hr.jO)(n),{args:i,keys:r}=Ma(n);if(0===i.length)return(0,un.D)([],e);const a=new ri.y(function Ug(n,e,t=so.y){return i=>{Rr(e,()=>{const{length:r}=n,a=new Array(r);let l=r,f=r;for(let g=0;g<r;g++)Rr(e,()=>{const v=(0,un.D)(n[g],e);let C=!1;v.subscribe((0,Ui.x)(i,A=>{a[g]=A,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ws(r,l):so.y));return t?a.pipe(qs(t)):a}function Rr(n,e,t){n?(0,ao.f)(t,n,e):e()}const Es=(0,F(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Go=F(7537);function wr(...n){return function Bh(){return(0,Go.J)(1)}()((0,un.D)(n,(0,Hr.yG)(n)))}var qo=F(4829);function Hu(n){return new ri.y(e=>{(0,qo.Xf)(n()).subscribe(e)})}var ka=F(8407);function Wo(n,e){const t=(0,Bi.m)(n)?n:()=>n,i=r=>r.error(t());return new ri.y(e?r=>e.schedule(i,0,r):i)}var Co=F(6232),Ra=F(7394),ji=F(9360);function Zs(){return(0,ji.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Zo extends ri.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ji.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ra.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ui.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ra.w0.EMPTY)}return e}refCount(){return Zs()(this)}}var gn=F(8645),Fn=F(4664);function Qn(n){return n<=0?()=>Co.E:(0,ji.e)((e,t)=>{let i=0;e.subscribe((0,Ui.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function $r(...n){const e=(0,Hr.yG)(n);return(0,ji.e)((t,i)=>{(e?wr(n,t,e):wr(n,t)).subscribe(i)})}function Dn(n,e){return(0,ji.e)((t,i)=>{let r=0;t.subscribe((0,Ui.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var di=F(1631);function Oa(n){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Ui.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Uh(n=$u){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Ui.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function $u(){return new Es}function Do(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Dn((r,a)=>n(r,a,i)):so.y,Qn(1),t?Oa(e):Uh(()=>new Es))}function Er(n,e){return(0,Bi.m)(e)?(0,di.z)(n,e,1):(0,di.z)(n,1)}var Tn=F(9397);function zi(n){return(0,ji.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Ui.x)(t,void 0,void 0,l=>{a=(0,qo.Xf)(n(l,zi(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function xs(n,e){return(0,ji.e)(function Tl(n,e,t,i,r){return(a,l)=>{let f=t,g=e,v=0;a.subscribe((0,Ui.x)(l,C=>{const A=v++;g=f?n(g,C,A):(f=!0,C),i&&l.next(g)},r&&(()=>{f&&l.next(g),l.complete()})))}}(n,e,arguments.length>=2,!0))}function To(n){return n<=0?()=>Co.E:(0,ji.e)((e,t)=>{let i=[];e.subscribe((0,Ui.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ks(n){return(0,st.U)(()=>n)}function Na(n){return(0,ji.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary",Ys=Symbol("RouteTitle");class Sl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Al(n){return new Sl(n)}function Ev(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const l=i[a],f=n[a];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!jh(n[r],e[r]))return!1;return!0}function jh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Ln(n){return n.length>0?n[n.length-1]:null}function So(n){return function ju(n){return!!n&&(n instanceof ri.y||(0,Bi.m)(n.lift)&&(0,Bi.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,un.D)(Promise.resolve(n)):(0,rt.of)(n)}const bc={exact:function Ko(n,e,t){if(!S(n.segments,e.segments)||!Wu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ko(n.children[i],e.children[i],t))return!1;return!0},subset:xc},wc={exact:function Ec(n,e){return Gr(n,e)},subset:function Ml(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jh(n[t],e[t]))},ignored:()=>!0};function yi(n,e,t){return bc[t.paths](n.root,e.root,t.matrixParams)&&wc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xc(n,e,t){return qu(n,e,e.segments,t)}function qu(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!S(r,t)||e.hasChildren()||!Wu(r,t,i))}if(n.segments.length===t.length){if(!S(n.segments,t)||!Wu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!xc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(S(n.segments,r)&&Wu(n.segments,r,i)&&n.children[Ht])&&qu(n.children[Ht],e,a,i)}}function Wu(n,e,t){return e.every((i,r)=>wc[t](n[r].parameters,i.parameters))}class Pa{constructor(e=new _n([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Al(this.queryParams)),this._queryParamMap}toString(){return ge.serialize(this)}}class _n{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qe(this)}}class E{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Al(this.parameters)),this._parameterMap}toString(){return kl(this)}}function S(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Q},providedIn:"root"}),n})();class Q{parse(e){const t=new xv(e);return new Pa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ze(e.root,!0)}`,i=function co(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Mt(t)}=${Mt(r)}`).join("&"):`${Mt(t)}=${Mt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function kt(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ge=new Q;function qe(n){return n.segments.map(e=>kl(e)).join("/")}function ze(n,e){if(!n.hasChildren())return qe(n);if(e){const t=n.children[Ht]?ze(n.children[Ht],!1):"",i=[];return Object.entries(n.children).forEach(([r,a])=>{r!==Ht&&i.push(`${r}:${ze(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function V(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ht&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ht?[ze(n.children[Ht],!1)]:[`${r}:${ze(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${qe(n)}/${t[0]}`:`${qe(n)}/(${t.join("//")})`}}function ut(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(n){return ut(n).replace(/%3B/gi,";")}function vi(n){return ut(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hi(n){return decodeURIComponent(n)}function Ao(n){return hi(n.replace(/\+/g,"%20"))}function kl(n){return`${vi(n.path)}${function Yo(n){return Object.keys(n).map(e=>`;${vi(e)}=${vi(n[e])}`).join("")}(n.parameters)}`}const lo=/^[^\/()?;#]+/;function Fa(n){const e=n.match(lo);return e?e[0]:""}const km=/^[^\/()?;=#]+/,jg=/^[^=?&#]+/,Ic=/^[^&#]+/;class xv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ht]=new _n(e,t)),i}parseSegment(){const e=Fa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new E(hi(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function zh(n){const e=n.match(km);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Fa(this.remaining);r&&(i=r,this.capture(i))}e[hi(t)]=hi(i)}parseQueryParam(e){const t=function Hh(n){const e=n.match(jg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function Rl(n){const e=n.match(Ic);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Ao(t),a=Ao(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Fa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ht);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Ht]:new _n([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Iv(n){return n.segments.length>0?new _n([],{[Ht]:n}):n}function Rm(n){const e={};for(const i of Object.keys(n.children)){const a=Rm(n.children[i]);if(i===Ht&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Cv(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new _n(n.segments.concat(e.segments),e.children)}return n}(new _n(n.segments,e))}function Ol(n){return n instanceof Pa}function Hg(n){let e;const r=Iv(function t(a){const l={};for(const g of a.children){const v=t(g);l[g.outlet]=v}const f=new _n(a.url,l);return a===n&&(e=f),f}(n.root));return e??r}function Dv(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return _(r,r,r,t,i);const a=function N(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([g,v])=>{f[g]="string"==typeof v?v.split("/"):v}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===l?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new M(t,e,i)}(e);if(a.toRoot())return _(r,r,new _n([],{}),t,i);const l=function me(n,e,t){if(n.isAbsolute)return new Y(e,!0,0);if(!t)return new Y(e,!1,NaN);if(null===t.parent)return new Y(t,!0,0);const i=b(n.commands[0])?0:1;return function He(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new Y(i,!1,r-a)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(a,r,n),f=l.processChildren?Qt(l.segmentGroup,l.index,a.commands):_t(l.segmentGroup,l.index,a.commands);return _(r,l.segmentGroup,f,t,i)}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,i,r){let l,a={};i&&Object.entries(i).forEach(([g,v])=>{a[g]=Array.isArray(v)?v.map(C=>`${C}`):`${v}`}),l=n===e?t:x(n,e,t);const f=Iv(Rm(l));return new Pa(f,a,r)}function x(n,e,t){const i={};return Object.entries(n.children).forEach(([r,a])=>{i[r]=a===e?t:x(a,e,t)}),new _n(n.segments,i)}class M{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&b(i[0]))throw new d.vHH(4003,!1);const r=i.find(p);if(r&&r!==Ln(i))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Y{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _t(n,e,t){if(n||(n=new _n([],{})),0===n.segments.length&&n.hasChildren())return Qt(n,e,t);const i=function xr(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const l=n.segments[r],f=t[i];if(p(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Nm(g,v,l))return a;i+=2}else{if(!Nm(g,{},l))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new _n(n.segments.slice(0,i.pathIndex),{});return a.children[Ht]=new _n(n.segments.slice(i.pathIndex),n.children),Qt(a,0,r)}return i.match&&0===r.length?new _n(n.segments,{}):i.match&&!n.hasChildren()?Qs(n,e,t):i.match?Qt(n,0,r):Qs(n,e,t)}function Qt(n,e,t){if(0===t.length)return new _n(n.segments,{});{const i=function Je(n){return p(n[0])?n[0].outlets:{[Ht]:n}}(t),r={};if(!i[Ht]&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length){const a=Qt(n.children[Ht],e,t);return new _n(n.segments,a.children)}return Object.entries(i).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[a]=_t(n.children[a],e,l))}),Object.entries(n.children).forEach(([a,l])=>{void 0===i[a]&&(r[a]=l)}),new _n(n.segments,r)}}function Qs(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(p(a)){const g=Om(a.outlets);return new _n(i,g)}if(0===r&&b(t[0])){i.push(new E(n.segments[e].path,$g(t[0]))),r++;continue}const l=p(a)?a.outlets[Ht]:`${a}`,f=r<t.length-1?t[r+1]:null;l&&f&&b(f)?(i.push(new E(l,$g(f))),r+=2):(i.push(new E(l,{})),r++)}return new _n(i,{})}function Om(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Qs(new _n([],{}),0,i))}),e}function $g(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Nm(n,e,t){return n==t.path&&Gr(e,t.parameters)}const Zu="imperative";class Qo{constructor(e,t){this.id=e,this.url=t}}class La extends Qo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xo extends Qo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nl extends Qo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Va extends Qo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Ku extends Qo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pl extends Qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gg extends Qo{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qg extends Qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wg extends Qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ME{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kE{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class FT{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gh,this.attachRef=null}}let Gh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new FT,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Sv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return qr(e,this._root).map(t=>t.value)}}function Sv(n,e){if(n===e.value)return e;for(const t of e.children){const i=Sv(n,t);if(i)return i}return null}function qr(n,e){if(n===e.value)return[e];for(const t of e.children){const i=qr(n,t);if(i.length)return i.unshift(e),i}return[]}class Xs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Kg extends RE{constructor(e,t){super(e),this.snapshot=t,Yg(this,e)}toString(){return this.snapshot.toString()}}function Or(n,e){const t=function Pm(n,e){const l=new Fm([],{},{},"",{},Ht,e,null,{});return new OE("",new Xs(l,[]))}(0,e),i=new br.X([new E("",{})]),r=new br.X({}),a=new br.X({}),l=new br.X({}),f=new br.X(""),g=new Qu(i,r,l,f,a,Ht,e,t.root);return g.snapshot=t.root,new Kg(new Xs(g,[]),t)}class Qu{constructor(e,t,i,r,a,l,f,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,st.U)(v=>v[Ys]))??(0,rt.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>Al(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>Al(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Av(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function LT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Fm{get title(){return this.data?.[Ys]}constructor(e,t,i,r,a,l,f,g,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=l,this.component=f,this.routeConfig=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Al(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Al(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OE extends RE{constructor(e,t){super(t),this.url=e,Yg(this,t)}toString(){return NE(this._root)}}function Yg(n,e){e.value._routerState=n,e.children.forEach(t=>Yg(n,t))}function NE(n){const e=n.children.length>0?` { ${n.children.map(NE).join(", ")} } `:"";return`${n.value}${e}`}function Qg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gr(e.params,t.params)||n.paramsSubject.next(t.params),function vc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Mv(n,e){const t=Gr(n.params,e.params)&&function D(n,e){return S(n,e)&&n.every((t,i)=>Gr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mv(n.parent,e.parent))}let kv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Gh),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(qh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new Rv(t,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Rv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Qu?this.route:e===Gh?this.childContexts:this.parent.get(e,t)}}const qh=new d.OlP("");let PE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=$o([i.queryParams,i.params,i.data]).pipe((0,Fn.w)(([a,l,f],g)=>(f={...a,...l,...f},0===g?(0,rt.of)(f):Promise.resolve(f)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,a[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Vm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function VT(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Vm(n,i,r);return Vm(n,i)})}(n,e,t);return new Xs(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Vm(n,f)),l}}const i=function FE(n){return new Qu(new br.X(n.url),new br.X(n.params),new br.X(n.queryParams),new br.X(n.fragment),new br.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Vm(n,a));return new Xs(i,r)}}const Xg="ngNavigationCancelingError";function Ov(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ol(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Xu(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Xu(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Xg]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Bm(n){return Nv(n)&&Ol(n.url)}function Nv(n){return n&&n[Xg]}let Jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},dependencies:[kv],encapsulation:2}),n})();function t_(n){const e=n.children&&n.children.map(t_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=Jg),t}function Jo(n){return n.outlet||Ht}function Um(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ju{constructor(e,t,i,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Qg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Yu(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,r[l],i),delete r[l]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Yu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Yu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Yu(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Tv(a.value.snapshot))}),e.children.length&&this.forwardEvent(new PT(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Qg(r),r===a)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Qg(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Um(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class Fv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jm{constructor(e,t){this.component=e,this.route=t}}function jT(n,e,t){const i=n._root;return zm(i,e?e._root:null,t,[i.value])}function Cc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function zm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Yu(e);return n.children.forEach(l=>{(function UE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const g=function jE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!S(n.url,e.url);case"pathParamsOrQueryParamsChange":return!S(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(n,e)||!Gr(n.queryParams,e.queryParams);default:return!Mv(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Fv(i)):(a.data=l.data,a._resolvedData=l._resolvedData),zm(n,e,a.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new jm(f.outlet.component,l))}else l&&Wh(e,f,r),r.canActivateChecks.push(new Fv(i)),zm(n,null,a.component?f?f.children:null:t,i,r)})(l,a[l.value.outlet],t,i.concat([l.value]),r),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>Wh(f,t.getContext(l),r)),r}function Wh(n,e,t){const i=Yu(n),r=n.value;Object.entries(i).forEach(([a,l])=>{Wh(l,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new jm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ed(n){return"function"==typeof n}function Zh(n){return n instanceof Es||"EmptyError"===n?.name}const r_=Symbol("INITIAL_VALUE");function td(){return(0,Fn.w)(n=>$o(n.map(e=>e.pipe(Qn(1),$r(r_)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===r_)return r_;if(!1===t||t instanceof Pa)return t}return!0}),Dn(e=>e!==r_),Qn(1)))}function qE(n){return(0,ka.z)((0,Tn.b)(e=>{if(Ol(e))throw Ov(0,e)}),(0,st.U)(e=>!0===e))}class s_{constructor(e){this.segmentGroup=e||null}}class a_{constructor(e){this.urlTree=e}}function Yh(n){return Wo(new s_(n))}function Qh(n){return Wo(new a_(n))}class WE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,rt.of)(i);if(r.numberOfChildren>1||!r.children[Ht])return Wo(new d.vHH(4e3,!1));r=r.children[Ht]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Pa(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);i[r]=t[f]}else i[r]=a}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([f,g])=>{l[f]=this.createSegmentGroup(e,g,i,r)}),new _n(a,l)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const l_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZE(n,e,t,i,r){const a=Dc(n,e,t);return a.matched?(i=function e_(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function JR(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,rt.of)(!0);const a=r.map(l=>{const f=Cc(l,n);return So(function i_(n){return n&&ed(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,rt.of)(a).pipe(td(),qE())}(i,e,t).pipe((0,st.U)(l=>!0===l?a:{...l_}))):(0,rt.of)(a)}function Dc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...l_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ev)(t,n,e);if(!r)return{...l_};const a={};Object.entries(r.posParams??{}).forEach(([f,g])=>{a[f]=g.path});const l=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function KE(n,e,t,i){return t.length>0&&function KT(n,e,t){return t.some(i=>Is(n,e,i)&&Jo(i)!==Ht)}(n,t,i)?{segmentGroup:new _n(e,ZT(i,new _n(t,n.children))),slicedSegments:[]}:0===t.length&&function YT(n,e,t){return t.some(i=>Is(n,e,i))}(n,t,i)?{segmentGroup:new _n(n.segments,WT(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _n(n.segments,n.children),slicedSegments:t}}function WT(n,e,t,i,r){const a={};for(const l of i)if(Is(n,t,l)&&!r[Jo(l)]){const f=new _n([],{});a[Jo(l)]=f}return{...r,...a}}function ZT(n,e){const t={};t[Ht]=e;for(const i of n)if(""===i.path&&Jo(i)!==Ht){const r=new _n([],{});t[Jo(i)]=r}return t}function Is(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class JT{constructor(e,t,i,r,a,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new WE(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=KE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe(zi(t=>{if(t instanceof a_)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof s_?this.noMatchError(t):t}),(0,st.U)(t=>{const i=new Fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),r=new Xs(i,t),a=new OE("",r),l=function zg(n,e,t=null,i=null){return Dv(Hg(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ht).pipe(zi(i=>{throw i instanceof s_?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Av(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,un.D)(r).pipe(Er(a=>{const l=i.children[a],f=function UT(n,e){const t=n.filter(i=>Jo(i)===e);return t.push(...n.filter(i=>Jo(i)!==e)),t}(t,a);return this.processSegmentGroup(e,f,l,a)}),xs((a,l)=>(a.push(...l),a)),Oa(null),function Gu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Dn((r,a)=>n(r,a,i)):so.y,To(1),t?Oa(e):Uh(()=>new Es))}(),(0,di.z)(a=>{if(null===a)return Yh(i);const l=YE(a);return function eS(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,rt.of)(l)}))}processSegment(e,t,i,r,a,l){return(0,un.D)(t).pipe(Er(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,a,l).pipe(zi(g=>{if(g instanceof s_)return(0,rt.of)(null);throw g}))),Do(f=>!!f),zi(f=>{if(Zh(f))return function QT(n,e,t){return 0===e.length&&!n.children[t]}(i,r,a)?(0,rt.of)([]):Yh(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,a,l,f){return function Xh(n,e,t,i){return!!(Jo(n)===i||i!==Ht&&Is(e,t,n))&&("**"===n.path||Dc(e,n,t).matched)}(i,r,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,a,l):Yh(r):Yh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Qh(a):this.applyRedirects.lineralizeSegments(i,a).pipe((0,di.z)(l=>{const f=new _n(l,{});return this.processSegment(e,t,f,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:C}=Dc(t,r,a);if(!f)return Yh(t);const A=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?Qh(A):this.applyRedirects.lineralizeSegments(r,A).pipe((0,di.z)(U=>this.processSegment(e,i,t,U.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,a,l){let f;if("**"===i.path){const g=r.length>0?Ln(r).parameters:{},v=new Fm(r,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QE(i),Jo(i),i.component??i._loadedComponent??null,i,XE(i));f=(0,rt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=ZE(t,i,r,e).pipe((0,st.U)(({matched:g,consumedSegments:v,remainingSegments:C,parameters:A})=>g?{snapshot:new Fm(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QE(i),Jo(i),i.component??i._loadedComponent??null,i,XE(i)),consumedSegments:v,remainingSegments:C}:null));return f.pipe((0,Fn.w)(g=>null===g?Yh(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Fn.w)(({routes:v})=>{const C=i._loadedInjector??e,{snapshot:A,consumedSegments:U,remainingSegments:$}=g,{segmentGroup:Z,slicedSegments:ne}=KE(t,U,$,v);if(0===ne.length&&Z.hasChildren())return this.processChildren(C,v,Z).pipe((0,st.U)(je=>null===je?null:[new Xs(A,je)]));if(0===v.length&&0===ne.length)return(0,rt.of)([new Xs(A,[])]);const fe=Jo(i)===a;return this.processSegment(C,v,Z,ne,fe?Ht:a,!0).pipe((0,st.U)(je=>[new Xs(A,je)]))}))))}getChildConfig(e,t,i){return t.children?(0,rt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,rt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function qT(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,rt.of)(!0);const a=r.map(l=>{const f=Cc(l,n);return So(function n_(n){return n&&ed(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,rt.of)(a).pipe(td(),qE())}(e,t,i).pipe((0,di.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Tn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Uv(n){return Wo(Xu(!1,3))}())):(0,rt.of)({routes:[],injector:e})}}function tS(n){const e=n.value.routeConfig;return e&&""===e.path}function YE(n){const e=[],t=new Set;for(const i of n){if(!tS(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=YE(i.children);e.push(new Xs(i.value,r))}return e.filter(i=>!t.has(i))}function QE(n){return n.data||{}}function XE(n){return n.resolve||{}}function jv(n){return"string"==typeof n.title||null===n.title}function d_(n){return(0,Fn.w)(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,st.U)(()=>e)):(0,rt.of)(e)})}const Gm=new d.OlP("ROUTES");let ex=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,rt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=So(t.loadComponent()).pipe((0,st.U)(h_),(0,Tn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Na(()=>{this.componentLoaders.delete(t)})),r=new Zo(i,()=>new gn.x).pipe(Zs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,rt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,st.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v;return Array.isArray(f)?v=f:(g=f.create(t).injector,v=g.get(Gm,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:v.map(t_),injector:g}}),Na(()=>{this.childrenLoaders.delete(i)})),l=new Zo(a,()=>new gn.x).pipe(Zs());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return So(t()).pipe((0,st.U)(h_),(0,di.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,rt.of)(i):(0,un.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h_(n){return function e1(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gn.x,this.configLoader=(0,d.f3M)(ex),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(W),this.rootContexts=(0,d.f3M)(Gh),this.inputBindingEnabled=null!==(0,d.f3M)(qh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,rt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new OT(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zg(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new br.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dn(i=>0!==i.id),(0,st.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,Fn.w)(i=>{let r=!1,a=!1;return(0,rt.of)(i).pipe((0,Tn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fn.w)(l=>{const f=t.browserUrlTree.toString(),g=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!g&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Va(l.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Co.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return oS(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,rt.of)(l).pipe((0,Fn.w)(C=>{const A=this.transitions?.getValue();return this.events.next(new La(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),A!==this.transitions?.getValue()?Co.E:Promise.resolve(C)}),function iS(n,e,t,i,r,a){return(0,di.z)(l=>function XT(n,e,t,i,r,a,l="emptyOnly"){return new JT(n,e,t,i,r,l,a).recognize()}(n,e,t,i,l.extractedUrl,r,a).pipe((0,st.U)(({state:f,tree:g})=>({...l,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Tn.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,i.urlAfterRedirects=C.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(U,C)}t.browserUrlTree=C.urlAfterRedirects}const A=new Pl(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(A)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:A,source:U,restoredState:$,extras:Z}=l,ne=new La(C,this.urlSerializer.serialize(A),U,$);this.events.next(ne);const fe=Or(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:fe,urlAfterRedirects:A,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}},(0,rt.of)(i)}{const C="";return this.events.next(new Va(l.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Co.E}}),(0,Tn.b)(l=>{const f=new $h(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,st.U)(l=>i={...l,guards:jT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function HT(n,e){return(0,di.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?(0,rt.of)({...t,guardsResult:!0}):function $T(n,e,t,i){return(0,un.D)(n).pipe((0,di.z)(r=>function Kh(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,rt.of)(!0);const l=a.map(f=>{const g=Um(e)??r,v=Cc(f,g);return So(function Lv(n){return n&&ed(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(Do())});return(0,rt.of)(l).pipe(td())}(r.component,r.route,t,e,i)),Do(r=>!0!==r,!0))}(l,i,r,n).pipe((0,di.z)(f=>f&&function zE(n){return"boolean"==typeof n}(f)?function GT(n,e,t,i){return(0,un.D)(e).pipe(Er(r=>wr(function GE(n,e){return null!==n&&e&&e(new NT(n)),(0,rt.of)(!0)}(r.route.parent,i),function $E(n,e){return null!==n&&e&&e(new ME(n)),(0,rt.of)(!0)}(r.route,i),function Bv(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function XR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Hu(()=>{const f=l.guards.map(g=>{const v=Um(l.node)??t,C=Cc(g,v);return So(function HE(n){return n&&ed(n.canActivateChild)}(C)?C.canActivateChild(i,n):v.runInContext(()=>C(i,n))).pipe(Do())});return(0,rt.of)(f).pipe(td())}));return(0,rt.of)(a).pipe(td())}(n,r.path,t),function o_(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,rt.of)(!0);const r=i.map(a=>Hu(()=>{const l=Um(e)??t,f=Cc(a,l);return So(function Hm(n){return n&&ed(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Do())}));return(0,rt.of)(r).pipe(td())}(n,r.route,t))),Do(r=>!0!==r,!0))}(i,a,n,e):(0,rt.of)(f)),(0,st.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Tn.b)(l=>{if(i.guardsResult=l.guardsResult,Ol(l.guardsResult))throw Ov(0,l.guardsResult);const f=new Gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Dn(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),d_(l=>{if(l.guards.canActivateChecks.length)return(0,rt.of)(l).pipe((0,Tn.b)(f=>{const g=new qg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),(0,Fn.w)(f=>{let g=!1;return(0,rt.of)(f).pipe(function rS(n,e){return(0,di.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,rt.of)(t);let a=0;return(0,un.D)(r).pipe(Er(l=>function u_(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!jv(r)&&(a[Ys]=r.title),function Tc(n,e,t,i){const r=function $m(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,rt.of)({});const a={};return(0,un.D)(r).pipe((0,di.z)(l=>function JE(n,e,t,i){const r=Um(e)??i,a=Cc(n,r);return So(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[l],e,t,i).pipe(Do(),(0,Tn.b)(f=>{a[l]=f}))),To(1),Ks(a),zi(l=>Zh(l)?Co.E:Wo(l)))}(a,n,e,i).pipe((0,st.U)(l=>(n._resolvedData=l,n.data=Av(n,t).resolve,r&&jv(r)&&(n.data[Ys]=r.title),null)))}(l.route,i,n,e)),(0,Tn.b)(()=>a++),To(1),(0,di.z)(l=>a===r.length?(0,rt.of)(t):Co.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Tn.b)(f=>{const g=new Wg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),d_(l=>{const f=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Tn.b)(C=>{g.component=C}),(0,st.U)(()=>{})));for(const C of g.children)v.push(...f(C));return v};return $o(f(l.targetSnapshot.root)).pipe(Oa(),Qn(1))}),d_(()=>this.afterPreactivation()),(0,st.U)(l=>{const f=function Lm(n,e,t){const i=Vm(n,e._root,t?t._root:void 0);return new Kg(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:f}}),(0,Tn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,i)=>(0,st.U)(r=>(new Ju(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),(0,Tn.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Xo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Na(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zi(l=>{if(a=!0,Nv(l)){Bm(l)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new Nl(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),Bm(l)){const g=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||oS(i.source)};t.scheduleNavigation(g,Zu,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Ku(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(l))}catch(g){i.reject(g)}}return Co.E}))}))}cancelNavigationTransition(t,i,r){const a=new Nl(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oS(n){return n!==Zu}let sS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Ht);return i}getResolvedTitleForRoute(t){return t.data[Ys]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(tx)},providedIn:"root"}),n})(),tx=(()=>{class n extends sS{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(lS)},providedIn:"root"}),n})();class cS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let lS=(()=>{class n extends cS{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f_=new d.OlP("",{providedIn:"root",factory:()=>({})});let nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(m_)},providedIn:"root"}),n})(),m_=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ef=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ef||{});function p_(n,e){n.events.pipe(Dn(t=>t instanceof Xo||t instanceof Nl||t instanceof Ku||t instanceof Va),(0,st.U)(t=>t instanceof Xo||t instanceof Va?ef.COMPLETE:t instanceof Nl&&(0===t.code||1===t.code)?ef.REDIRECTING:ef.FAILED),Dn(t=>t!==ef.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function uS(n){throw n}function nd(n,e,t){return e.parse("/")}const dS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(f_,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||uS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nd,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(nx),this.routeReuseStrategy=(0,d.f3M)(aS),this.titleStrategy=(0,d.f3M)(sS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Gm,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(Jh),this.urlSerializer=(0,d.f3M)(W),this.location=(0,d.f3M)(Ze),this.componentInputBindingEnabled=!!(0,d.f3M)(qh,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Or(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(t_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:g}=i,v=g?this.currentUrlTree.fragment:l;let A,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}null!==C&&(C=this.removeEmptyProps(C));try{A=Hg(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return Dv(A,t,C,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ol(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,Zu,null,i)}navigate(t,i={skipLocationChange:!1}){return function ix(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...dS}:!1===i?{...hS}:i,Ol(t))return yi(this.currentUrlTree,t,r);const a=this.parseUrl(t);return yi(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,l){if(this.disposed)return Promise.resolve(!1);let f,g,v;l?(f=l.resolve,g=l.reject,v=l.promise):v=new Promise((A,U)=>{f=A,g=U});const C=this.pendingTasks.add();return p_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",a)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g_=(()=>{class n{constructor(t,i,r,a,l,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new gn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Xo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(es),d.Y36(Qu),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Pe))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&d.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),n})();class rx{}let t1=(()=>{class n{constructor(t,i,r,a,l){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(t=>t instanceof Xo),Er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,un.D)(r).pipe((0,Go.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,rt.of)(null);const a=r.pipe((0,di.z)(l=>null===l?(0,rt.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,un.D)([a,l]).pipe((0,Go.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(es),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(rx),d.LFG(ex))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const id=new d.OlP("");let In=(()=>{class n{constructor(t,i,r,a,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof La?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Va&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ba(n,e){return{\u0275kind:n,\u0275providers:e}}function Hv(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(es),r=n.get(y_);1===n.get(ax)&&i.initialNavigation(),n.get(Gv,null,d.XFs.Optional)?.setUpPreloading(),n.get(id,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const y_=new d.OlP("",{factory:()=>new gn.x}),ax=new d.OlP("",{providedIn:"root",factory:()=>1}),Gv=new d.OlP("");function lx(n){return Ba(0,[{provide:Gv,useExisting:t1},{provide:rx,useExisting:n}])}const b_=new d.OlP("ROUTER_FORROOT_GUARD"),w_=[Ze,{provide:W,useClass:Q},es,Gh,{provide:Qu,useFactory:function zv(n){return n.routerState.root},deps:[es]},ex,[]];function rd(){return new d.PXZ("Router",es)}let E_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[w_,[],{provide:Gm,multi:!0,useValue:t},{provide:b_,useFactory:dx,deps:[[es,new d.FiY,new d.tp0]]},{provide:f_,useValue:i||{}},i?.useHash?{provide:Pe,useClass:Re}:{provide:Pe,useClass:We},{provide:id,useFactory:()=>{const n=(0,d.f3M)(Bs),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(f_),i=(0,d.f3M)(Jh),r=(0,d.f3M)(W);return t.scrollOffset&&n.setOffset(t.scrollOffset),new In(r,i,n,e,t)}},i?.preloadingStrategy?lx(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:rd},i?.initialNavigation?nf(i):[],i?.bindToComponentInputs?Ba(8,[PE,{provide:qh,useExisting:PE}]).\u0275providers:[],[{provide:hx,useFactory:Hv},{provide:d.tb,multi:!0,useExisting:hx}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gm,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(b_,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function dx(n){return"guarded"}function nf(n){return["disabled"===n.initialNavigation?Ba(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(es);return()=>{e.setUpLocationChangeListener()}}},{provide:ax,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ba(2,[{provide:ax,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(es),a=e.get(y_);p_(r,()=>{i(!0)}),e.get(Jh).afterPreactivation=()=>(i(!0),a.closed?(0,rt.of)(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const hx=new d.OlP("");var x_=F(6321),sn=F(8186);function Wv(){return(0,ji.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ui.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var et,Zv=F(3997),Mo=F(6304),qm=(F(6365),F(3106)),we=F(5861),Nr=F(534),Fl=F(4537),ts=F(7879),zt=F(9058),Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},od=od||{},Wt=Kv||self;function rf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ll(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wm="closure_uid_"+(1e9*Math.random()>>>0),Yv=0;function px(n,e,t){return n.call.apply(n.bind,arguments)}function xS(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wr(n,e,t){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?px:xS).apply(null,arguments)}function Zm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function lr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function Vl(){this.s=this.s,this.o=this.o}Vl.prototype.s=!1,Vl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function c1(n){Object.prototype.hasOwnProperty.call(n,Wm)&&n[Wm]||(n[Wm]=++Yv)}(this)},Vl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function I_(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(rf(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let l=0;l<a;l++)n[r+l]=i[l]}else n.push(i)}}function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var DS=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",()=>{},e),Wt.removeEventListener("test",()=>{},e)}catch{}return n}();function sf(n){return/^[\s\xa0]*$/.test(n)}function af(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function ns(n){return-1!=af().indexOf(n)}function Xv(n){return Xv[" "](n),n}Xv[" "]=function(){};var cd,n,TS=ns("Opera"),sd=ns("Trident")||ns("MSIE"),SS=ns("Edge"),Jv=SS||sd,Km=ns("Gecko")&&!(-1!=af().toLowerCase().indexOf("webkit")&&!ns("Edge"))&&!(ns("Trident")||ns("MSIE"))&&!ns("Edge"),AS=-1!=af().toLowerCase().indexOf("webkit")&&!ns("Edge");function ad(){var n=Wt.document;return n?n.documentMode:void 0}e:{var eb="",C_=(n=af(),Km?/rv:([^\);]+)(\)|;)/.exec(n):SS?/Edge\/([\d\.]+)/.exec(n):sd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AS?/WebKit\/(\S+)/.exec(n):TS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(C_&&(eb=C_?C_[1]:""),sd){var tb=ad();if(null!=tb&&tb>parseFloat(eb)){cd=String(tb);break e}}cd=eb}var yx=Wt.document&&sd&&(ad()||parseInt(cd,10))||void 0;function cf(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Km){e:{try{Xv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ib[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cf.$.h.call(this)}}lr(cf,Ir);var ib={2:"touch",3:"pen",4:"mouse"};cf.prototype.h=function(){cf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),vx=0;function l1(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++vx,this.fa=this.ia=!1}function lf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Bl(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function rb(n){const e={};for(const t in n)e[t]=n[t];return e}const ob="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bx(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<ob.length;a++)t=ob[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function T_(n){this.src=n,this.g={},this.h=0}function sb(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=CS(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(lf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ab(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}T_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=ab(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new l1(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var cb="closure_lm_"+(1e6*Math.random()|0),lb={};function ub(n,e,t,i,r){if(i&&i.once)return db(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ub(n,e[a],t,i,r);return null}return t=wx(t),n&&n[Sc]?n.O(e,t,Ll(i)?!!i.capture:!!i,r):ld(n,e,t,!1,i,r)}function ld(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var l=Ll(r)?!!r.capture:!!r,f=S_(n);if(f||(n[cb]=f=new T_(n)),(t=f.add(e,t,i,l,a)).proxy)return t;if(i=function Ac(){const e=u1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)DS||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(kS(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function db(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)db(n,e[a],t,i,r);return null}return t=wx(t),n&&n[Sc]?n.P(e,t,Ll(i)?!!i.capture:!!i,r):ld(n,e,t,!0,i,r)}function MS(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)MS(n,e[a],t,i,r);else i=Ll(i)?!!i.capture:!!i,t=wx(t),n&&n[Sc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ab(a=n.g[e],t,i,r))&&(lf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=S_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ab(e,t,i,r)),(t=-1<n?e[n]:null)&&hb(t))}function hb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Sc])sb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(kS(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=S_(e))?(sb(t,n),0==t.h&&(t.src=null,e[cb]=null)):lf(n)}}}function kS(n){return n in lb?lb[n]:lb[n]="on"+n}function u1(n,e){if(n.fa)n=!0;else{e=new cf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&hb(n),n=t.call(i,e)}return n}function S_(n){return(n=n[cb])instanceof T_?n:null}var A_="__closure_events_fn_"+(1e9*Math.random()>>>0);function wx(n){return"function"==typeof n?n:(n[A_]||(n[A_]=function(e){return n.handleEvent(e)}),n[A_])}function ur(){Vl.call(this),this.i=new T_(this),this.S=this,this.J=null}function Qi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;bx(e=new Ir(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];r=Ym(l,i,!0,e)&&r}if(r=Ym(l=e.g=n,i,!0,e)&&r,r=Ym(l,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Ym(l=e.g=t[a],i,!1,e)&&r}function Ym(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,g=l.la||l.src;l.ia&&sb(n.i,l),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}lr(ur,Vl),ur.prototype[Sc]=!0,ur.prototype.removeEventListener=function(n,e,t,i){MS(this,n,e,t,i)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)lf(t[i]);delete n.g[e],n.h--}}this.J=null},ur.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ur.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var M_=Wt.JSON.stringify;function Yt(){var n=k_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fb=new class Ex{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new d1,n=>n.reset());class d1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function RS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ix(n){Wt.setTimeout(()=>{throw n},0)}let Qm,Xm=!1,k_=new class xx{constructor(){this.h=this.g=null}add(e,t){const i=fb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Cx=()=>{const n=Wt.Promise.resolve(void 0);Qm=()=>{n.then(Dx)}};var Dx=()=>{for(var n;n=Yt();){try{n.h.call(n.g)}catch(t){Ix(t)}var e=fb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xm=!1};function R_(n,e){ur.call(this),this.h=n||1,this.g=e||Wt,this.j=Wr(this.qb,this),this.l=Date.now()}function mb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Tx(n,e,t){if("function"==typeof n)t&&(n=Wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function pb(n){n.g=Tx(()=>{n.g=null,n.i&&(n.i=!1,pb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}lr(R_,ur),(et=R_.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qi(this,"tick"),this.ga&&(mb(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){R_.$.N.call(this),mb(this),delete this.g};class Sx extends Vl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pb(this)}N(){super.N(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(n){Vl.call(this),this.h=n,this.g={}}lr(Cs,Vl);var ud=[];function gb(n,e,t,i){Array.isArray(t)||(t&&(ud[0]=t.toString()),t=ud);for(var r=0;r<t.length;r++){var a=ub(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Ax(n){Bl(n.g,function(e,t){this.g.hasOwnProperty(t)&&hb(e)},n),n.g={}}function dd(){this.g=!0}function Ua(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<r.length;l++)r[l]=""}}}return M_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Cs.prototype.N=function(){Cs.$.N.call(this),Ax(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dd.prototype.Ea=function(){this.g=!1},dd.prototype.info=function(){};var Mc={},O_=null;function Jm(){return O_=O_||new ur}function N_(n){Ir.call(this,Mc.Ta,n)}function ep(n){const e=Jm();Qi(e,new N_(e))}function kx(n,e){Ir.call(this,Mc.STAT_EVENT,n),this.stat=e}function ho(n){const e=Jm();Qi(e,new kx(e,n))}function vb(n,e){Ir.call(this,Mc.Ua,n),this.size=e}function tp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Mc.Ta="serverreachability",lr(N_,Ir),Mc.STAT_EVENT="statevent",lr(kx,Ir),Mc.Ua="timingevent",lr(vb,Ir);var P_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bb(){}function Eb(){}bb.prototype.h=null;var Ib,np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xb(){Ir.call(this,"d")}function fo(){Ir.call(this,"c")}function F_(){}function L_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Cs(this),this.P=Ox,this.V=new R_(n=Jv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new V_}function V_(){this.i=null,this.g="",this.h=!1}lr(xb,Ir),lr(fo,Ir),lr(F_,bb),F_.prototype.g=function(){return new XMLHttpRequest},F_.prototype.i=function(){return{}},Ib=new F_;var Ox=45e3,Cb={},B_={};function Db(n,e,t){n.L=1,n.v=op(Ts(e)),n.s=t,n.S=!0,Tb(n,null)}function Tb(n,e){n.G=Date.now(),ip(n),n.A=Ts(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),ap(t.i,"t",i),n.C=0,t=n.l.J,n.h=new V_,n.g=wd(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Sx(Wr(n.Pa,n,n.g),n.O)),gb(n.U,n.g,"readystatechange",n.nb),e=n.I?rb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ep(),function uf(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var C=v[0];v=v[1];var A=C.split("_");l=2<=A.length&&"type"==A[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Nx(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Px(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Sb(n,t),r==B_){4==e&&(n.o=4,ho(14),i=!1),Ua(n.j,n.m,null,"[Incomplete Response]");break}if(r==Cb){n.o=4,ho(15),Ua(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ua(n.j,n.m,r,null),Ds(n,r)}Nx(n)&&r!=B_&&r!=Cb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ho(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cr(e),e.M=!0,ho(11))):(Ua(n.j,n.m,t,"[Invalid Chunked Response]"),hd(n),rp(n))}function Sb(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?B_:(t=Number(e.substring(t,i)),isNaN(t)?Cb:(i+=1)+t>e.length?B_:(e=e.slice(i,i+t),n.C=i+t,e))}function ip(n){n.Y=Date.now()+n.P,Fx(n,n.P)}function Fx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tp(Wr(n.lb,n),e)}function U_(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function rp(n){0==n.l.H||n.J||is(n.l,n)}function hd(n){U_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,mb(n.V),Ax(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ds(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Fb(t.i,n)))if(!n.K&&Fb(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;yd(t),hp(t)}_d(t),ho(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=tp(Wr(t.ib,t),6e3));if(1>=Hx(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ss(t,11)}else if((n.K||t.g==n)&&yd(t),!sf(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const U=v[5];null!=U&&"number"==typeof U&&0<U&&(t.L=i=1.5*U,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const $=n.g;if($){const Z=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var a=i.i;a.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(z_(a,a.h),a.h=null))}if(i.F){const ne=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.Da=ne,Xn(i.I,i.F,ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=bd(i,i.J?i.pa:null,i.Y),l.K){Lb(i.i,l);var f=l,g=i.L;g&&f.setTimeout(g),f.B&&(U_(f),ip(f)),i.g=l}else Js(i);0<t.j.length&&pd(t)}else"stop"!=v[0]&&"close"!=v[0]||Ss(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Ss(t,7):W_(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}ep()}catch{}}function Mb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function OS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Ab(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rf(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(et=L_.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==za(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const C=za(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||Jv||this.g&&(this.h.h||this.g.ja()||Xx(this.g)))){this.J||4!=C||7==e||ep(),U_(this);var t=this.g.da();this.ca=t;t:if(Nx(this)){var i=Xx(this.g);n="";var r=i.length,a=4==za(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hd(this),rp(this);var l="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function _b(n,e,t,i,r,a,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sf(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,ho(12),hd(this),rp(this);break e}Ua(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,t)}this.S?(Px(this,C,l),Jv&&this.i&&3==C&&(gb(this.U,this.V,"tick",this.mb),this.V.start())):(Ua(this.j,this.m,l,null),Ds(this,l)),4==C&&hd(this),this.i&&!this.J&&(4==C?is(this.l,this):(this.i=!1,ip(this)))}else(function jS(n){const e={};n=(n.g&&2<=za(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(sf(n[i]))continue;var t=RS(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[r]||[];e[r]=a,a.push(t)}!function D_(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ho(12)):(this.o=0,ho(13)),hd(this),rp(this)}}}catch{}},et.mb=function(){if(this.g){var n=za(this.g),e=this.g.ja();this.C<e.length&&(U_(this),Px(this,n,e),this.i&&4!=n&&ip(this))}},et.cancel=function(){this.J=!0,hd(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Mx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ep(),ho(17)),hd(this),this.o=2,rp(this)):Fx(this,this.Y-n)};var Lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ul){this.h=n.h,df(this,n.j),this.s=n.s,this.g=n.g,kb(this,n.m),this.l=n.l;var e=n.i,t=new sp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rb(this,t),this.o=n.o}else n&&(e=String(n).match(Lx))?(this.h=!1,df(this,e[1]||"",!0),this.s=hf(e[2]||""),this.g=hf(e[3]||"",!0),kb(this,e[4]),this.l=hf(e[5]||"",!0),Rb(this,e[6]||"",!0),this.o=hf(e[7]||"")):(this.h=!1,this.i=new sp(null,this.h))}function Ts(n){return new Ul(n)}function df(n,e,t){n.j=t?hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rb(n,e,t){e instanceof sp?(n.i=e,function j_(n,e){e&&!n.j&&(md(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Nb(this,i),ap(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fd(e,PS)),n.i=new sp(e,n.h))}function Xn(n,e,t){n.i.set(e,t)}function op(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kc),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ul.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fd(e,Bx,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fd(e,Bx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fd(t,"/"==t.charAt(0)?Ob:NS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fd(t,FS)),n.join("")};var Bx=/[#\/\?@]/g,NS=/[#\?:]/g,Ob=/[#\?]/g,PS=/[#\?@]/g,FS=/#/g;function sp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function md(n){n.g||(n.g=new Map,n.h=0,n.i&&function Vx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Nb(n,e){md(n),e=ja(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ux(n,e){return md(n),e=ja(n,e),n.g.has(e)}function ap(n,e,t){Nb(n,e),0<t.length&&(n.i=null,n.g.set(ja(n,e),Qv(t)),n.h+=t.length)}function ja(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jx(n){this.l=n||zx,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ka&&Wt.g.Ka()&&Wt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=sp.prototype).add=function(n,e){md(this),this.i=null,n=ja(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){md(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},et.ta=function(){md(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},et.Z=function(n){md(this);let e=[];if("string"==typeof n)Ux(this,n)&&(e=e.concat(this.g.get(ja(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return md(this),this.i=null,Ux(this,n=ja(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=a;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var zx=10;function Pb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hx(n){return n.h?1:n.g?n.g.size:0}function Fb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function z_(n,e){n.g?n.g.add(e):n.h=e}function Lb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ff(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qv(n.i)}jx.prototype.cancel=function(){if(this.i=ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var LS=class{stringify(n){return Wt.JSON.stringify(n,void 0)}parse(n){return Wt.JSON.parse(n,void 0)}};function $x(){this.g=new LS}function Gx(n,e,t){const i=t||"";try{Mb(n,function(r,a){let l=r;Ll(r)&&(l=M_(r)),e.push(i+a+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function H_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Rc(n){this.l=n.fc||null,this.j=n.ob||!1}function $_(n,e){ur.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Vb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lr(Rc,bb),Rc.prototype.g=function(){return new $_(this.l,this.j)},Rc.prototype.i=function(n){return function(){return n}}({}),lr($_,ur);var Vb=0;function qx(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function cp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lp(n)}function lp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=$_.prototype).open=function(n,e){if(this.readyState!=Vb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lp(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Wt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cp(this)),this.readyState=Vb},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lp(this)),this.g&&(this.readyState=3,lp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qx(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cp(this):lp(this),3==this.readyState&&qx(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,cp(this))},et.Ya=function(n){this.g&&(this.response=n,cp(this))},et.ka=function(){this.g&&cp(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BS=Wt.JSON.parse;function Si(n){ur.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wx,this.L=this.M=!1}lr(Si,ur);var Wx="",Zx=/^https?$/i,Bb=["POST","PUT"];function up(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Kx(n),G_(n)}function Kx(n){n.F||(n.F=!0,Qi(n,"complete"),Qi(n,"error"))}function Yx(n){if(n.h&&typeof od<"u"&&(!n.C[1]||4!=za(n)||2!=n.da()))if(n.v&&4==za(n))Tx(n.La,0,n);else if(Qi(n,"readystatechange"),4==za(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(Lx)[1]||null;!r&&Wt.self&&Wt.self.location&&(r=Wt.self.location.protocol.slice(0,-1)),i=!Zx.test(r?r.toLowerCase():"")}t=i}if(t)Qi(n,"complete"),Qi(n,"success");else{n.m=6;try{var a=2<za(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Kx(n)}}finally{G_(n)}}}function G_(n,e){if(n.g){Qx(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Qi(n,"ready");try{t.onreadystatechange=i}catch{}}}function Qx(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function za(n){return n.g?n.g.readyState:0}function Xx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Wx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ub(n){let e="";return Bl(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function q_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Ub(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zS(n){this.Ga=0,this.j=[],this.l=new dd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dp("baseRetryDelayMs",5e3,n),this.hb=dp("retryDelaySeedMs",1e4,n),this.eb=dp("forwardChannelMaxRetries",2,n),this.xa=dp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jx(n&&n.concurrentRequestLimit),this.Ja=new $x,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function W_(n){if(HS(n),3==n.H){var e=n.W++,t=Ts(n.I);if(Xn(t,"SID",n.K),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),gd(n,t),(e=new L_(n,n.l,e)).L=2,e.v=op(Ts(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon)try{t=Wt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=wd(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ip(e)}vd(n)}function hp(n){n.g&&(Cr(n),n.g.cancel(),n.g=null)}function HS(n){hp(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),yd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function pd(n){if(!Pb(n.i)&&!n.m){n.m=!0;var e=n.Na;Qm||Cx(),Xm||(Qm(),Xm=!0),k_.add(e,n),n.C=0}}function Jx(n,e){var t;t=e?e.m:n.W++;const i=Ts(n.I);Xn(i,"SID",n.K),Xn(i,"RID",t),Xn(i,"AID",n.V),gd(n,i),n.o&&n.s&&q_(i,n.o,n.s),t=new L_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),z_(n.i,t),Db(t,i,e)}function gd(n,e){n.na&&Bl(n.na,function(t,i){Xn(e,i,t)}),n.h&&Mb({},function(t,i){Xn(e,i,t)})}function eI(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Wr(n.h.Va,n.h,n):null;e:{var r=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=r[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=r[g].g;const C=r[g].map;if(v-=a,0>v)a=Math.max(0,r[g].g-100),f=!1;else try{Gx(C,l,"req"+v+"_")}catch{i&&i(C)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Js(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qm||Cx(),Xm||(Qm(),Xm=!0),k_.add(e,n),n.A=0}}function _d(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=tp(Wr(n.Ma,n),Z_(n,n.A)),n.A++,0))}function Cr(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function jl(n){n.g=new L_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ts(n.wa);Xn(e,"RID","rpc"),Xn(e,"SID",n.K),Xn(e,"AID",n.V),Xn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Xn(e,"TO",n.qa),Xn(e,"TYPE","xmlhttp"),gd(n,e),n.o&&n.s&&q_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=op(Ts(e)),t.s=null,t.S=!0,Tb(t,n)}function yd(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function is(n,e){var t=null;if(n.g==e){yd(n),Cr(n),n.g=null;var i=2}else{if(!Fb(n.i,e))return;t=e.F,Lb(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Qi(i=Jm(),new vb(i,t)),pd(n)}else Js(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function $S(n,e){return!(Hx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=tp(Wr(n.Na,n,e),Z_(n,n.C)),n.C++,0)))}(n,e)||2==i&&_d(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ss(n,5);break;case 4:Ss(n,10);break;case 3:Ss(n,6);break;default:Ss(n,2)}}function Z_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ss(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Wr(n.pb,n);t||(t=new Ul("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||df(t,"https"),op(t)),function VS(n,e){const t=new dd;if(Wt.Image){const i=new Image;i.onload=Zm(H_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Zm(H_,t,i,"TestLoadImage: error",!1,e),i.onabort=Zm(H_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zm(H_,t,i,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ho(2);n.H=0,n.h&&n.h.za(e),vd(n),HS(n)}function vd(n){if(n.H=0,n.ma=[],n.h){const e=ff(n.i);(0!=e.length||0!=n.j.length)&&(I_(n.ma,e),I_(n.ma,n.j),n.i.i.length=0,Qv(n.j),n.j.length=0),n.h.ya()}}function bd(n,e,t){var i=t instanceof Ul?Ts(t):new Ul(t);if(""!=i.g)e&&(i.g=e+"."+i.g),kb(i,i.m);else{var r=Wt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Ul(null);i&&df(a,i),e&&(a.g=e),r&&kb(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&Xn(i,t,e),Xn(i,"VER",n.ra),gd(n,i),i}function wd(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Si(t&&n.Ha&&!n.va?new Rc({ob:!0}):n.va)).Oa(n.J),e}function Ed(){}function Oc(){if(sd&&!(10<=Number(yx)))throw Error("Environmental error: no available transport.")}function Dr(n,e){ur.call(this),this.g=new zS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cd(this)}function xd(n){xb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Id(){fo.call(this),this.status=1}function Cd(n){this.g=n}function As(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function K_(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;l=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=a+((l=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function kn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(et=Si.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ib.g(),this.C=function wb(n){return n.h||(n.h=n.i())}(this.u?this.u:Ib),this.g.onreadystatechange=Wr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void up(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Wt.FormData&&n instanceof Wt.FormData,!(0<=CS(Bb,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qx(this),0<this.B&&((this.L=function US(n){return sd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.ua,this)):this.A=Tx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){up(this,a)}},et.ua=function(){typeof od<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qi(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qi(this,"complete"),Qi(this,"abort"),G_(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),G_(this,!0)),Si.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?Yx(this):this.kb())},et.kb=function(){Yx(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<za(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BS(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=zS.prototype).ra=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new L_(this,this.l,n);let a=this.s;if(this.U&&(a?(a=rb(a),bx(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eI(this,r,e),Xn(t=Ts(this.I),"RID",n),Xn(t,"CVER",22),this.F&&Xn(t,"X-HTTP-Session-Id",this.F),gd(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Ub(a)))+"&"+e:this.o&&q_(t,this.o,a)),z_(this.i,r),this.bb&&Xn(t,"TYPE","init"),this.P?(Xn(t,"$req",e),Xn(t,"SID","null"),r.aa=!0,Db(r,t,null)):Db(r,t,e),this.H=2}}else 3==this.H&&(n?Jx(this,n):0==this.j.length||Pb(this.i)||Jx(this))},et.Ma=function(){if(this.u=null,jl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=tp(Wr(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ho(10),hp(this),jl(this))},et.ib=function(){null!=this.v&&(this.v=null,hp(this),_d(this),ho(19))},et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ho(2)):(this.l.info("Failed to ping google.com"),ho(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=Ed.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},Oc.prototype.g=function(n,e){return new Dr(n,e)},lr(Dr,ur),Dr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ho(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=bd(n,null,n.Y),pd(n)},Dr.prototype.close=function(){W_(this.g)},Dr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=M_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&pd(e)},Dr.prototype.N=function(){this.g.h=null,delete this.j,W_(this.g),delete this.g,Dr.$.N.call(this)},lr(xd,xb),lr(Id,fo),lr(Cd,Ed),Cd.prototype.Ba=function(){Qi(this.g,"a")},Cd.prototype.Aa=function(n){Qi(this.g,new xd(n))},Cd.prototype.za=function(n){Qi(this.g,new Id)},Cd.prototype.ya=function(){Qi(this.g,"b")},lr(As,function tI(){this.blockSize=-1}),As.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},As.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)K_(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){K_(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){K_(this,i),r=0;break}}this.h=r,this.i+=e},As.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var nI={};function Y_(n){return-128<=n&&128>n?function gx(n,e){var t=nI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new kn([0|e],0>e?-1:0)}):new kn([0|n],0>n?-1:0)}function ea(n){if(isNaN(n)||!isFinite(n))return mf;if(0>n)return Zr(ea(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=fp;return new kn(e,0)}var fp=4294967296,mf=Y_(0),iI=Y_(1),GS=Y_(16777216);function Nc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ms(n){return-1==n.h}function Zr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new kn(t,~n.h).add(iI)}function Q_(n,e){return n.add(Zr(e))}function zb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function mp(n,e){this.g=n,this.h=e}function X_(n,e){if(Nc(e))throw Error("division by zero");if(Nc(n))return new mp(mf,mf);if(Ms(n))return e=X_(Zr(n),e),new mp(Zr(e.g),Zr(e.h));if(Ms(e))return e=X_(n,Zr(e)),new mp(Zr(e.g),e.h);if(30<n.g.length){if(Ms(n)||Ms(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iI,i=e;0>=i.X(n);)t=rI(t),i=rI(i);var r=zl(t,1),a=zl(i,1);for(i=zl(i,2),t=zl(t,2);!Nc(i);){var l=a.add(i);0>=l.X(n)&&(r=r.add(t),a=l),i=zl(i,1),t=zl(t,1)}return e=Q_(n,r.R(e)),new mp(r,e)}for(r=mf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(a=ea(t)).R(e);Ms(l)||0<l.X(n);)l=(a=ea(t-=i)).R(e);Nc(a)&&(a=iI),r=r.add(a),n=Q_(n,l)}return new mp(r,n)}function rI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new kn(t,n.h)}function zl(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new kn(r,n.h)}(et=kn.prototype).ea=function(){if(Ms(this))return-Zr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:fp+i)*e,e*=fp}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Nc(this))return"0";if(Ms(this))return"-"+Zr(this).toString(n);for(var e=ea(Math.pow(n,6)),t=this,i="";;){var r=X_(t,e).g,a=((0<(t=Q_(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Nc(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return Ms(n=Q_(this,n))?-1:Nc(n)?0:1},et.abs=function(){return Ms(this)?Zr(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),l=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(a&=65535)}return new kn(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(Nc(this)||Nc(n))return mf;if(Ms(this))return Ms(n)?Zr(this).R(Zr(n)):Zr(Zr(this).R(n));if(Ms(n))return Zr(this.R(Zr(n)));if(0>this.X(GS)&&0>n.X(GS))return ea(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,g=65535&n.D(r);t[2*i+2*r]+=l*g,zb(t,2*i+2*r),t[2*i+2*r+1]+=a*g,zb(t,2*i+2*r+1),t[2*i+2*r+1]+=l*f,zb(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,zb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new kn(t,0)},et.gb=function(n){return X_(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new kn(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new kn(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new kn(t,this.h^n.h)},Oc.prototype.createWebChannel=Oc.prototype.g,Dr.prototype.send=Dr.prototype.u,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,P_.NO_ERROR=0,P_.TIMEOUT=8,P_.HTTP_ERROR=6,Rx.COMPLETE="complete",Eb.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",ur.prototype.listen=ur.prototype.O,Si.prototype.listenOnce=Si.prototype.P,Si.prototype.getLastError=Si.prototype.Sa,Si.prototype.getLastErrorCode=Si.prototype.Ia,Si.prototype.getStatus=Si.prototype.da,Si.prototype.getResponseJson=Si.prototype.Wa,Si.prototype.getResponseText=Si.prototype.ja,Si.prototype.send=Si.prototype.ha,Si.prototype.setWithCredentials=Si.prototype.Oa,As.prototype.digest=As.prototype.l,As.prototype.reset=As.prototype.reset,As.prototype.update=As.prototype.j,kn.prototype.add=kn.prototype.add,kn.prototype.multiply=kn.prototype.R,kn.prototype.modulo=kn.prototype.gb,kn.prototype.compare=kn.prototype.X,kn.prototype.toNumber=kn.prototype.ea,kn.prototype.toString=kn.prototype.toString,kn.prototype.getBits=kn.prototype.D,kn.fromNumber=ea,kn.fromString=function jb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zr(jb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ea(Math.pow(e,8)),i=mf,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+a),e);8>a?(a=ea(Math.pow(e,a)),i=i.R(a).add(ea(l))):i=(i=i.R(t)).add(ea(l))}return i};var pp=uo.createWebChannelTransport=function(){return new Oc},Hb=uo.getStatEventTarget=function(){return Jm()},pf=uo.ErrorCode=P_,oI=uo.EventType=Rx,gp=uo.Event=Mc,$b=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qS=uo.FetchXmlHttpFactory=Rc,Hl=uo.WebChannel=Eb,WS=uo.XhrIo=Si,ZS=uo.Md5=As,gf=uo.Integer=kn;const sI="@firebase/firestore";class Xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let Pc="9.23.0";const ta=new ts.Yd("@firebase/firestore");function aI(){return ta.logLevel}function Be(n,...e){if(ta.logLevel<=ts.in.DEBUG){const t=e.map(J_);ta.debug(`Firestore (${Pc}): ${n}`,...t)}}function bi(n,...e){if(ta.logLevel<=ts.in.ERROR){const t=e.map(J_);ta.error(`Firestore (${Pc}): ${n}`,...t)}}function ks(n,...e){if(ta.logLevel<=ts.in.WARN){const t=e.map(J_);ta.warn(`Firestore (${Pc}): ${n}`,...t)}}function J_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function vt(n,e){n||at()}function tt(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class Gb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qb{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new dr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,we.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new dr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt("string"==typeof i.accessToken),new lI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new Xi(e)}}class YS{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ey{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new YS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _p{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.T=t.token,new _p(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class dI{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=XS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[a]%62))}return i}}function Zt(n,e){return n<e?-1:n>e?1:0}function $l(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ty(n){return n+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new oi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new oi(0,0))}static max(){return new bt(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yp{constructor(e,t,i){void 0===t?t=0:t>e.length&&at(),void 0===i?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),l=t.get(r);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends yp{construct(e,t,i){return new yn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends yp{construct(e,t,i){return new fi(e,t,i)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Oe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Oe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(a(),r++)}if(a(),l)throw new Oe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(yn.fromString(e))}static fromName(e){return new Qe(yn.fromString(e).popFirst(5))}static empty(){return new Qe(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new yn(e.slice()))}}class _f{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function vp(n){return n.fields.find(e=>2===e.kind)}function Dd(n){return n.fields.filter(e=>2!==e.kind)}_f.UNKNOWN_ID=-1;class bp{constructor(e,t){this.fieldPath=e,this.kind=t}}class yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yf(0,ko.min())}}function pI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=bt.fromTimestamp(1e9===i?new oi(t+1,0):new oi(t,i));return new ko(r,Qe.empty(),e)}function Zb(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ko(bt.min(),Qe.empty(),-1)}static max(){return new ko(bt.max(),Qe.empty(),-1)}}function ny(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const iy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fc(n){return ry.apply(this,arguments)}function ry(){return ry=(0,we.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==iy)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),ry.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,a=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++a,l&&a===r&&t()},g=>i(g))}),l=!0,a===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const a=e.length,l=new Array(a);let f=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(C=>{l[v]=C,++f,f===a&&i(l)},C=>r(C))}})}static doWhile(e,t){return new ae((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class wp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new dr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new vf(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Ep(i.target.error);this.v.reject(new vf(e,r))}}static open(e,t,i,r){try{return new wp(t,e.transaction(r,i))}catch(a){throw new vf(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Gl(t)}}class Rs{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Rs.S((0,zt.z$)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Td(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,zt.hl)())return!1;if(Rs.C())return!0;const e=(0,zt.z$)(),t=Rs.S(e),i=0<t&&t<10,r=Rs.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,we.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{i(l.target.result)},a.onblocked=()=>{r(new vf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Oe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new vf(e,f))},a.onupgradeneeded=l=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const g=wp.open(a.db,e,l?"readonly":"readwrite",i),v=r(g).next(C=>(g.P(),C)).catch(C=>(g.abort(C),ae.reject(C))).toPromise();return v.catch(()=>{}),yield g.R,v}catch(g){const v=g,C="FirebaseError"!==v.name&&f<3;if(Be("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),a.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Td(this.L.delete())}}class vf extends Oe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function na(n){return"IndexedDbTransactionError"===n.name}class Gl{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Td(i)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Td(this.store.add(e))}get(e){return Td(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Td(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Td(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(l,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ae((a,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,l,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=a=>{const l=Ep(a.target.error);r(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(e,t){const i=[];return new ae((r,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const g=new gI(f),v=t(f.primaryKey,f.value,g);if(v instanceof ae){const C=v.catch(A=>(g.done(),ae.reject(A)));i.push(C)}g.isDone?r():null===g.K?f.continue():f.continue(g.K)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Td(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Ep(i.target.error);t(r)}})}let _I=!1;function Ep(n){const e=Rs.S((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _I||(_I=!0,setTimeout(()=>{throw i},0)),i}}return n}class Sd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){na(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Fc(i)}yield t.et(6e4)}))}}class Yb{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return ae.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Be("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(f=>{r-=f,i.add(l)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,a)).next(f=>(Be("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const l=Zb(a);ny(l,i)>0&&(i=l)}),new ko(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let rs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ad(n){return null==n}function oy(n){return 0===n&&1/n==-1/0}function JS(n){return"number"==typeof n&&Number.isInteger(n)&&!oy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Kr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qb(e)),e=eA(n.get(t),e);return Qb(e)}function eA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Qb(n){return n+"\x01\x01"}function Ha(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&at(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,l),r+="\0";break;case"\x11":r+=n.substring(a,l+1);break;default:at()}a=l+2}return new yn(i)}const Ji=["userId","batchId"];function xp(n,e){return[n,Kr(e)]}function yI(n,e,t){return[n,Kr(e),t]}const tA={},vI=["prefixPath","collectionGroup","readTime","documentId"],nA=["prefixPath","collectionGroup","documentId"],bI=["collectionGroup","readTime","prefixPath","documentId"],wI=["canonicalId","targetId"],bf=["targetId","path"],iA=["path","targetId"],rA=["collectionId","parent"],EI=["indexId","uid"],oA=["uid","sequenceNumber"],xI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],f1=["indexId","uid","orderedDocumentKey"],Xb=["userId","collectionPath","documentId"],Jb=["userId","collectionPath","largestBatchId"],$a=["userId","collectionGroup","largestBatchId"],II=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sA=[...II,"documentOverlays"],ia=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Os=ia,ra=[...Os,"indexConfiguration","indexState","indexEntries"];class sy extends Kb{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function hr(n,e){const t=tt(n);return Rs.M(t.ht,e)}function CI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ql(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jn{constructor(e,t){this.comparator=e,this.root=t||Hi.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Hi.RED,this.left=r??Hi.EMPTY,this.right=a??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hi(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1,Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Hi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(e){return new e0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new si(this.comparator);return t.data=e,t}}class e0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ef(n){return n.hasNext()?n.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Ro([])}unionWith(e){let t=new si(fi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new t0("Invalid base64 string: "+r):r}}(e);return new Ai(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(vt(!!n),"string"==typeof n){let e=0;const t=aA.exec(n);if(vt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ga(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function ay(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cy(n){const e=n.mapValue.fields.__previous_value__;return ay(e)?cy(e):e}function Md(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}class n0{constructor(e,t,i,r,a,l,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class Vc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ip={nullValue:"NULL_VALUE"};function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ay(n)?4:MI(n)?9007199254740991:10:at()}function oa(n,e){if(n===e)return!0;const t=Uc(n);if(t!==Uc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Md(n).isEqual(Md(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Lc(i.timestampValue),l=Lc(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ga(n.bytesValue).isEqual(Ga(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=wi(i.doubleValue),l=wi(r.doubleValue);return a===l?oy(a)===oy(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return $l(n.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(i,r){const a=i.mapValue.fields||{},l=r.mapValue.fields||{};if(CI(a)!==CI(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!oa(a[f],l[f])))return!1;return!0}(n,e);default:return at()}var r}function xf(n,e){return void 0!==(n.values||[]).find(t=>oa(t,e))}function jc(n,e){if(n===e)return 0;const t=Uc(n),i=Uc(e);if(t!==i)return Zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const l=wi(r.integerValue||r.doubleValue),f=wi(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return r0(n.timestampValue,e.timestampValue);case 4:return r0(Md(n),Md(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,a){const l=Ga(r),f=Ga(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),f=a.split("/");for(let g=0;g<l.length&&g<f.length;g++){const v=Zt(l[g],f[g]);if(0!==v)return v}return Zt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const l=Zt(wi(r.latitude),wi(a.latitude));return 0!==l?l:Zt(wi(r.longitude),wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const l=r.values||[],f=a.values||[];for(let g=0;g<l.length&&g<f.length;++g){const v=jc(l[g],f[g]);if(v)return v}return Zt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Bc.mapValue&&a===Bc.mapValue)return 0;if(r===Bc.mapValue)return 1;if(a===Bc.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const A=Zt(f[C],v[C]);if(0!==A)return A;const U=jc(l[f[C]],g[v[C]]);if(0!==U)return U}return Zt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw at()}}function r0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Lc(n),i=Lc(e),r=Zt(t.seconds,i.seconds);return 0!==r?r:Zt(t.nanos,i.nanos)}function If(n){return o0(n)}function o0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ga(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const l of i.values||[])a?a=!1:r+=",",r+=o0(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",l=!0;for(const f of r)l?l=!1:a+=",",a+=`${f}:${o0(i.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function kd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function s0(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function SI(n){return!!n&&"nullValue"in n}function AI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uy(n){return!!n&&"mapValue"in n}function Dp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ql(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Dp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cA(n){return"nullValue"in n?Ip:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kd(Vc.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function lA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kd(Vc.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bc:at()}function kI(n,e){const t=jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RI(n,e){const t=jc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dp(t)}setAll(e){let t=fi.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=Dp(l):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());uy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];uy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ql(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Pr(Dp(this.value))}}function OI(n){const e=[];return ql(n.fields,(t,i)=>{const r=new fi([t]);if(uy(i)){const a=OI(i.mapValue).fields;if(0===a.length)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Ro(e)}class ai{constructor(e,t,i,r,a,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new ai(e,0,bt.min(),bt.min(),bt.min(),Pr.empty(),0)}static newFoundDocument(e,t,i,r){return new ai(e,1,t,bt.min(),i,r,0)}static newNoDocument(e,t){return new ai(e,2,t,bt.min(),bt.min(),Pr.empty(),0)}static newUnknownDocument(e,t){return new ai(e,3,t,bt.min(),bt.min(),Pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}function a0(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(i=a.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):jc(l,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function c0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oa(n.position[t],e.position[t]))return!1;return!0}class Rd{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class l0{}class dn extends l0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new d0(e,t,i):"array-contains"===t?new p1(e,i):"in"===t?new Pd(e,i):"not-in"===t?new dA(e,i):"array-contains-any"===t?new hA(e,i):new dn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new m1(e,i):new FI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jc(t,this.value)):null!==t&&Uc(this.value)===Uc(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends l0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Rn(e,t)}matches(e){return Od(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Od(n){return"and"===n.op}function dy(n){return"or"===n.op}function Tp(n){return Wl(n)&&Od(n)}function Wl(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}function u0(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+If(n.value);if(Tp(n))return n.filters.map(e=>u0(e)).join(",");{const e=n.filters.map(t=>u0(t)).join(",");return`${n.op}(${e})`}}function PI(n,e){return n instanceof dn?(t=n,(i=e)instanceof dn&&t.op===i.op&&t.field.isEqual(i.field)&&oa(t.value,i.value)):n instanceof Rn?function(t,i){return i instanceof Rn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,l)=>r&&PI(a,i.filters[l]),!0)}(n,e):void at();var t,i}function Nd(n,e){const t=n.filters.concat(e);return Rn.create(t,n.op)}function uA(n){return n instanceof dn?`${(e=n).field.canonicalString()} ${e.op} ${If(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(uA).join(" ,")+"}"}(n):"Filter";var e}class d0 extends dn{constructor(e,t,i){super(e,t,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class m1 extends dn{constructor(e,t){super(e,"in",t),this.keys=h0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FI extends dn{constructor(e,t){super(e,"not-in",t),this.keys=h0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class p1 extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&xf(t.arrayValue,this.value)}}class Pd extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xf(this.value.arrayValue,t)}}class dA extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xf(this.value.arrayValue,t)}}class hA extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xf(this.value.arrayValue,i))}}class fA{constructor(e,t=null,i=[],r=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function Zl(n,e=null,t=[],i=[],r=null,a=null,l=null){return new fA(n,e,t,i,r,a,l)}function Fd(n){const e=tt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>u0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>If(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>If(i)).join(",")),e.dt=t}return e.dt}function Kl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c0(n.startAt,e.startAt)&&c0(n.endAt,e.endAt)}function Ld(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fr(n,e){return n.filters.filter(t=>t instanceof dn&&t.field.isEqual(e))}function mA(n,e,t){let i=Ip,r=!0;for(const a of Fr(n,e)){let l=Ip,f=!0;switch(a.op){case"<":case"<=":l=cA(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=Ip}kI({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];kI({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function f0(n,e,t){let i=Bc,r=!0;for(const a of Fr(n,e)){let l=Bc,f=!0;switch(a.op){case">=":case">":l=lA(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Bc}RI({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];RI({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class qa{constructor(e,t=null,i=[],r=[],a=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function LI(n,e,t,i,r,a,l,f){return new qa(n,e,t,i,r,a,l,f)}function Vd(n){return new qa(n)}function m0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function p0(n){return null!==n.collectionGroup}function Bd(n){const e=tt(n);if(null===e.wt){e.wt=[];const t=Sp(e),i=hy(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Rd(t)),e.wt.push(new Rd(fi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rd(fi.keyField(),a))}}}return e.wt}function mo(n){const e=tt(n);if(!e._t)if("F"===e.limitType)e._t=Zl(e.path,e.collectionGroup,Bd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Bd(e))t.push(new Rd(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;e._t=Zl(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Ud(n,e){e.getFirstInequalityField(),Sp(n);const t=n.filters.concat([e]);return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function fy(n,e,t){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ap(n,e){return Kl(mo(n),mo(e))&&n.limitType===e.limitType}function VI(n){return`${Fd(mo(n))}|lt:${n.limitType}`}function Cf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>uA(i)).join(", ")}]`),Ad(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>If(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>If(i)).join(",")),`Target(${t})`}(mo(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Bd(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,l){const f=a0(r,a,l);return r.inclusive?f<=0:f<0}(t.startAt,Bd(t),i)||t.endAt&&!function(r,a,l){const f=a0(r,a,l);return r.inclusive?f>=0:f>0}(t.endAt,Bd(t),i)));var t,i}function g0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _0(n){return(e,t)=>{let i=!1;for(const r of Bd(n)){const a=pA(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function pA(n,e,t){const i=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(r,a,l){const f=a.data.field(r),g=l.data.field(r);return null!==f&&null!==g?jc(f,g):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}class os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return DI(this.inner)}size(){return this.innerSize}}const Mp=new Jn(Qe.comparator);function Oo(){return Mp}const BI=new Jn(Qe.comparator);function kp(...n){let e=BI;for(const t of n)e=e.insert(t.key,t);return e}function y0(n){let e=BI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sa(){return Rp()}function v0(){return Rp()}function Rp(){return new os(n=>n.toString(),(n,e)=>n.isEqual(e))}const UI=new Jn(Qe.comparator),gA=new si(Qe.comparator);function Xt(...n){let e=gA;for(const t of n)e=e.add(t);return e}const g1=new si(Zt);function jI(){return g1}function _A(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oy(e)?"-0":e}}function yA(n){return{integerValue:""+n}}function b0(n,e){return JS(e)?yA(e):_A(n,e)}class jd{constructor(){this._=void 0}}function vA(n,e,t){return n instanceof Wa?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ay(r)&&(r=cy(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof zd?zI(n,e):n instanceof Hd?HI(n,e):function(i,r){const a=w0(i,r),l=$I(a)+$I(i.gt);return s0(a)&&s0(i.gt)?yA(l):_A(i.serializer,l)}(n,e)}function bA(n,e,t){return n instanceof zd?zI(n,e):n instanceof Hd?HI(n,e):t}function w0(n,e){return n instanceof Op?s0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Wa extends jd{}class zd extends jd{constructor(e){super(),this.elements=e}}function zI(n,e){const t=E0(e);for(const i of n.elements)t.some(r=>oa(r,i))||t.push(i);return{arrayValue:{values:t}}}class Hd extends jd{constructor(e){super(),this.elements=e}}function HI(n,e){let t=E0(e);for(const i of n.elements)t=t.filter(r=>!oa(r,i));return{arrayValue:{values:t}}}class Op extends jd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function $I(n){return wi(n.integerValue||n.doubleValue)}function E0(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Np{constructor(e,t){this.field=e,this.transform=t}}class Pp{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class my{}function x0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Af(n.key,mi.none()):new Sf(n.key,n.data,mi.none());{const t=n.data,i=Pr.empty();let r=new si(fi.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?i.delete(a):i.set(a,l),r=r.add(a)}return new Za(n.key,i,new Ro(r.toArray()),mi.none())}}function EA(n,e,t){n instanceof Sf?function(i,r,a){const l=i.value.clone(),f=GI(i.fieldTransforms,r,a.transformResults);l.setAll(f),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Za?function(i,r,a){if(!Fp(i.precondition,r))return void r.convertToUnknownDocument(a.version);const l=GI(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(I0(i)),f.setAll(l),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tf(n,e,t,i){return n instanceof Sf?function(r,a,l,f){if(!Fp(r.precondition,a))return l;const g=r.value.clone(),v=qI(r.fieldTransforms,f,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Za?function(r,a,l,f){if(!Fp(r.precondition,a))return l;const g=qI(r.fieldTransforms,f,a),v=a.data;return v.setAll(I0(r)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(l=t,Fp(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function xA(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=w0(i.transform,r||null);null!=a&&(null===t&&(t=Pr.empty()),t.set(i.field,a))}return t||null}function py(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&$l(t,i,(r,a)=>function wA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof zd&&i instanceof zd||t instanceof Hd&&i instanceof Hd?$l(t.elements,i.elements,oa):t instanceof Op&&i instanceof Op?oa(t.gt,i.gt):t instanceof Wa&&i instanceof Wa);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Sf extends my{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Za extends my{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function I0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function GI(n,e,t){const i=new Map;vt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,f=e.data.field(a.field);i.set(a.field,bA(l,f,t[r]))}return i}function qI(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,vA(a,l,e))}return i}class Af extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lp extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C0{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&EA(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=v0();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(r.key)?null:f;const g=x0(l,f);null!==g&&i.set(r.key,g),l.isValidDocument()||l.convertToNoDocument(bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(t,i)=>py(t,i))&&$l(this.baseMutations,e.baseMutations,(t,i)=>py(t,i))}}class gy{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vt(e.mutations.length===i.length);let r=UI;const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new gy(e,t,i,r)}}class D0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class CA{constructor(e,t){this.count=e,this.unchangedNames=t}}var er,vn;function WI(n){switch(n){default:return at();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function ZI(n){if(void 0===n)return bi("GRPC error has no .code"),he.UNKNOWN;switch(n){case er.OK:return he.OK;case er.CANCELLED:return he.CANCELLED;case er.UNKNOWN:return he.UNKNOWN;case er.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case er.INTERNAL:return he.INTERNAL;case er.UNAVAILABLE:return he.UNAVAILABLE;case er.UNAUTHENTICATED:return he.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case er.NOT_FOUND:return he.NOT_FOUND;case er.ALREADY_EXISTS:return he.ALREADY_EXISTS;case er.PERMISSION_DENIED:return he.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case er.ABORTED:return he.ABORTED;case er.OUT_OF_RANGE:return he.OUT_OF_RANGE;case er.UNIMPLEMENTED:return he.UNIMPLEMENTED;case er.DATA_LOSS:return he.DATA_LOSS;default:return at()}}(vn=er||(er={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class T0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vp}static getOrCreateInstance(){return null===Vp&&(Vp=new T0),Vp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vp=null;function S0(){return new TextEncoder}const DA=new gf([4294967295,4294967295],0);function KI(n){const e=S0().encode(n),t=new ZS;return t.update(e),new Uint8Array(t.digest())}function A0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gf([t,i],0),new gf([r,a],0)]}class M0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bp(`Invalid padding: ${t}`);if(i<0)throw new Bp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Bp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Bp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=gf.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(gf.fromNumber(i)));return 1===r.compare(DA)&&(r=new gf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=KI(e),[i,r]=A0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(i,r,a);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new M0(a,r,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=KI(e),[i,r]=A0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(i,r,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Up{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Up(bt.min(),r,new Jn(Zt),Oo(),Xt())}}class $d{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $d(i,t,Xt(),Xt(),Xt())}}class Mf{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class k0{constructor(e,t){this.targetId=e,this.Vt=t}}class _y{constructor(e,t,i=Ai.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class YI{constructor(){this.St=0,this.Dt=QI(),this.Ct=Ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xt(),t=Xt(),i=Xt();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new $d(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=QI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class TA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oo(),this.zt=yy(),this.Wt=new Jn(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,a=this.se(i);if(a){const l=a.target;if(Ld(l))if(0===r){const f=new Qe(l.path);this.Yt(i,f,ai.newNoDocument(f,bt.min()))}else vt(1===r);else{const f=this.ie(i);if(f!==r){const g=this.re(e,f);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=T0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,A){var U,$,Z,ne,fe,je;const Ke={localCacheCount:C,existenceFilterCount:A.count},$e=A.unchangedNames;return $e&&(Ke.bloomFilter={applied:0===v,hashCount:null!==(U=$e?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(ne=null===(Z=null===($=$e?.bits)||void 0===$?void 0:$.bitmap)||void 0===Z?void 0:Z.length)&&void 0!==ne?ne:0,padding:null!==(je=null===(fe=$e?.bits)||void 0===fe?void 0:fe.padding)&&void 0!==je?je:0}),Ke}(g,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=i;let g,v;try{g=Ga(a).toUint8Array()}catch(C){if(C instanceof t0)return ks("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new M0(g,l,f)}catch(C){return ks(C instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Ld(f.target)){const g=new Qe(f.target.path);null!==this.jt.get(g)||this.ae(l,g)||this.Yt(l,g,ai.newNoDocument(g,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let i=Xt();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(g=>{const v=this.se(g);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const r=new Up(e,t,this.Wt,this.jt,i);return this.jt=Oo(),this.zt=yy(),this.Wt=new Jn(Zt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new YI,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new si(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YI),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function yy(){return new Jn(Qe.comparator)}function QI(){return new Jn(Qe.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JI={and:"AND",or:"OR"};class SA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eC(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function Yl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vy(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function AA(n,e){return Yl(n,e.toTimestamp())}function Mi(n){return vt(!!n),bt.fromTimestamp(function(e){const t=Lc(e);return new oi(t.seconds,t.nanos)}(n))}function by(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tC(n){const e=yn.fromString(n);return vt(lC(e)),e}function Rf(n,e){return by(n.databaseId,e.path)}function Ns(n,e){const t=tC(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(O0(t))}function wy(n,e){return by(n.databaseId,e)}function R0(n){const e=tC(n);return 4===e.length?yn.emptyPath():O0(e)}function Of(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O0(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nC(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function iC(n,e,t){const i=Ns(n,e.name),r=Mi(e.updateTime),a=e.createTime?Mi(e.createTime):bt.min(),l=new Pr({mapValue:{fields:e.fields}}),f=ai.newFoundDocument(i,r,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Nf(n,e){let t;if(e instanceof Sf)t={update:nC(n,e.key,e.value)};else if(e instanceof Af)t={delete:Rf(n,e.key)};else if(e instanceof Za)t={update:nC(n,e.key,e.data),updateMask:LA(e.fieldMask)};else{if(!(e instanceof Lp))return at();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Wa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Op)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:AA(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),t;var r}function rC(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?mi.updateTime(Mi(r.updateTime)):void 0!==r.exists?mi.exists(r.exists):mi.none():mi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let f=null;"setToServerValue"in l?(vt("REQUEST_TIME"===l.setToServerValue),f=new Wa):"appendMissingElements"in l?f=new zd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Hd(l.removeAllFromArray.values||[]):"increment"in l?f=new Op(a,l.increment):at();const g=fi.fromServerFormat(l.fieldPath);return new Np(g,f)}(n,r)):[];var r;if(e.update){const r=Ns(n,e.update.name),a=new Pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ro((e.updateMask.fieldPaths||[]).map(v=>fi.fromServerFormat(v)));return new Za(r,a,l,t,i)}return new Sf(r,a,t,i)}if(e.delete){const r=Ns(n,e.delete);return new Af(r,t)}if(e.verify){const r=Ns(n,e.verify);return new Lp(r,t)}return at()}function sC(n,e){return{documents:[wy(n,e.path)]}}function N0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wy(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wy(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return cC(Rn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:Ql((C=v).field),direction:NA(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=eC(n,e.limit);var f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function RA(n){let e=R0(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){vt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const A=aC(C);return A instanceof Rn&&Tp(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new Rd(Pf((A=C).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(C){let A;return A="object"==typeof C?C.value:C,Ad(A)?null:A}(t.limit));let g=null;var C;t.startAt&&(g=new zc((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new zc(C.values||[],!C.before)}(t.endAt)),LI(e,r,l,a,f,"F",g,v)}function aC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pf(e.unaryFilter.field);return dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Pf(e.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pf(e.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pf(e.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?dn.create(Pf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(t=>aC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function NA(n){return XI[n]}function PA(n){return kf[n]}function FA(n){return JI[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function Pf(n){return fi.fromServerFormat(n.fieldPath)}function cC(n){return n instanceof dn?function(e){if("=="===e.op){if(AI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(SI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(SI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:PA(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const t=e.getFilters().map(i=>cC(i));return 1===t.length?t[0]:{compositeFilter:{op:FA(e.op),filters:t}}}(n):at()}function LA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hc{constructor(e,t,i,r,a=bt.min(),l=bt.min(),f=Ai.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uC{constructor(e){this.fe=e}}function P0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Rf(r=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Yl(r,a.version.toTimestamp()),createTime:Yl(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Xl(e.version)};else{if(!e.isUnknownDocument())return at();i.unknownDocument={path:t.path.toArray(),version:Xl(e.version)}}var r,a;return i}function zp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(n){const e=new oi(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function eu(n,e){const t=(e.baseMutations||[]).map(a=>rC(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>rC(n.fe,a)),r=oi.fromMillis(e.localWriteTimeMs);return new C0(e.batchId,r,t,i)}function Ff(n){const e=Jl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jl(n.lastLimboFreeSnapshotVersion):bt.min();let i;var r;return void 0!==n.query.documents?(vt(1===(r=n.query).documents.length),i=mo(Vd(R0(r.documents[0])))):i=mo(RA(n.query)),new Hc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function dC(n,e){const t=Xl(e.snapshotVersion),i=Xl(e.lastLimboFreeSnapshotVersion);let r;r=Ld(e.target)?sC(n.fe,e.target):N0(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function hC(n){const e=RA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fy(e,e.limit,"L"):e}function fC(n,e){return new D0(e.largestBatchId,rC(n.fe,e.overlayMutation))}function F0(n,e){const t=e.path.lastSegment();return[n,Kr(e.path.popLast()),t]}function mC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xl(i.readTime),documentKey:Kr(i.documentKey.path),largestBatchId:i.largestBatchId}}class VA{getBundleMetadata(e,t){return pC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Jl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return pC(e).put({bundleId:(i=t).id,createTime:Xl(Mi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return gC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:hC(r.bundledQuery),readTime:Jl(r.readTime)};var r})}saveNamedQuery(e,t){return gC(e).put({name:(i=t).name,readTime:Xl(Mi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pC(n){return hr(n,"bundles")}function gC(n){return hr(n,"namedQueries")}class tu{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new tu(e,t.uid||"")}getOverlay(e,t){return Hp(e).get(F0(this.userId,t)).next(i=>i?fC(this.serializer,i):null)}getOverlays(e,t){const i=sa();return ae.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,l)=>{const f=new D0(t,l);r.push(this.we(e,f))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Kr(l.getCollectionPath())));const a=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);a.push(Hp(e).J("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,i){const r=sa(),a=Kr(t),l=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hp(e).j("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const v=fC(this.serializer,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=sa();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hp(e).X({index:"collectionGroupOverlayIndex",range:f},(g,v,C)=>{const A=fC(this.serializer,v);a.size()<r||A.largestBatchId===l?(a.set(A.getKey(),A),l=A.largestBatchId):C.done()}).next(()=>a)}we(e,t){return Hp(e).put(function(i,r,a){const[l,f,g]=F0(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Nf(i.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Hp(n){return hr(n,"documentOverlays")}class $c{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),oy(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ga(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?MI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):at()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Ka(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _C(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=Ka(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}$c.Ve=new $c;class Ey{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=_C(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=_C(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $p{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class BA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Gp{constructor(){this.je=new Ey,this.ze=new $p(this.je),this.We=new BA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Gd(this.indexId,this.documentKey,this.arrayValue,i)}}function aa(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=L0(n.arrayValue,e.arrayValue),0!==t?t:(t=L0(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function L0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class UA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){vt(e.collectionGroup===this.collectionId);const t=vp(e);if(void 0!==t&&!this.en(t))return!1;const i=Dd(e);let r=new Set,a=0,l=0;for(;a<i.length&&this.en(i[a]);++a)r=r.add(i[a].fieldPath.canonicalString());if(a===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const f=i[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<i.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yC(n){var e,t;if(vt(n instanceof dn||n instanceof Rn),n instanceof dn){if(n instanceof Pd){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>dn.create(n.field,"==",a)))||[];return Rn.create(r,"or")}return n}const i=n.filters.map(r=>yC(r));return Rn.create(i,n.op)}function V0(n){if(0===n.getFilters().length)return[];const e=z0(yC(n));return vt(j0(e)),B0(e)||U0(e)?[e]:e.getFilters()}function B0(n){return n instanceof dn}function U0(n){return n instanceof Rn&&Tp(n)}function j0(n){return B0(n)||U0(n)||function(e){if(e instanceof Rn&&dy(e)){for(const t of e.getFilters())if(!B0(t)&&!U0(t))return!1;return!0}return!1}(n)}function z0(n){if(vt(n instanceof dn||n instanceof Rn),n instanceof dn)return n;if(1===n.filters.length)return z0(n.filters[0]);const e=n.filters.map(i=>z0(i));let t=Rn.create(e,n.op);return t=qd(t),j0(t)?t:(vt(t instanceof Rn),vt(Od(t)),vt(t.filters.length>1),t.filters.reduce((i,r)=>H0(i,r)))}function H0(n,e){let t;return vt(n instanceof dn||n instanceof Rn),vt(e instanceof dn||e instanceof Rn),t=n instanceof dn?e instanceof dn?Rn.create([n,e],"and"):$0(n,e):e instanceof dn?$0(e,n):function(i,r){if(vt(i.filters.length>0&&r.filters.length>0),Od(i)&&Od(r))return Nd(i,r.getFilters());const a=dy(i)?i:r,l=dy(i)?r:i,f=a.filters.map(g=>H0(g,l));return Rn.create(f,"or")}(n,e),qd(t)}function $0(n,e){if(Od(e))return Nd(e,n.getFilters());{const t=e.filters.map(i=>H0(n,i));return Rn.create(t,"or")}}function qd(n){if(vt(n instanceof dn||n instanceof Rn),n instanceof dn)return n;const e=n.getFilters();if(1===e.length)return qd(e[0]);if(Wl(n))return n;const t=e.map(r=>qd(r)),i=[];return t.forEach(r=>{r instanceof dn?i.push(r):r instanceof Rn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Rn.create(i,n.op)}class jA{constructor(){this.rn=new G0}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ko.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class G0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new si(yn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new si(yn.comparator)).toArray()}}const qp=new Uint8Array(0);class vC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new G0,this.un=new os(i=>Fd(i),(i,r)=>Kl(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:i,parent:Kr(r)};return xy(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ty(t),""],!1,!0);return xy(e).j(r).next(a=>{for(const l of a){if(l.collectionId!==t)break;i.push(Ha(l.parent))}return i})}addFieldIndex(e,t){const i=Iy(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const a=i.add(r);if(t.indexState){const l=Vf(e);return a.next(f=>{l.put(mC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Iy(e),r=Vf(e),a=Lf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Lf(e);let r=!0;const a=new Map;return ae.forEach(this.cn(t),l=>this.an(e,l).next(f=>{r&&(r=!!f),a.set(l,f)})).next(()=>{if(r){let l=Xt();const f=[];return ae.forEach(a,(g,v)=>{var C;Be("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map($e=>`${$e.fieldPath}:${$e.kind}`).join(",")}`} to execute ${Fd(t)}`);const A=function($e,Ge){const Ct=vp(Ge);if(void 0===Ct)return null;for(const St of Fr($e,Ct.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(v,g),U=function($e,Ge){const Ct=new Map;for(const St of Dd(Ge))for(const fn of Fr($e,St.fieldPath))switch(fn.op){case"==":case"in":Ct.set(St.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return Ct.set(St.fieldPath.canonicalString(),fn.value),Array.from(Ct.values())}return null}(v,g),$=function($e,Ge){const Ct=[];let St=!0;for(const fn of Dd(Ge)){const Ri=0===fn.kind?mA($e,fn.fieldPath,$e.startAt):f0($e,fn.fieldPath,$e.startAt);Ct.push(Ri.value),St&&(St=Ri.inclusive)}return new zc(Ct,St)}(v,g),Z=function($e,Ge){const Ct=[];let St=!0;for(const fn of Dd(Ge)){const Ri=0===fn.kind?f0($e,fn.fieldPath,$e.endAt):mA($e,fn.fieldPath,$e.endAt);Ct.push(Ri.value),St&&(St=Ri.inclusive)}return new zc(Ct,St)}(v,g),ne=this.hn(g,v,$),fe=this.hn(g,v,Z),je=this.ln(g,v,U),Ke=this.fn(g.indexId,A,ne,$.inclusive,fe,Z.inclusive,je);return ae.forEach(Ke,$e=>i.H($e,t.limit).next(Ge=>{Ge.forEach(Ct=>{const St=Qe.fromSegments(Ct.documentKey);l.has(St)||(l=l.add(St),f.push(St))})}))}).next(()=>f)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:V0(Rn.create(e.filters,"and")).map(i=>Zl(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,a,l,f){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),v=g/(null!=t?t.length:1),C=[];for(let A=0;A<g;++A){const U=t?this.dn(t[A/v]):qp,$=this.wn(e,U,i[A%v],r),Z=this._n(e,U,a[A%v],l),ne=f.map(fe=>this.wn(e,U,fe,!0));C.push(...this.createRange($,Z,ne))}return C}wn(e,t,i,r){const a=new Gd(e,Qe.empty(),t,i);return r?a:a.Je()}_n(e,t,i,r){const a=new Gd(e,Qe.empty(),t,i);return r?a.Je():a}an(e,t){const i=new UA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let l=null;for(const f of a)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ae.forEach(r,a=>this.an(e,a).next(l=>{l?0!==i&&l.fields.length<function(f){let g=new si(fi.comparator),v=!1;for(const C of f.filters)for(const A of C.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:g=g.add(A.field));for(const C of f.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(v?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Gp;for(const r of Dd(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const l=i.He(r.kind);$c.Ve._e(a,l)}return i.Qe()}dn(e){const t=new Gp;return $c.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Gp;return $c.Ve._e(kd(this.databaseId,t),i.He(function(r){const a=Dd(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Gp);let a=0;for(const l of Dd(e)){const f=i[a++];for(const g of r)if(this.yn(t,l.fieldPath)&&Cp(f))r=this.pn(r,l,f);else{const v=g.He(l.kind);$c.Ve._e(f,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],a=[];for(const l of i.arrayValue.values||[])for(const f of r){const g=new Gp;g.seed(f.Qe()),$c.Ve._e(l,g.He(t.kind)),a.push(g)}return a}yn(e,t){return!!e.filters.find(i=>i instanceof dn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Iy(e),r=Vf(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const l=[];return ae.forEach(a,f=>r.get([f.indexId,this.uid]).next(g=>{l.push(function(v,C){const A=C?new yf(C.sequenceNumber,new ko(Jl(C.readTime),new Qe(Ha(C.documentKey)),C.largestBatchId)):yf.empty(),U=v.fields.map(([$,Z])=>new bp(fi.fromServerFormat($),Z));return new _f(v.indexId,v.collectionGroup,U,A)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Iy(e),a=Vf(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,g=>a.put(mC(g.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,a)=>{const l=i.get(r.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ae.forEach(f,g=>this.En(e,r,g).next(v=>{const C=this.An(a,g);return v.isEqual(C)?ae.resolve():this.vn(e,a,g,v,C)}))))})}Rn(e,t,i,r){return Lf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Lf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Lf(e);let a=new si(aa);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,f)=>{a=a.add(new Gd(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let i=new si(aa);const r=this.mn(t,e);if(null==r)return i;const a=vp(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Cp(l))for(const f of l.arrayValue.values||[])i=i.add(new Gd(t.indexId,e.key,this.dn(f),r))}else i=i.add(new Gd(t.indexId,e.key,qp,r));return i}vn(e,t,i,r,a){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,g,v,C,A){const U=f.getIterator(),$=g.getIterator();let Z=Ef(U),ne=Ef($);for(;Z||ne;){let fe=!1,je=!1;if(Z&&ne){const Ke=v(Z,ne);Ke<0?je=!0:Ke>0&&(fe=!0)}else null!=Z?je=!0:fe=!0;fe?(C(ne),ne=Ef($)):je?(A(Z),Z=Ef(U)):(Z=Ef(U),ne=Ef($))}}(r,a,aa,f=>{l.push(this.Rn(e,t,i,f))},f=>{l.push(this.Pn(e,t,i,f))}),ae.waitFor(l)}Tn(e){let t=1;return Vf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>aa(l,f)).filter((l,f,g)=>!f||0!==aa(l,g[f-1]));const r=[];r.push(e);for(const l of i){const f=aa(l,e),g=aa(l,t);if(0===f)r[0]=e.Je();else if(f>0&&g<0)r.push(l),r.push(l.Je());else if(g>0)break}r.push(t);const a=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];a.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,qp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,qp,[]]))}return a}bn(e,t){return aa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(q0)}getMinOffset(e,t){return ae.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||at())).next(q0)}}function xy(n){return hr(n,"collectionParents")}function Lf(n){return hr(n,"indexEntries")}function Iy(n){return hr(n,"indexConfiguration")}function Vf(n){return hr(n,"indexState")}function q0(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ny(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const bC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const g=i.X({range:l},(C,A,U)=>(f++,U.delete()));a.push(g.next(()=>{vt(1===f)}));const v=[];for(const C of t.mutations){const A=yI(e,C.key.path,t.batchId);a.push(r.delete(A)),v.push(C.key)}return ae.waitFor(a).next(()=>v)}function Bf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class Wp{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Wp(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ya(e).X({index:"userMutationsIndex",range:i},(r,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Uf(e),l=Ya(e);return l.add({}).next(f=>{vt("number"==typeof f);const g=new C0(f,t,i,r),v=function(U,$,Z){const ne=Z.baseMutations.map(je=>Nf(U.fe,je)),fe=Z.mutations.map(je=>Nf(U.fe,je));return{userId:$,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ne,mutations:fe}}(this.serializer,this.userId,g),C=[];let A=new si((U,$)=>Zt(U.canonicalString(),$.canonicalString()));for(const U of r){const $=yI(this.userId,U.key.path,f);A=A.add(U.key.path.popLast()),C.push(l.put(v)),C.push(a.put($,tA))}return A.forEach(U=>{C.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Vn[f]=g.keys()}),ae.waitFor(C).next(()=>g)})}lookupMutationBatch(e,t){return Ya(e).get(t).next(i=>i?(vt(i.userId===this.userId),eu(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ya(e).X({index:"userMutationsIndex",range:r},(l,f,g)=>{f.userId===this.userId&&(vt(f.batchId>=i),a=eu(this.serializer,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ya(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,l)=>{i=a.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ya(e).j("userMutationsIndex",t).next(i=>i.map(r=>eu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=xp(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Uf(e).X({range:r},(l,f,g)=>{const[v,C,A]=l,U=Ha(C);if(v===this.userId&&t.path.isEqual(U))return Ya(e).get(A).next($=>{if(!$)throw at();vt($.userId===this.userId),a.push(eu(this.serializer,$))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new si(Zt);const r=[];return t.forEach(a=>{const l=xp(this.userId,a.path),f=IDBKeyRange.lowerBound(l),g=Uf(e).X({range:f},(v,C,A)=>{const[U,$,Z]=v,ne=Ha($);U===this.userId&&a.path.isEqual(ne)?i=i.add(Z):A.done()});r.push(g)}),ae.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=xp(this.userId,i),l=IDBKeyRange.lowerBound(a);let f=new si(Zt);return Uf(e).X({range:l},(g,v,C)=>{const[A,U,$]=g,Z=Ha(U);A===this.userId&&i.isPrefixOf(Z)?Z.length===r&&(f=f.add($)):C.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ya(e).get(a).next(l=>{if(null===l)throw at();vt(l.userId===this.userId),i.push(eu(this.serializer,l))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Cy(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Uf(e).X({range:i},(a,l,f)=>{if(a[0]===this.userId){const g=Ha(a[1]);r.push(g)}else f.done()}).next(()=>{vt(0===r.length)})})}containsKey(e,t){return Dy(e,this.userId,t)}xn(e){return wC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dy(n,e,t){const i=xp(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let l=!1;return Uf(n).X({range:a,Y:!0},(f,g,v)=>{const[C,A,U]=f;C===e&&A===r&&(l=!0),v.done()}).next(()=>l)}function Ya(n){return hr(n,"mutations")}function Uf(n){return hr(n,"documentMutations")}function wC(n){return hr(n,"mutationQueues")}class Wd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wd(0)}static Mn(){return new Wd(-1)}}class zA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Wd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>bt.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zd(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(vt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Zd(e).X((l,f)=>{const g=Ff(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>ae.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Zd(e).X((i,r)=>{const a=Ff(r);t(a)})}$n(e){return Ty(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}On(e,t){return Ty(e).put("targetGlobalKey",t)}Fn(e,t){return Zd(e).put(dC(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Fd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Zd(e).X({range:r,index:"queryTargetsIndex"},(l,f,g)=>{const v=Ff(f);Kl(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Gc(e);return t.forEach(l=>{const f=Kr(l.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,l))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=Gc(e);return ae.forEach(t,a=>{const l=Kr(a.path);return ae.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Gc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gc(e);let a=Xt();return r.X({range:i,Y:!0},(l,f,g)=>{const v=Ha(l[1]),C=new Qe(v);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=Kr(t.path),r=IDBKeyRange.bound([i],[ty(i)],!1,!0);let a=0;return Gc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],g,v)=>{0!==l&&(a++,v.done())}).next(()=>a>0)}le(e,t){return Zd(e).get(t).next(i=>i?Ff(i):null)}}function Zd(n){return hr(n,"targets")}function Ty(n){return hr(n,"targetGlobal")}function Gc(n){return hr(n,"targetDocuments")}function W0([n,e],[t,i]){const r=Zt(n,t);return 0===r?Zt(e,i):r}class EC{constructor(e){this.Ln=e,this.buffer=new si(W0),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();W0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){na(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fc(i)}yield t.Qn(3e5)}))}}class HA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(rs.ct);const i=new EC(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(bC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,a,l,f,g,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,l=Date.now(),this.nthSequenceNumber(e,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(v=Date.now(),aI()<=ts.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${A} documents in `+(v-g)+`ms\nTotal Duration: ${v-C}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class xC{constructor(e,t){this.db=e,this.garbageCollector=function K0(n,e){return new HA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Sy(e,i)}removeReference(e,t,i){return Sy(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Sy(e,t)}Xn(e,t){return function(i,r){let a=!1;return wC(i).Z(l=>Dy(i,l,r).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const g=this.Xn(e,l).next(v=>{if(!v)return a++,i.getEntry(e,l).next(()=>(i.removeEntry(l,bt.min()),Gc(e).delete([0,Kr(l.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Sy(e,t)}Yn(e,t){const i=Gc(e);let r,a=rs.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:v})=>{0===l?(a!==rs.ct&&t(new Qe(Ha(r)),a),a=v,r=g):a=rs.ct}).next(()=>{a!==rs.ct&&t(new Qe(Ha(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sy(n,e){return Gc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Kr(e.path),sequenceNumber:i}));var i}class Y0{constructor(){this.changes=new os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Kd(e).put(i)}removeEntry(e,t,i){return Kd(e).delete(function(r,a){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],zp(a),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ai.newInvalidDocument(t);return Kd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},(r,a)=>{i=this.ts(t,a)}).next(()=>i)}es(e,t){let i={size:0,document:ai.newInvalidDocument(t)};return Kd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},(r,a)=>{i={document:this.ts(t,a),size:Bf(a)}}).next(()=>i)}getEntries(e,t){let i=Oo();return this.ns(e,t,(r,a)=>{const l=this.ts(r,a);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=Oo(),r=new Jn(Qe.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);i=i.insert(a,f),r=r.insert(a,Bf(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ae.resolve();let r=new si(Q0);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(Ay(r.first()),Ay(r.last())),l=r.getIterator();let f=l.getNext();return Kd(e).X({index:"documentKeyIndex",range:a},(g,v,C)=>{const A=Qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&Q0(f,A)<0;)i(f,null),f=l.getNext();f&&f.isEqual(A)&&(i(f,v),f=l.hasNext()?l.getNext():null),f?C.G(Ay(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),zp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kd(e).j(IDBKeyRange.bound(l,f,!0)).next(g=>{let v=Oo();for(const C of g){const A=this.ts(Qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);A.isFoundDocument()&&(Df(t,A)||r.has(A.key))&&(v=v.insert(A.key,A))}return v})}getAllFromCollectionGroup(e,t,i,r){let a=Oo();const l=$A(t,i),f=$A(t,ko.max());return Kd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,v,C)=>{const A=this.ts(Qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(A.key,A),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return CC(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Zn(e,t){return CC(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function jp(n,e){let t;if(e.document)t=iC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=Jl(e.noDocument.readTime);t=ai.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const i=Qe.fromSegments(e.unknownDocument.path),r=Jl(e.unknownDocument.version);t=ai.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new oi(i[0],i[1]);return bt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(bt.min()))return i}return ai.newInvalidDocument(e)}}function Qr(n){return new IC(n)}class jf extends Y0{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new os(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new si((a,l)=>Zt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const g=P0(this.os.serializer,l);r=r.add(a.path.popLast());const v=Bf(g);i+=v-f.size,t.push(this.os.addEntry(e,a,g))}else if(i-=f.size,this.trackRemovals){const g=P0(this.os.serializer,l.convertToNoDocument(bt.min()));t.push(this.os.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((a,l)=>{this.us.set(a,{size:l,readTime:i.get(a).readTime})}),i))}}function CC(n){return hr(n,"remoteDocumentGlobal")}function Kd(n){return hr(n,"remoteDocumentsV14")}function Ay(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $A(n,e){const t=e.documentKey.path.toArray();return[n,zp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Q0(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Zt(t[a],i[a]),r)return r;return r=Zt(t.length,i.length),r||(r=Zt(t[t.length-2],i[i.length-2]),r||Zt(t[t.length-1],i[i.length-1]))}class X0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zf{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Tf(i.mutation,r,Ro.empty(),oi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xt()){const r=sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=kp();return a.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let a=Oo();const l=Rp(),f=Rp();return t.forEach((g,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof Za)?a=a.insert(v.key,v):void 0!==C?(l.set(v.key,C.mutation.getFieldMask()),Tf(C.mutation,v,C.mutation.getFieldMask(),oi.now())):l.set(v.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var A;return f.set(v,new X0(C,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Rp();let r=new Jn((l,f)=>l-f),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let C=i.get(g)||Ro.empty();C=f.applyToLocalView(v,C),i.set(g,C);const A=(r.get(f.batchId)||Xt()).add(g);r=r.insert(f.batchId,A)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,C=g.value,A=v0();C.forEach(U=>{if(!a.has(U)){const $=x0(t.get(U),i.get(U));null!==$&&A.set(U,$),a=a.add(U)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return ae.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):p0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ae.resolve(sa());let f=-1,g=a;return l.next(v=>ae.forEach(v,(C,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(C)?ae.resolve():this.remoteDocumentCache.getEntry(e,C).next(U=>{g=g.insert(C,U)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,Xt())).next(C=>({batchId:f,changes:y0(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(i=>{let r=kp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=kp();return this.indexManager.getCollectionParents(e,r).next(l=>ae.forEach(l,f=>{const g=(v=t,C=f.child(r),new qa(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((C,A)=>{a=a.insert(C,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,g)=>{const v=g.getKey();null===a.get(v)&&(a=a.insert(v,ai.newInvalidDocument(v)))});let l=kp();return a.forEach((f,g)=>{const v=r.get(f);void 0!==v&&Tf(v.mutation,g,Ro.empty(),oi.now()),Df(t,g)&&(l=l.insert(f,g))}),l})}}class GA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Mi(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:hC(i.bundledQuery),readTime:Mi(i.readTime)}),ae.resolve();var i}}class J0{constructor(){this.overlays=new Jn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sa();return ae.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=sa(),a=t.length+1,l=new Qe(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Jn((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let C=a.get(v.largestBatchId);null===C&&(C=sa(),a=a.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=sa(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=r)););return ae.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new D0(t,i));let a=this.ls.get(t);void 0===a&&(a=Xt(),this.ls.set(t,a)),this.ls.set(t,a.add(i.key))}}class ew{constructor(){this.fs=new si(fr.ds),this.ws=new si(fr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new fr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new fr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qe(new yn([])),i=new fr(t,e),r=new fr(t,e+1),a=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new yn([])),i=new fr(t,e),r=new fr(t,e+1);let a=Xt();return this.ws.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new fr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class fr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class qA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new si(fr.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.vs;this.vs++;const l=new C0(a,t,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new fr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),a=r<0?0:r;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new fr(t,0),r=new fr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new si(Zt);return t.forEach(r=>{const a=new fr(r,0),l=new fr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{i=i.add(f.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Qe.isDocumentKey(a)||(a=a.child(""));const l=new fr(new Qe(a),0);let f=new si(Zt);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g.As)),!0)},l),ae.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){vt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(t.mutations,r=>{const a=new fr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new fr(t,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WA{constructor(e){this.Ds=e,this.docs=new Jn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(t))}getEntries(e,t){let i=Oo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ai.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Oo();const l=t.path,f=new Qe(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:C}}=g.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||ny(Zb(C),i)<=0||(r.has(C.key)||Df(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,i,r){at()}Cs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ZA(this)}getSize(e){return ae.resolve(this.size)}}class ZA extends Y0{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class tw{constructor(e){this.persistence=e,this.xs=new os(t=>Fd(t),Kl),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ew,this.targetCount=0,this.Ms=Wd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Wd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ae.waitFor(a).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class My{constructor(e,t){this.$s={},this.overlays={},this.Os=new rs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tw(this),this.indexManager=new jA,this.remoteDocumentCache=new WA(i=>this.referenceDelegate.Ls(i)),this.serializer=new uC(t),this.qs=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new qA(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const r=new KA(this.Os.next());return this.referenceDelegate.Us(),i(r).next(a=>this.referenceDelegate.Ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class KA extends Kb{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Qs=new ew,this.js=null}static zs(e){return new Yd(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ws.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=Qe.fromPath(i);return this.Hs(e,r).next(a=>{a||t.removeEntry(r,bt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class _1{constructor(e){this.serializer=e}O(e,t,i,r){const a=new wp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ji,{unique:!0}),f.createObjectStore("documentMutations"),nw(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),nw(e)),l=l.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,g){return g.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ji,{unique:!0});const C=g.store("mutations"),A=v.map(U=>C.put(U));return ae.waitFor(A)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(a))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(a))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,a))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(a))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Xb});g.createIndex("collectionPathOverlayIndex",Jb,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",$a,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:vI});g.createIndex("documentKeyIndex",nA),g.createIndex("collectionGroupIndex",bI)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,a))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:EI}).createIndex("sequenceNumberIndex",oA,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:xI}).createIndex("documentKeyIndex",f1,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Bf(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ae.forEach(r,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>ae.forEach(f,g=>{vt(g.userId===a.userId);const v=eu(this.serializer,g);return Cy(e,a.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((l,f)=>{const g=new yn(l),v=[0,Kr(g)];a.push(t.get(v).next(C=>C?ae.resolve():t.put({targetId:0,path:Kr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:rA});const i=t.store("collectionParents"),r=new G0,a=l=>{if(r.add(l)){const f=l.lastSegment(),g=l.popLast();return i.put({collectionId:f,parent:Kr(g)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const g=new yn(l);return a(g.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,g],v)=>{const C=Ha(f);return a(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const a=Ff(r),l=dC(this.serializer,a);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,l)=>{const f=t.store("remoteDocumentsV14"),g=(v=l,v.document?new Qe(yn.fromString(v.document.name).popFirst(5)):v.noDocument?Qe.fromSegments(v.noDocument.path):v.unknownDocument?Qe.fromSegments(v.unknownDocument.path):at()).path.toArray();var v;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(C))}).next(()=>ae.waitFor(r))}si(e,t){const i=t.store("mutations"),r=Qr(this.serializer),a=new My(Yd.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(g=>{var v;let C=null!==(v=f.get(g.userId))&&void 0!==v?v:Xt();eu(this.serializer,g).keys().forEach(A=>C=C.add(A)),f.set(g.userId,C)}),ae.forEach(f,(g,v)=>{const C=new Xi(v),A=tu.de(this.serializer,C),U=a.getIndexManager(C),$=Wp.de(C,this.serializer,U,a.referenceDelegate);return new zf(r,$,A,U).recalculateAndSaveOverlaysForDocumentKeys(new sy(t,rs.ct),g).next()})})}}function nw(n){n.createObjectStore("targetDocuments",{keyPath:bf}).createIndex("documentTargetsIndex",iA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wI,{unique:!0}),n.createObjectStore("targetGlobal")}const iw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ky{constructor(e,t,i,r,a,l,f,g,v,C,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=a,this.window=l,this.document=f,this.ri=v,this.oi=C,this.ui=A,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=U=>Promise.resolve(),!ky.D())throw new Oe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xC(this,r),this.di=t+"main",this.serializer=new uC(g),this.wi=new Rs(this.di,this.ui,new _1(this.serializer)),this.Bs=new zA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qr(this.serializer),this.qs=new VA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(he.FAILED_PRECONDITION,iw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new rs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ry(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(na(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Qa(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return Ry(e).delete(this.clientId)}bi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=hr(i,"clientMetadata");return r.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(g=>-1===l.indexOf(g));return ae.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):Qa(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Oe(he.FAILED_PRECONDITION,iw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ry(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new sy(t,rs.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ry(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Wp.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return tu.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Be("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?ra:14===l?Os:13===l?ia:12===l?sA:11===l?II:void at();var l;let f;return this.wi.runTransaction(e,r,a,g=>(f=new sy(g,this.Os?this.Os.next():rs.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(he.FAILED_PRECONDITION,iy);return i(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Oi(e){return Qa(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(he.FAILED_PRECONDITION,iw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qa(e).put("owner",t)}static D(){return Rs.D()}Ai(e){const t=Qa(e);return t.get("owner").next(i=>this.Ri(i)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(bi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,zt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Be("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qa(n){return hr(n,"owner")}function Ry(n){return hr(n,"clientMetadata")}function Oy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Zp{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Xt(),r=Xt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Zp(e,t.fromCache,i,r)}}class YA{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(a=>a||this.Gi(e,t,r,i)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(m0(t))return ae.resolve(null);let i=mo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=fy(t,null,"F"),i=mo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Xt(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.ji(t,f);return this.zi(t,v,l,g.readTime)?this.Ki(e,fy(t,null,"F")):this.Wi(e,v,t,g)}))})))}Gi(e,t,i,r){return m0(t)||r.isEqual(bt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(a=>{const l=this.ji(t,a);return this.zi(t,l,i,r)?this.Qi(e,t):(aI()<=ts.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cf(t)),this.Wi(e,l,t,pI(r,-1)))})}ji(e,t){let i=new si(_0(e));return t.forEach((r,a)=>{Df(e,a)&&(i=i.add(a))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,t){return aI()<=ts.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Cf(t)),this.Ui.getDocumentsMatchingQuery(e,t,ko.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class QA{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Jn(Zt),this.Yi=new os(a=>Fd(a),Kl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function XA(n,e,t,i){return new QA(n,e,t,i)}function DC(n,e){return rw.apply(this,arguments)}function rw(){return rw=(0,we.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],f=[];let g=Xt();for(const v of r){l.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}for(const v of a){f.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}return t.localDocuments.getDocuments(i,g).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),rw.apply(this,arguments)}function ow(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function SC(n,e,t){let i=Xt(),r=Xt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=Oo();return t.forEach((f,g)=>{const v=a.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(bt.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):Be("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{nr:l,sr:r}})}function AC(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Qd(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(a=>a?(r=a,ae.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Hc(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function $f(n,e,t){return sw.apply(this,arguments)}function sw(){return sw=(0,we.Z)(function*(n,e,t){const i=tt(n),r=i.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!na(l))throw l;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),sw.apply(this,arguments)}function Kp(n,e,t){const i=tt(n);let r=bt.min(),a=Xt();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,g,v){const C=tt(f),A=C.Yi.get(v);return void 0!==A?ae.resolve(C.Ji.get(A)):C.Bs.getTargetData(g,v)}(i,l,mo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{a=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:bt.min(),t?a:Xt())).next(f=>(cw(i,g0(e),f),{documents:f,ir:a})))}function MC(n,e){const t=tt(n),i=tt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.le(a,e).next(l=>l?l.target:null))}function aw(n,e){const t=tt(n),i=t.Xi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,pI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(cw(t,e,r),r))}function cw(n,e,t){let i=n.Xi.get(e)||bt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Xi.set(e,i)}function Ny(){return Ny=(0,we.Z)(function*(n,e,t,i){const r=tt(n);let a=Xt(),l=Oo();for(const v of t){const C=e.rr(v.metadata.name);v.document&&(a=a.add(C));const A=e.ur(v);A.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(C,A)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),g=yield Qd(r,(v=i,mo(Vd(yn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>SC(v,f,l).next(C=>(f.apply(v),C)).next(C=>r.Bs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Bs.addMatchingKeys(v,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.nr,C.sr)).next(()=>C.nr)))}),Ny.apply(this,arguments)}function eM(n,e){return lw.apply(this,arguments)}function lw(){return lw=(0,we.Z)(function*(n,e,t=Xt()){const i=yield Qd(n,mo(hC(e.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const l=Mi(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(a,e);const f=i.withResumeToken(Ai.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(a,f).next(()=>r.Bs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Bs.addMatchingKeys(a,t,i.targetId)).next(()=>r.qs.saveNamedQuery(a,e))})}),lw.apply(this,arguments)}function tM(n,e){return`firestore_clients_${n}_${e}`}function uw(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function RC(n,e){return`firestore_targets_${n}_${e}`}class dw{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let a,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Oe(r.error.code,r.error.message))),l?new dw(e,t,r.state,a):(bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Py{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Oe(i.error.code,i.error.message))),a?new Py(e,i.state,r):(bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=jI();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=JS(i.activeTargetIds[l]),a=a.add(i.activeTargetIds[l]);return r?new hw(e,a):(bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class OC{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new OC(t.clientId,t.onlineState):(bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class NC{constructor(){this.activeTargetIds=jI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PC{constructor(e,t,i,r,a){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Jn(Zt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=tM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new NC),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const a=e.getItem(tM(e.persistenceKey,r));if(a){const l=hw.ar(r,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(RC(this.persistenceKey,e));if(i){const r=Py.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RC(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(a){let l=rs.ct;if(null!=a)try{const f=JSON.parse(a);vt("number"==typeof f),l=f}catch(f){bi("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==rs.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new dw(this.currentUser,e,t,i),a=uw(this.persistenceKey,this.currentUser,e);this.setItem(a,r.hr())}Cr(e){const t=uw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=RC(this.persistenceKey,e),a=new Py(e,t,i);this.setItem(r,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return hw.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return dw.ar(new Xi(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Py.ar(r,t)}br(e){return OC.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),a=this.Sr(i),l=[],f=[];return a.forEach(g=>{r.has(g)||l.push(g)}),r.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=jI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class nM{constructor(){this.Hr=new NC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new NC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y1{Yr(e){}shutdown(){}}class fw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gf=null;function Fy(){return null===Gf?Gf=268435456+Math.round(2147483648*Math.random()):Gf++,"0x"+Gf.toString(16)}const iM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ly{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xr="WebChannelConnection";class v1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,a){const l=Fy(),f=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${l}:`,f,i);const g={};return this.Eo(g,r,a),this.Ao(e,f,g,i).then(v=>(Be("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw ks("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",i),v})}vo(e,t,i,r,a,l){return this.Io(e,t,i,r,a)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}To(e,t){return`${this.mo}/v1/${t}:${iM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const a=Fy();return new Promise((l,f)=>{const g=new WS;g.setWithCredentials(!0),g.listenOnce(oI.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pf.NO_ERROR:const C=g.getResponseJson();Be(Xr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),l(C);break;case pf.TIMEOUT:Be(Xr,`RPC '${e}' ${a} timed out`),f(new Oe(he.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const A=g.getStatus();if(Be(Xr,`RPC '${e}' ${a} failed with status:`,A,"response text:",g.getResponseText()),A>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const $=U?.error;if($&&$.status&&$.message){const Z=function(ne){const fe=ne.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(fe)>=0?fe:he.UNKNOWN}($.status);f(new Oe(Z,$.message))}else f(new Oe(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Oe(he.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Be(Xr,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(r);Be(Xr,`RPC '${e}' ${a} sending request:`,r),g.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=Fy(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pp(),f=Hb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.xmlHttpFactory=new qS({})),this.Eo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const C=a.join("");Be(Xr,`Creating RPC '${e}' stream ${r}: ${C}`,g);const A=l.createWebChannel(C,g);let U=!1,$=!1;const Z=new Ly({ro:fe=>{$?Be(Xr,`Not sending because RPC '${e}' stream ${r} is closed:`,fe):(U||(Be(Xr,`Opening RPC '${e}' stream ${r} transport.`),A.open(),U=!0),Be(Xr,`RPC '${e}' stream ${r} sending:`,fe),A.send(fe))},oo:()=>A.close()}),ne=(fe,je,Ke)=>{fe.listen(je,$e=>{try{Ke($e)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return ne(A,Hl.EventType.OPEN,()=>{$||Be(Xr,`RPC '${e}' stream ${r} transport opened.`)}),ne(A,Hl.EventType.CLOSE,()=>{$||($=!0,Be(Xr,`RPC '${e}' stream ${r} transport closed`),Z.wo())}),ne(A,Hl.EventType.ERROR,fe=>{$||($=!0,ks(Xr,`RPC '${e}' stream ${r} transport errored:`,fe),Z.wo(new Oe(he.UNAVAILABLE,"The operation could not be completed")))}),ne(A,Hl.EventType.MESSAGE,fe=>{var je;if(!$){const Ke=fe.data[0];vt(!!Ke);const Ge=Ke.error||(null===(je=Ke[0])||void 0===je?void 0:je.error);if(Ge){Be(Xr,`RPC '${e}' stream ${r} received error:`,Ge);const Ct=Ge.status;let St=function(Ri){const Vo=er[Ri];if(void 0!==Vo)return ZI(Vo)}(Ct),fn=Ge.message;void 0===St&&(St=he.INTERNAL,fn="Unknown error status: "+Ct+" with message "+Ge.message),$=!0,Z.wo(new Oe(St,fn)),A.close()}else Be(Xr,`RPC '${e}' stream ${r} received:`,Ke),Z._o(Ke)}}),ne(f,gp.STAT_EVENT,fe=>{fe.stat===$b.PROXY?Be(Xr,`RPC '${e}' stream ${r} detected buffering proxy`):fe.stat===$b.NOPROXY&&Be(Xr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{Z.fo()},0),Z}}function rM(){return typeof window<"u"?window:null}function Vy(){return typeof document<"u"?document:null}function qf(n){return new SA(n,!0)}class mw{constructor(e,t,i=1e3,r=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class FC{constructor(e,t,i,r,a,l,f,g){this.ii=e,this.$o=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mw(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,we.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,we.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Oe(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,we.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends FC{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function kA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:at(),r=e.targetChange.targetIds||[],a=function(g,v){return g.useProto3Json?(vt(void 0===v||"string"==typeof v),Ai.fromBase64String(v||"")):(vt(void 0===v||v instanceof Uint8Array),Ai.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const v=void 0===g.code?he.UNKNOWN:ZI(g.code);return new Oe(v,g.message||"")}(l);t=new _y(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ns(n,i.document.name),a=Mi(i.document.updateTime),l=i.document.createTime?Mi(i.document.createTime):bt.min(),f=new Pr({mapValue:{fields:i.document.fields}}),g=ai.newFoundDocument(r,a,l,f);t=new Mf(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=Ns(n,i.document),a=i.readTime?Mi(i.readTime):bt.min(),l=ai.newNoDocument(r,a);t=new Mf([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Ns(n,i.document);t=new Mf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return at();{const i=e.filter,{count:r=0,unchangedNames:a}=i,l=new CA(r,a);t=new k0(i.targetId,l)}}var g;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return bt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?Mi(a.readTime):bt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Of(this.serializer),t.addTarget=function(r,a){let l;const f=a.target;if(l=Ld(f)?{documents:sC(r,f)}:{query:N0(r,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=vy(r,a.resumeToken);const g=eC(r,a.expectedCount);null!==g&&(l.expectedCount=g)}else if(a.snapshotVersion.compareTo(bt.min())>0){l.readTime=Yl(r,a.snapshotVersion.toTimestamp());const g=eC(r,a.expectedCount);null!==g&&(l.expectedCount=g)}return l}(this.serializer,e);const i=function OA(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.Wo(t)}}class b1 extends FC{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function oC(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(i,r){let a=Mi(i.updateTime?i.updateTime:r);return a.isEqual(bt.min())&&(a=Mi(r)),new Pp(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Mi(e.commitTime);return this.listener.cu(i,t)}return vt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Of(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Nf(this.serializer,i))};this.Wo(t)}}class sM extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Io(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(he.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,i,a,l,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(he.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class w1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bi(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ca{constructor(e,t,i,r,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{i.enqueueAndForget((0,we.Z)(function*(){var g;qc(l)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(v){const C=tt(v);C.vu.add(4),yield Yp(C),C.bu.set("Unknown"),C.vu.delete(4),yield Wf(C)}),function(v){return g.apply(this,arguments)})(l))}))}),this.bu=new w1(i,r)}}function Wf(n){return pw.apply(this,arguments)}function pw(){return pw=(0,we.Z)(function*(n){if(qc(n))for(const e of n.Ru)yield e(!0)}),pw.apply(this,arguments)}function Yp(n){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,we.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Lr.apply(this,arguments)}function Uy(n,e){const t=tt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),jy(t)?Qp(t):eh(t).Ko()&&gw(t,e))}function Xd(n,e){const t=tt(n),i=eh(t);t.Au.delete(e),i.Ko()&&VC(t,e),0===t.Au.size&&(i.Ko()?i.jo():qc(t)&&t.bu.set("Unknown"))}function gw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eh(n).su(e)}function VC(n,e){n.Vu.qt(e),eh(n).iu(e)}function Qp(n){n.Vu=new TA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),eh(n).start(),n.bu.gu()}function jy(n){return qc(n)&&!eh(n).Uo()&&n.Au.size>0}function qc(n){return 0===tt(n).vu.size}function BC(n){n.Vu=void 0}function UC(n){return zy.apply(this,arguments)}function zy(){return zy=(0,we.Z)(function*(n){n.Au.forEach((e,t)=>{gw(n,e)})}),zy.apply(this,arguments)}function jC(n,e){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,we.Z)(function*(n,e){BC(n),jy(n)?(n.bu.Iu(e),Qp(n)):n.bu.set("Unknown")}),Hy.apply(this,arguments)}function aM(n,e,t){return $y.apply(this,arguments)}function $y(){return $y=(0,we.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof _y&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const l=a.cause;for(const f of a.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Gy(n,i)}else if(e instanceof Mf?n.Vu.Ht(e):e instanceof k0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(bt.min()))try{const i=yield ow(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const l=r.Vu.ce(a);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.Au.get(g);v&&r.Au.set(g,v.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,g)=>{const v=r.Au.get(f);if(!v)return;r.Au.set(f,v.withResumeToken(Ai.EMPTY_BYTE_STRING,v.snapshotVersion)),VC(r,f);const C=new Hc(v.target,f,g,v.sequenceNumber);gw(r,C)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield Gy(n,i)}var i}),$y.apply(this,arguments)}function Gy(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,we.Z)(function*(n,e,t){if(!na(e))throw e;n.vu.add(1),yield Yp(n),n.bu.set("Offline"),t||(t=()=>ow(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Wf(n)}))}),Xp.apply(this,arguments)}function Wc(n,e){return e().catch(t=>Gy(n,t,e))}function Jd(n){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,we.Z)(function*(n){const e=tt(n),t=nu(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;_w(e);)try{const r=yield AC(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,cM(e,r)}catch(r){yield Gy(e,r)}lM(e)&&yw(e)}),Jp.apply(this,arguments)}function _w(n){return qc(n)&&n.Eu.length<10}function cM(n,e){n.Eu.push(e);const t=nu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function lM(n){return qc(n)&&!nu(n).Uo()&&n.Eu.length>0}function yw(n){nu(n).start()}function uM(n){return vw.apply(this,arguments)}function vw(){return vw=(0,we.Z)(function*(n){nu(n).hu()}),vw.apply(this,arguments)}function dM(n){return bw.apply(this,arguments)}function bw(){return bw=(0,we.Z)(function*(n){const e=nu(n);for(const t of n.Eu)e.uu(t.mutations)}),bw.apply(this,arguments)}function zC(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=(0,we.Z)(function*(n,e,t){const i=n.Eu.shift(),r=gy.from(i,e,t);yield Wc(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Jd(n)}),HC.apply(this,arguments)}function $C(n,e){return ww.apply(this,arguments)}function ww(){return ww=(0,we.Z)(function*(n,e){var t;e&&nu(n).ou&&(yield(t=(0,we.Z)(function*(i,r){if(WI(a=r.code)&&a!==he.ABORTED){const l=i.Eu.shift();nu(i).Qo(),yield Wc(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Jd(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),lM(n)&&yw(n)}),ww.apply(this,arguments)}function Ew(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,we.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=qc(t);t.vu.add(3),yield Yp(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Wf(t)}),GC.apply(this,arguments)}function eg(n,e){return qy.apply(this,arguments)}function qy(){return qy=(0,we.Z)(function*(n,e){const t=tt(n);e?(t.vu.delete(2),yield Wf(t)):e||(t.vu.add(2),yield Yp(t),t.bu.set("Unknown"))}),qy.apply(this,arguments)}function eh(n){return n.Su||(n.Su=function(e,t,i){const r=tt(e);return r.fu(),new oM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:UC.bind(null,n),ao:jC.bind(null,n),nu:aM.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Su.Qo(),jy(n)?Qp(n):n.bu.set("Unknown")):(yield n.Su.stop(),BC(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function nu(n){return n.Du||(n.Du=function(e,t,i){const r=tt(e);return r.fu(),new b1(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:uM.bind(null,n),ao:$C.bind(null,n),au:dM.bind(null,n),cu:zC.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Du.Qo(),yield Jd(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Wy{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,f=new Wy(e,t,l,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(n,e){if(bi("AsyncQueue",`${e}: ${n}`),na(n))return new Oe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class la{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qe.comparator(t.key,i.key):(t,i)=>Qe.comparator(t.key,i.key),this.keyedMap=kp(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new la(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new la;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class tg{constructor(){this.Cu=new Jn(Qe.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class nh{constructor(e,t,i,r,a,l,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new nh(e,t,la.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class qC{constructor(){this.Nu=void 0,this.listeners=[]}}class hM{constructor(){this.queries=new os(e=>VI(e),Ap),this.onlineState="Unknown",this.ku=new Set}}function xw(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,we.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new qC),r)try{a.Nu=yield t.onListen(i)}catch(l){const f=th(l,`Initialization of query '${Cf(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&ZC(t)}),WC.apply(this,arguments)}function Zy(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,we.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Iw.apply(this,arguments)}function fM(n,e){const t=tt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&ZC(t)}function E1(n,e,t){const i=tt(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function ZC(n){n.ku.forEach(e=>{e.next()})}class KC{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new nh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class YC{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class QC{constructor(e){this.serializer=e}rr(e){return Ns(this.serializer,e)}ur(e){return e.metadata.exists?iC(this.serializer,e.document,!1):ai.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mi(e)}}class mM{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XC(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=yn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new QC(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(t.get(l)||Xt()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function kC(n,e,t,i){return Ny.apply(this,arguments)}(e.localStore,new QC(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield eM(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function XC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pM{constructor(e){this.key=e}}class gM{constructor(e){this.key=e}}class _M{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xt(),this.mutatedKeys=Xt(),this.tc=_0(e),this.ec=new la(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new tg,r=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,A)=>{const U=r.get(C),$=Df(this.query,A)?A:null,Z=!!U&&this.mutatedKeys.has(U.key),ne=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let fe=!1;U&&$?U.data.isEqual($.data)?Z!==ne&&(i.track({type:3,doc:$}),fe=!0):this.rc(U,$)||(i.track({type:2,doc:$}),fe=!0,(g&&this.tc($,g)>0||v&&this.tc($,v)<0)&&(f=!0)):!U&&$?(i.track({type:0,doc:$}),fe=!0):U&&!$&&(i.track({type:1,doc:U}),fe=!0,(g||v)&&(f=!0)),fe&&($?(l=l.add($),a=ne?a.add(C):a.delete(C)):(l=l.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{ec:l,ic:i,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,C)=>function(A,U){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return $(A)-$(U)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(i);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==a.length||g?{snapshot:new nh(this.query,e.ec,r,a,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new tg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new gM(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new pM(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Xt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return nh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class x1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class I1{constructor(e){this.key=e,this.fc=!1}}class yM{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new os(f=>VI(f),Ap),this._c=new Map,this.mc=new Set,this.gc=new Jn(Qe.comparator),this.yc=new Map,this.Ic=new ew,this.Tc={},this.Ec=new Map,this.Ac=Wd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ky(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,we.Z)(function*(n,e){const t=Lw(n);let i,r;const a=t.wc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.lc();else{const l=yield Qd(t.localStore,mo(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield Dw(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&Uy(t.remoteStore,l)}return r}),Cw.apply(this,arguments)}function Dw(n,e,t,i,r){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,we.Z)(function*(n,e,t,i,r){n.Rc=(A,U,$)=>{return(Z=(0,we.Z)(function*(ne,fe,je,Ke){let $e=fe.view.sc(je);$e.zi&&($e=yield Kp(ne.localStore,fe.query,!1).then(({documents:St})=>fe.view.sc(St,$e)));const Ge=Ke&&Ke.targetChanges.get(fe.targetId),Ct=fe.view.applyChanges($e,ne.isPrimaryClient,Ge);return Rw(ne,fe.targetId,Ct.cc),Ct.snapshot}),function(ne,fe,je,Ke){return Z.apply(this,arguments)})(n,A,U,$);var Z};const a=yield Kp(n.localStore,e,!0),l=new _M(e,a.ir),f=l.sc(a.documents),g=$d.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(f,n.isPrimaryClient,g);Rw(n,t,v.cc);const C=new x1(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),Yy.apply(this,arguments)}function ih(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,we.Z)(function*(n,e){const t=tt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!Ap(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $f(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Xd(t.remoteStore,i.targetId),rh(t,i.targetId)}).catch(Fc))):(rh(t,i.targetId),yield $f(t.localStore,i.targetId,!0))}),Qy.apply(this,arguments)}function ng(){return ng=(0,we.Z)(function*(n,e,t){const i=Vw(n);try{const r=yield function(a,l){const f=tt(a),g=oi.now(),v=l.reduce((U,$)=>U.add($.key),Xt());let C,A;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let $=Oo(),Z=Xt();return f.Zi.getEntries(U,v).next(ne=>{$=ne,$.forEach((fe,je)=>{je.isValidDocument()||(Z=Z.add(fe))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,$)).next(ne=>{C=ne;const fe=[];for(const je of l){const Ke=xA(je,C.get(je.key).overlayedDocument);null!=Ke&&fe.push(new Za(je.key,Ke,OI(Ke.value.mapValue),mi.exists(!0)))}return f.mutationQueue.addMutationBatch(U,g,fe,l)}).next(ne=>{A=ne;const fe=ne.applyToLocalDocumentSet(C,Z);return f.documentOverlayCache.saveOverlays(U,ne.batchId,fe)})}).then(()=>({batchId:A.batchId,changes:y0(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,f){let g=a.Tc[a.currentUser.toKey()];g||(g=new Jn(Zt)),g=g.insert(l,f),a.Tc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield ua(i,r.changes),yield Jd(i.remoteStore)}catch(r){const a=th(r,"Failed to persist write");t.reject(a)}}),ng.apply(this,arguments)}function JC(n,e){return ig.apply(this,arguments)}function ig(){return ig=(0,we.Z)(function*(n,e){const t=tt(n);try{const i=yield function TC(n,e){const t=tt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((C,A)=>{const U=r.get(A);if(!U)return;f.push(t.Bs.removeMatchingKeys(a,C.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(a,C.addedDocuments,A)));let $=U.withSequenceNumber(a.currentSequenceNumber);var Z,ne,fe;null!==e.targetMismatches.get(A)?$=$.withResumeToken(Ai.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):C.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(C.resumeToken,i)),r=r.insert(A,$),ne=$,fe=C,(0===(Z=U).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,$))});let g=Oo(),v=Xt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(SC(a,l,e.documentUpdates).next(C=>{g=C.nr,v=C.sr})),!i.isEqual(bt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(a).next(A=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return ae.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.Ji=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.yc.get(a);l&&(vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?vt(l.fc):r.removedDocuments.size>0&&(vt(l.fc),l.fc=!1))}),yield ua(t,i,e)}catch(i){yield Fc(i)}}),ig.apply(this,arguments)}function Xy(n,e,t){const i=tt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(a,l){const f=tt(a);f.onlineState=l;let g=!1;f.queries.forEach((v,C)=>{for(const A of C.listeners)A.Mu(l)&&(g=!0)}),g&&ZC(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Jy(n,e,t){return eD.apply(this,arguments)}function eD(){return eD=(0,we.Z)(function*(n,e,t){const i=tt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),a=r&&r.key;if(a){let l=new Jn(Qe.comparator);l=l.insert(a,ai.newNoDocument(a,bt.min()));const f=Xt().add(a),g=new Up(bt.min(),new Map,new Jn(Zt),l,f);yield JC(i,g),i.gc=i.gc.remove(a),i.yc.delete(e),tv(i)}else yield $f(i.localStore,e,!1).then(()=>rh(i,e,t)).catch(Fc)}),eD.apply(this,arguments)}function C1(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,we.Z)(function*(n,e){const t=tt(n),i=e.batch.batchId;try{const r=yield function JA(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,v){const C=g.batch,A=C.keys();let U=ae.resolve();return A.forEach($=>{U=U.next(()=>v.getEntry(f,$)).next(Z=>{const ne=g.docVersions.get($);vt(null!==ne),Z.version.compareTo(ne)<0&&(C.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),v.addEntry(Z)))})}),U.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=Xt();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);ev(t,i,null),Mw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ua(t,r)}catch(r){yield Fc(r)}}),tD.apply(this,arguments)}function nD(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,we.Z)(function*(n,e,t){const i=tt(n);try{const r=yield function(a,l){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,l).next(C=>(vt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(g,C))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);ev(i,e,t),Mw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ua(i,r)}catch(r){yield Fc(r)}}),Sw.apply(this,arguments)}function Aw(){return Aw=(0,we.Z)(function*(n,e){const t=tt(n);qc(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const l=tt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=th(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Aw.apply(this,arguments)}function Mw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ev(n,e,t){const i=tt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function rh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||kw(n,i)})}function kw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Xd(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),tv(n))}function Rw(n,e,t){for(const i of t)i instanceof pM?(n.Ic.addReference(i.key,e),bM(n,i)):i instanceof gM?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||kw(n,i.key)):at()}function bM(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(i),tv(n))}function tv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(yn.fromString(e)),i=n.Ac.next();n.yc.set(i,new I1(t)),n.gc=n.gc.insert(t,i),Uy(n.remoteStore,new Hc(mo(Vd(t.path)),i,"TargetPurposeLimboResolution",rs.ct))}}function ua(n,e,t){return iD.apply(this,arguments)}function iD(){return iD=(0,we.Z)(function*(n,e,t){const i=tt(n),r=[],a=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,g)=>{l.push(i.Rc(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const C=Zp.Li(g.targetId,v);a.push(C)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,we.Z)(function*(g,v){const C=tt(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ae.forEach(v,U=>ae.forEach(U.Fi,$=>C.persistence.referenceDelegate.addReference(A,U.targetId,$)).next(()=>ae.forEach(U.Bi,$=>C.persistence.referenceDelegate.removeReference(A,U.targetId,$)))))}catch(A){if(!na(A))throw A;Be("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const U=A.targetId;if(!A.fromCache){const $=C.Ji.get(U),ne=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);C.Ji=C.Ji.insert(U,ne)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,a))}),iD.apply(this,arguments)}function rD(n,e){return rg.apply(this,arguments)}function rg(){return rg=(0,we.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=yield DC(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Oe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ua(t,i.er)}var r}),rg.apply(this,arguments)}function wM(n,e){const t=tt(n),i=t.yc.get(e);if(i&&i.fc)return Xt().add(i.key);{let r=Xt();const a=t._c.get(e);if(!a)return r;for(const l of a){const f=t.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function EM(n,e){return oD.apply(this,arguments)}function oD(){return oD=(0,we.Z)(function*(n,e){const t=tt(n),i=yield Kp(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&Rw(t,e.targetId,r.cc),r}),oD.apply(this,arguments)}function D1(n,e){return Ow.apply(this,arguments)}function Ow(){return Ow=(0,we.Z)(function*(n,e){const t=tt(n);return aw(t.localStore,e).then(i=>ua(t,i))}),Ow.apply(this,arguments)}function xM(n,e,t,i){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,we.Z)(function*(n,e,t,i){const r=tt(n),a=yield function(l,f){const g=tt(l),v=tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Sn(C,f).next(A=>A?g.localDocuments.getDocuments(C,A):ae.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Jd(r.remoteStore):"acknowledged"===t||"rejected"===t?(ev(r,e,i||null),Mw(r,e),f=e,tt(tt(r.localStore).mutationQueue).Cn(f)):at(),yield ua(r,a)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),Nw.apply(this,arguments)}function nv(){return nv=(0,we.Z)(function*(n,e){const t=tt(n);if(Lw(t),Vw(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Pw(t,i.toArray());t.vc=!0,yield eg(t.remoteStore,!0);for(const a of r)Uy(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(rh(t,l),$f(t.localStore,l,!0))),Xd(t.remoteStore,l)}),yield r,yield Pw(t,i),function(a){const l=tt(a);l.yc.forEach((f,g)=>{Xd(l.remoteStore,g)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Jn(Qe.comparator)}(t),t.vc=!1,yield eg(t.remoteStore,!1)}}),nv.apply(this,arguments)}function Pw(n,e,t){return sD.apply(this,arguments)}function sD(){return sD=(0,we.Z)(function*(n,e,t){const i=tt(n),r=[],a=[];for(const l of e){let f;const g=i._c.get(l);if(g&&0!==g.length){f=yield Qd(i.localStore,mo(g[0]));for(const v of g){const C=i.wc.get(v),A=yield EM(i,C);A.snapshot&&a.push(A.snapshot)}}else{const v=yield MC(i.localStore,l);f=yield Qd(i.localStore,v),yield Dw(i,aD(v),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(a),r}),sD.apply(this,arguments)}function aD(n){return LI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fw(n){const e=tt(n);return tt(tt(e.localStore).persistence).$i()}function cD(n,e,t,i){return iv.apply(this,arguments)}function iv(){return iv=(0,we.Z)(function*(n,e,t,i){const r=tt(n);if(r.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield aw(r.localStore,g0(a[0])),f=Up.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield ua(r,l,f);break}case"rejected":yield $f(r.localStore,e,!0),rh(r,e,i);break;default:at()}}),iv.apply(this,arguments)}function CM(n,e,t){return og.apply(this,arguments)}function og(){return og=(0,we.Z)(function*(n,e,t){const i=Lw(n);if(i.vc){for(const r of e){if(i._c.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const a=yield MC(i.localStore,r),l=yield Qd(i.localStore,a);yield Dw(i,aD(a),l.targetId,!1,l.resumeToken),Uy(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield $f(i.localStore,r,!1).then(()=>{Xd(i.remoteStore,r),rh(i,r)}).catch(Fc))}}),og.apply(this,arguments)}function Lw(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jy.bind(null,e),e.dc.nu=fM.bind(null,e.eventManager),e.dc.Pc=E1.bind(null,e.eventManager),e}function Vw(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nD.bind(null,e),e}class Zf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.serializer=qf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return XA(this.persistence,new YA,e.initialUser,this.serializer)}createPersistence(e){return new My(Yd.zs,this.serializer)}createSharedClientState(e){return new nM}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bw extends Zf{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield Vw(i.Vc.syncEngine),yield Jd(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return XA(this.persistence,new YA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Z0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Yb(t,this.persistence);return new Sd(e.asyncQueue,i)}createPersistence(e){const t=Oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new ky(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,rM(),Vy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new nM}}class sg extends Bw{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof PC&&(i.sharedClientState.syncEngine={jr:xM.bind(null,r),zr:cD.bind(null,r),Wr:CM.bind(null,r),$i:Fw.bind(null,r),Qr:D1.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var a=(0,we.Z)(function*(l){yield function IM(n,e){return nv.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=rM();if(!PC.D(t))throw new Oe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ag{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Xy(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,i.syncEngine),yield eg(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hM}createDatastore(e){const t=qf(e.databaseInfo.databaseId),i=new v1(e.databaseInfo);return new sM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>Xy(this.syncEngine,f,0),l=fw.D()?new fw:new y1,new ca(t,i,r,a,l);var t,i,r,a,l}createSyncEngine(e,t){return function(i,r,a,l,f,g,v){const C=new yM(i,r,a,l,f,g);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=tt(t);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Yp(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uD(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class S1{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new dr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,we.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const a=yield e.$c(r);return new YC(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,we.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class DM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,l){const f=tt(a),g=Of(f.serializer)+"/documents",v={documents:l.map($=>Rf(f.serializer,$))},C=yield f.vo("BatchGetDocuments",g,v,l.length),A=new Map;C.forEach($=>{const Z=function MA(n,e){return"found"in e?function(t,i){vt(!!i.found);const r=Ns(t,i.found.name),a=Mi(i.found.updateTime),l=i.found.createTime?Mi(i.found.createTime):bt.min(),f=new Pr({mapValue:{fields:i.found.fields}});return ai.newFoundDocument(r,a,l,f)}(n,e):"missing"in e?function(t,i){vt(!!i.missing),vt(!!i.readTime);const r=Ns(t,i.missing),a=Mi(i.readTime);return ai.newNoDocument(r,a)}(n,e):at()}(f.serializer,$);A.set(Z.key.toString(),Z)});const U=[];return l.forEach($=>{const Z=A.get($.toString());vt(!!Z),U.push(Z)}),U}),function(a,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Af(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Qe.fromPath(r);e.mutations.push(new Lp(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const l=tt(r),f=Of(l.serializer)+"/documents",g={writes:a.map(v=>Nf(l.serializer,v))};yield l.Io("Commit",f,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?mi.exists(!1):mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Oe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class A1{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Bc=i.maxAttempts,this.qo=new mw(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,we.Z)(function*(){const t=new DM(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Uc(a)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Ad(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WI(t)}return!1}}class M1{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xi.UNAUTHENTICATED,this.clientId=dI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,we.Z)(function*(f){Be("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Be("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=th(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function jw(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield DC(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),dD.apply(this,arguments)}function hD(n,e){return zw.apply(this,arguments)}function zw(){return zw=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fD(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Ew(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Ew(e.remoteStore,a)),n._onlineComponents=e}),zw.apply(this,arguments)}function TM(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function fD(n){return mD.apply(this,arguments)}function mD(){return mD=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!TM(t))throw t;ks("Error using user provided cache. Falling back to memory cache: "+t),yield jw(n,new Zf)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield jw(n,new Zf);return n._offlineComponents}),mD.apply(this,arguments)}function Hw(n){return pD.apply(this,arguments)}function pD(){return pD=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield hD(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield hD(n,new ag))),n._onlineComponents}),pD.apply(this,arguments)}function gD(n){return fD(n).then(e=>e.persistence)}function $w(n){return fD(n).then(e=>e.localStore)}function o(n){return Hw(n).then(e=>e.remoteStore)}function s(n){return Hw(n).then(e=>e.syncEngine)}function u(n){return h.apply(this,arguments)}function h(){return h=(0,we.Z)(function*(n){const e=yield Hw(n),t=e.eventManager;return t.onListen=Ky.bind(null,e.syncEngine),t.onUnlisten=ih.bind(null,e.syncEngine),t}),h.apply(this,arguments)}function I(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,l,f,g){const v=new Uw({next:A=>{a.enqueueAndForget(()=>Zy(r,C));const U=A.docs.has(l);!U&&A.fromCache?g.reject(new Oe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&A.fromCache&&f&&"server"===f.source?g.reject(new Oe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),C=new KC(Vd(l.path),v,{includeMetadataChanges:!0,Ku:!0});return xw(r,C)}(yield u(n),n.asyncQueue,e,t,i)})),i.promise}function k(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,l,f,g){const v=new Uw({next:A=>{a.enqueueAndForget(()=>Zy(r,C)),A.fromCache&&"server"===f.source?g.reject(new Oe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),C=new KC(l,v,{includeMetadataChanges:!0,Ku:!0});return xw(r,C)}(yield u(n),n.asyncQueue,e,t,i)})),i.promise}function Ve(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const nt=new Map;function mt(n,e,t){if(!t)throw new Oe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Se(n,e,t,i){if(!0===e&&!0===i)throw new Oe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $t(n){if(!Qe.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cn(n){if(Qe.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ln(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function Ot(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ln(n);throw new Oe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cg(n,e){if(e<=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _D{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Se("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ve(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _D({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _D(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uI;switch(t.type){case"firstParty":return new ey(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nt.get(e);t&&(Be("ComponentProvider","Removing Datastore"),nt.delete(e),t.terminate())}(this),Promise.resolve()}}function k1(n,e,t,i={}){var r;const a=(n=Ot(n,lg))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let f,g;if("string"==typeof i.mockUserToken)f=i.mockUserToken,g=Xi.MOCK_USER;else{f=(0,zt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Oe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xi(v)}n._authCredentials=new Gb(new lI(f,g))}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class po{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class iu extends po{constructor(e,t,i){super(e,t,Vd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new Qe(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function R1(n,e,...t){if(n=(0,zt.m9)(n),mt("collection","path",e),n instanceof lg){const i=yn.fromString(e,...t);return cn(i),new iu(n,null,i)}{if(!(n instanceof Ei||n instanceof iu))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(e,...t));return cn(i),new iu(n.firestore,null,i)}}function yD(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=dI.A()),mt("doc","path",e),n instanceof lg){const i=yn.fromString(e,...t);return $t(i),new Ei(n,null,new Qe(i))}{if(!(n instanceof Ei||n instanceof iu))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(e,...t));return $t(i),new Ei(n.firestore,n instanceof iu?n.converter:null,new Qe(i))}}function O1(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof Ei||n instanceof iu)&&(e instanceof Ei||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function SM(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof po&&e instanceof po&&n.firestore===e.firestore&&Ap(n._query,e._query)&&n.converter===e.converter}class _2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mw(this,"async_queue_retry"),this.Xc=()=>{const t=Vy();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Vy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new dr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,we.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!na(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Wy.createAndSchedule(this,e,t,i,a=>this.na(a));return this.zc.push(r),r}Zc(){this.Wc&&at()}verifyOperationInProgress(){}sa(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function AM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class y2{constructor(){this._progressObserver={},this._taskCompletionResolver=new dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends lg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new _2,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N1(this),this._firestoreClient.terminate()}}function b2(n,e){const t="object"==typeof n?n:(0,Nr.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Nr._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=(0,zt.P0)("firestore");a&&k1(r,...a)}return r}function mr(n){return n._firestoreClient||N1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function N1(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new n0(n._databaseId,f,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ve(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new M1(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function P1(n,e,t){const i=new dr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield jw(n,t),yield hD(n,e),i.resolve()}catch(r){const a=r;if(!TM(a))throw a;ks("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function F1(n){if(n._initialized||n._terminated)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Ai.fromBase64String(e))}catch(t){throw new Oe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class vD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const M2=/^__.*__$/;class k2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sf(e,this.data,t,this.fieldTransforms)}}class L1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class bD{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(V1(this.ca)&&M2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class R2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qf(e)}ya(e,t,i,r=!1){return new bD({ca:e,methodName:t,ga:i,path:fi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(n){const e=n._freezeSettings(),t=qf(n._databaseId);return new R2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wD(n,e,t,i,r,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,r);OM("Data must be an object, but it was:",l,i);const f=j1(i,l);let g,v;if(a.merge)g=new Ro(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const C=[];for(const A of a.mergeFields){const U=Ww(e,A,t);if(!l.contains(U))throw new Oe(he.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);H1(C,U)||C.push(U)}g=new Ro(C),v=l.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,v=l.fieldTransforms;return new k2(new Pr(f),g,v)}class qw extends ug{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qw}}function B1(n,e,t){return new bD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class MM extends ug{_toFieldTransform(e){return new Np(e.path,new Wa)}isEqual(e){return e instanceof MM}}class O2 extends ug{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=B1(this,e,!0),i=this.pa.map(a=>hg(a,t)),r=new zd(i);return new Np(e.path,r)}isEqual(e){return this===e}}class N2 extends ug{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=B1(this,e,!0),i=this.pa.map(a=>hg(a,t)),r=new Hd(i);return new Np(e.path,r)}isEqual(e){return this===e}}class P2 extends ug{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Op(e.serializer,b0(e.serializer,this.Ia));return new Np(e.path,t)}isEqual(e){return this===e}}function kM(n,e,t,i){const r=n.ya(1,e,t);OM("Data must be an object, but it was:",r,i);const a=[],l=Pr.empty();ql(i,(g,v)=>{const C=ED(e,g,t);v=(0,zt.m9)(v);const A=r.da(C);if(v instanceof qw)a.push(C);else{const U=hg(v,A);null!=U&&(a.push(C),l.set(C,U))}});const f=new Ro(a);return new L1(l,f,r.fieldTransforms)}function RM(n,e,t,i,r,a){const l=n.ya(1,e,t),f=[Ww(e,i,t)],g=[r];if(a.length%2!=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<a.length;U+=2)f.push(Ww(e,a[U])),g.push(a[U+1]);const v=[],C=Pr.empty();for(let U=f.length-1;U>=0;--U)if(!H1(v,f[U])){const $=f[U];let Z=g[U];Z=(0,zt.m9)(Z);const ne=l.da($);if(Z instanceof qw)v.push($);else{const fe=hg(Z,ne);null!=fe&&(v.push($),C.set($,fe))}}const A=new Ro(v);return new L1(C,A,l.fieldTransforms)}function U1(n,e,t,i=!1){return hg(t,n.ya(i?4:3,e))}function hg(n,e){if(z1(n=(0,zt.m9)(n)))return OM("Unsupported field value:",e,n),j1(n,e);if(n instanceof ug)return function(t,i){if(!V1(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const l of t){let f=hg(l,i.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return b0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=oi.fromDate(t);return{timestampValue:Yl(i.serializer,r)}}if(t instanceof oi){const r=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yl(i.serializer,r)}}if(t instanceof vD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:vy(i.serializer,t._byteString)};if(t instanceof Ei){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:by(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${ln(t)}`)}(n,e)}function j1(n,e){const t={};return DI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(n,(i,r)=>{const a=hg(r,e.ha(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function z1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof vD||n instanceof ru||n instanceof Ei||n instanceof ug)}function OM(n,e,t){if(!z1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ln(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Ww(n,e,t){if((e=(0,zt.m9)(e))instanceof oh)return e._internalPath;if("string"==typeof e)return ED(n,e);throw xD("Field path arguments must be of type string or ",n,!1,void 0,t)}const F2=new RegExp("[~\\*/\\[\\]]");function ED(n,e,t){if(e.search(F2)>=0)throw xD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new oh(...e.split("."))._internalPath}catch{throw xD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xD(n,e,t,i,r){const a=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||l)&&(g+=" (found",a&&(g+=` in field ${i}`),l&&(g+=` in document ${r}`),g+=")"),new Oe(he.INVALID_ARGUMENT,f+n+g)}function H1(n,e){return n.some(t=>t.isEqual(e))}class Zw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ID("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L2 extends Zw{data(){return super.data()}}function ID(n,e){return"string"==typeof e?ED(n,e):e instanceof oh?e._internalPath:e._delegate._internalPath}function $1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NM{}class Kw extends NM{}function Kf(n,e,...t){let i=[];e instanceof NM&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof rv).length,l=r.filter(f=>f instanceof Yw).length;if(a>1||a>0&&l>0)throw new Oe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Yw extends Kw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yw(e,t,i)}_apply(e){const t=this._parse(e);return Z1(e._query,t),new po(e.firestore,e.converter,Ud(e._query,t))}_parse(e){const t=dg(e.firestore);return function(r,a,l,f,g,v,C){let A;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){W1(C,v);const U=[];for(const $ of C)U.push(q1(f,r,$));A={arrayValue:{values:U}}}else A=q1(f,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||W1(C,v),A=U1(l,"where",C,"in"===v||"not-in"===v);return dn.create(g,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class rv extends NM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const l=r.getFlattenedFilters();for(const f of l)Z1(a,f),a=Ud(a,f)}(e._query,t),new po(e.firestore,e.converter,Ud(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PM extends Kw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PM(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Rd(r,a);return function(f,g){if(null===hy(f)){const v=Sp(f);null!==v&&K1(0,v,g.field)}}(i,l),l}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new qa(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class CD extends Kw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new CD(e,t,i)}_apply(e){return new po(e.firestore,e.converter,fy(e._query,this._limit,this._limitType))}}class DD extends Kw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new DD(e,t,i)}_apply(e){const t=G1(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(r=t,new qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class TD extends Kw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new TD(e,t,i)}_apply(e){const t=G1(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(r=t,new qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function G1(n,e,t,i){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof Zw)return function(r,a,l,f,g){if(!f)throw new Oe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const C of Bd(r))if(C.field.isKeyField())v.push(kd(a,f.key));else{const A=f.data.field(C.field);if(ay(A))throw new Oe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const U=C.field.canonicalString();throw new Oe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}v.push(A)}return new zc(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=dg(n.firestore);return function(a,l,f,g,v,C){const A=a.explicitOrderBy;if(v.length>A.length)throw new Oe(he.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let $=0;$<v.length;$++){const Z=v[$];if(A[$].field.isKeyField()){if("string"!=typeof Z)throw new Oe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Z}`);if(!p0(a)&&-1!==Z.indexOf("/"))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Z}' contains a slash.`);const ne=a.path.child(yn.fromString(Z));if(!Qe.isDocumentKey(ne))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const fe=new Qe(ne);U.push(kd(l,fe))}else{const ne=U1(f,g,Z);U.push(ne)}}return new zc(U,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function q1(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(e)&&-1!==t.indexOf("/"))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(yn.fromString(t));if(!Qe.isDocumentKey(i))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kd(n,new Qe(i))}if(t instanceof Ei)return kd(n,t._key);throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ln(t)}.`)}function W1(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z1(n,e){if(e.isInequality()){const i=Sp(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=hy(n);null!==a&&K1(0,r,a)}const t=function(i,r){for(const a of i)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function K1(n,e,t){if(!t.isEqual(e))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FM{convertValue(e,t="none"){switch(Uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ql(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new vD(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cy(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yn.fromString(e);vt(lC(i));const r=new Vc(i.get(1),i.get(3)),a=new Qe(i.popFirst(5));return r.isEqual(t)||bi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function SD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class q2 extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sh extends Zw{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ID("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qw extends sh{data(e={}){return super.data(e)}}class Yf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qw(this._firestore,this._userDataWriter,i.key,i,new fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Qw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Qw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==l.type&&(g=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),v=a.indexOf(l.doc.key)),{type:Z2(l.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Z2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function Q1(n,e){return n instanceof sh&&e instanceof sh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yf&&e instanceof Yf&&n._firestore===e._firestore&&SM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Qf extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function X1(n,e,t){n=Ot(n,Ei);const i=Ot(n.firestore,xi),r=SD(n.converter,e,t);return ov(i,[wD(dg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,mi.none())])}function J1(n,e,t,...i){n=Ot(n,Ei);const r=Ot(n.firestore,xi),a=dg(r);let l;return l="string"==typeof(e=(0,zt.m9)(e))||e instanceof oh?RM(a,"updateDoc",n._key,e,t,i):kM(a,"updateDoc",n._key,e),ov(r,[l.toMutation(n._key,mi.exists(!0))])}function eO(n,...e){var t,i,r;n=(0,zt.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||AM(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(AM(e[l])){const A=e[l];e[l]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[l+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[l+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let g,v,C;if(n instanceof Ei)v=Ot(n.firestore,xi),C=Vd(n._key.path),g={next:A=>{e[l]&&e[l](LM(v,n,A))},error:e[l+1],complete:e[l+2]};else{const A=Ot(n,po);v=Ot(A.firestore,xi),C=A._query;const U=new Qf(v);g={next:$=>{e[l]&&e[l](new Yf(v,U,A,$))},error:e[l+1],complete:e[l+2]},$1(n._query)}return function(A,U,$,Z){const ne=new Uw(Z),fe=new KC(U,ne,$);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return xw(yield u(A),fe)})),()=>{ne.Dc(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Zy(yield u(A),fe)}))}}(mr(v),C,f,g)}function ov(n,e){return function(t,i){const r=new dr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Tw(n,e,t){return ng.apply(this,arguments)}(yield s(t),i,r)})),r.promise}(mr(n),e)}function LM(n,e,t){const i=t.docs.get(e._key),r=new Qf(n);return new sh(n,r,e._key,i,new fg(t.hasPendingWrites,t.fromCache),e.converter)}const hV={maxAttempts:5};class tO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dg(e)}set(e,t,i){this._verifyNotCommitted();const r=Xf(e,this._firestore),a=SD(r.converter,t,i),l=wD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,mi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Xf(e,this._firestore);let l;return l="string"==typeof(t=(0,zt.m9)(t))||t instanceof oh?RM(this._dataReader,"WriteBatch.update",a._key,t,i,r):kM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xf(e,this._firestore);return this._mutations=this._mutations.concat(new Af(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xf(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Oe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dg(e)}get(e){const t=Xf(e,this._firestore),i=new q2(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return at();const a=r[0];if(a.isFoundDocument())return new Zw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Zw(this._firestore,i,t._key,null,t.converter);throw at()})}set(e,t,i){const r=Xf(e,this._firestore),a=SD(r.converter,t,i),l=wD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const a=Xf(e,this._firestore);let l;return l="string"==typeof(t=(0,zt.m9)(t))||t instanceof oh?RM(this._dataReader,"Transaction.update",a._key,t,i,r):kM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Xf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xf(e,this._firestore),i=new Qf(this._firestore);return super.get(e).then(r=>new sh(this._firestore,i,t._key,r._document,new fg(!1,!1),t.converter))}}function VM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iO(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function rO(){if(!function TI(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pc=Nr.SDK_VERSION,(0,Nr._registerComponent)(new Fl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),l=new xi(new qb(t.getProvider("auth-internal")),new Wb(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(f.options.projectId,g)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(sI,"3.13.0",n),(0,Nr.registerVersion)(sI,"3.13.0","esm2017")}();class Xw{constructor(e){this._delegate=e}static fromBase64String(e){return rO(),new Xw(ru.fromBase64String(e))}static fromUint8Array(e){return iO(),new Xw(ru.fromUint8Array(e))}toBase64(){return rO(),this._delegate.toBase64()}toUint8Array(){return iO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BM(n){return function EV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class xV{enableIndexedDbPersistence(e,t){return function w2(n,e){F1(n=Ot(n,xi));const t=mr(n);if(t._uninitializedComponentsProvider)throw new Oe(he.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ag;return P1(t,r,new Bw(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function E2(n){F1(n=Ot(n,xi));const e=mr(n);if(e._uninitializedComponentsProvider)throw new Oe(he.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ag;return P1(e,i,new sg(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function x2(n){if(n._initialized&&!n._terminated)throw new Oe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new dr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!Rs.D())return Promise.resolve();const r=i+"main";yield Rs.delete(r)}),function(i){return t.apply(this,arguments)})(Oy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){k1(this._delegate,e,t,i)}enableNetwork(){return function C2(n){return function m(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield gD(n),t=yield o(n);return e.setNetworkEnabled(!0),function(i){const r=tt(i);return r.vu.delete(0),Wf(r)}(t)}))}(mr(n=Ot(n,xi)))}(this._delegate)}disableNetwork(){return function D2(n){return function y(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield gD(n),t=yield o(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=tt(r);a.vu.add(0),yield Yp(a),a.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(mr(n=Ot(n,xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Se("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function I2(n){return function(e){const t=new dr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function vM(n,e){return Aw.apply(this,arguments)}(yield s(e),t)})),t.promise}(mr(n=Ot(n,xi)))}(this._delegate)}onSnapshotsInSync(e){return function iV(n,e){return function B(n,e){const t=new Uw(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield u(n),r=t,tt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield u(n),r=t,void tt(i).ku.delete(r);var i,r}))}}(mr(n=Ot(n,xi)),AM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sv(this,R1(this._delegate,e))}catch(t){throw ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xa(this,yD(this._delegate,e))}catch(t){throw ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new as(this,function g2(n,e){if(n=Ot(n,lg),mt("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new po(n,null,(t=e,new qa(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mV(n,e,t){n=Ot(n,xi);const i=Object.assign(Object.assign({},hV),t);return function(r){if(r.maxAttempts<1)throw new Oe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,l){const f=new dr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const g=yield function c(n){return Hw(n).then(e=>e.datastore)}(r);new A1(r.asyncQueue,g,l,a,f).run()})),f.promise}(mr(n),r=>e(new fV(n,r)),i)}(this._delegate,t=>e(new sO(this,t)))}batch(){return mr(this._delegate),new aO(new tO(this._delegate,e=>ov(this._delegate,e)))}loadBundle(e){return function T2(n,e){const t=mr(n=Ot(n,xi)),i=new y2;return function K(n,e,t,i){const r=function(a,l){let f;return f="string"==typeof a?S0().encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return uD(g,v);if(g instanceof ArrayBuffer)return uD(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new S1(g,l);var g}(t,qf(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function lD(n,e,t){const i=tt(n);var r;(r=(0,we.Z)(function*(a,l,f){try{const g=yield l.getMetadata();if(yield function(U,$){const Z=tt(U),ne=Mi($.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",fe=>Z.qs.getBundleMetadata(fe,$.id)).then(fe=>!!fe&&fe.createTime.compareTo(ne)>=0)}(a.localStore,g))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=g).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(XC(g));const v=new mM(g,a.localStore,l.serializer);let C=yield l.bc();for(;C;){const U=yield v.zu(C);U&&f._updateProgress(U),C=yield l.bc()}const A=yield v.complete();return yield ua(a,A.Ju,void 0),yield function(U,$){const Z=tt(U);return Z.persistence.runTransaction("Save bundle","readwrite",ne=>Z.qs.saveBundleMetadata(ne,$))}(a.localStore,g),f._completeWith(A.progress),Promise.resolve(A.Hu)}catch(g){return ks("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var U}),function(a,l,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield s(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function S2(n,e){return function ee(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=tt(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.qs.getNamedQuery(a,i))}(yield $w(n),e)}))}(mr(n=Ot(n,xi)),e).then(t=>t?new po(n,null,t.query):null)}(this._delegate,e).then(t=>t?new as(this,t):null)}}class AD extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xw(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xa.forKey(t,this.firestore,null)}}class sO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}get(e){const t=pg(e);return this._delegate.get(t).then(i=>new Jw(this._firestore,new sh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=pg(e);return i?(VM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=pg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}}class aO{constructor(e){this._delegate=e}set(e,t,i){const r=pg(e);return i?(VM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=pg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Qw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=mg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new mg(e,new AD(e),t),r.set(t,a)),a}}mg.INSTANCES=new WeakMap;class Xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xa(t,new Ei(t._delegate,i,new Qe(e)))}static forKey(e,t,i){return new Xa(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new sv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sv(this.firestore,R1(this._delegate,e))}catch(t){throw ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof Ei&&O1(this._delegate,e)}set(e,t){t=VM("DocumentReference.set",t);try{return t?X1(this._delegate,e,t):X1(this._delegate,e)}catch(i){throw ss(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?J1(this._delegate,e):J1(this._delegate,e,t,...i)}catch(r){throw ss(r,"updateDoc()","DocumentReference.update()")}}delete(){return function tV(n){return ov(Ot(n.firestore,xi),[new Af(n._key,mi.none())])}(this._delegate)}onSnapshot(...e){const t=cO(e),i=lO(e,r=>new Jw(this.firestore,new sh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Y2(n){n=Ot(n,Ei);const e=Ot(n.firestore,xi),t=mr(e),i=new Qf(e);return function w(n,e){const t=new dr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,l){try{const f=yield function(g,v){const C=tt(g);return C.persistence.runTransaction("read document","readonly",A=>C.localDocuments.getDocument(A,v))}(r,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Oe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=th(f,`Failed to get document '${a} from cache`);l.reject(g)}}),function(r,a,l){return i.apply(this,arguments)})(yield $w(n),e,t);var i})),t.promise}(t,n._key).then(r=>new sh(e,i,n._key,r,new fg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Q2(n){n=Ot(n,Ei);const e=Ot(n.firestore,xi);return I(mr(e),n._key,{source:"server"}).then(t=>LM(e,n,t))}(this._delegate):function K2(n){n=Ot(n,Ei);const e=Ot(n.firestore,xi);return I(mr(e),n._key).then(t=>LM(e,n,t))}(this._delegate),t.then(i=>new Jw(this.firestore,new sh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xa(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}function ss(n,e,t){return n.message=n.message.replace(e,t),n}function cO(n){for(const e of n)if("object"==typeof e&&!BM(e))return e;return{}}function lO(n,e){var t,i;let r;return r=BM(n[0])?n[0]:BM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Q1(this._delegate,e._delegate)}}class eE extends Jw{data(e){const t=this._delegate.data(e);return function cI(n,e){n||at()}(void 0!==t),t}}class as{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}where(e,t,i){try{return new as(this.firestore,Kf(this._delegate,function V2(n,e,t){const i=e,r=ID("where",n);return Yw._create(r,i,t)}(e,t,i)))}catch(r){throw ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new as(this.firestore,Kf(this._delegate,function B2(n,e="asc"){const t=e,i=ID("orderBy",n);return PM._create(i,t)}(e,t)))}catch(i){throw ss(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new as(this.firestore,Kf(this._delegate,function U2(n){return cg("limit",n),CD._create("limit",n,"F")}(e)))}catch(t){throw ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new as(this.firestore,Kf(this._delegate,function j2(n){return cg("limitToLast",n),CD._create("limitToLast",n,"L")}(e)))}catch(t){throw ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new as(this.firestore,Kf(this._delegate,function z2(...n){return DD._create("startAt",n,!0)}(...e)))}catch(t){throw ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new as(this.firestore,Kf(this._delegate,function H2(...n){return DD._create("startAfter",n,!1)}(...e)))}catch(t){throw ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new as(this.firestore,Kf(this._delegate,function $2(...n){return TD._create("endBefore",n,!1)}(...e)))}catch(t){throw ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new as(this.firestore,Kf(this._delegate,function G2(...n){return TD._create("endAt",n,!0)}(...e)))}catch(t){throw ss(t,"endAt()","Query.endAt()")}}isEqual(e){return SM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function J2(n){n=Ot(n,po);const e=Ot(n.firestore,xi),t=mr(e),i=new Qf(e);return function T(n,e){const t=new dr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,l){try{const f=yield Kp(r,a,!0),g=new _M(a,f.ir),v=g.sc(f.documents),C=g.applyChanges(v,!1);l.resolve(C.snapshot)}catch(f){const g=th(f,`Failed to execute query '${a} against cache`);l.reject(g)}}),function(r,a,l){return i.apply(this,arguments)})(yield $w(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate):"server"===e?.source?function eV(n){n=Ot(n,po);const e=Ot(n.firestore,xi),t=mr(e),i=new Qf(e);return k(t,n._query,{source:"server"}).then(r=>new Yf(e,i,n,r))}(this._delegate):function X2(n){n=Ot(n,po);const e=Ot(n.firestore,xi),t=mr(e),i=new Qf(e);return $1(n._query),k(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate),t.then(i=>new UM(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=cO(e),i=lO(e,r=>new UM(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eO(this._delegate,t,i)}withConverter(e){return new as(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}class CV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CV(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new eE(this._firestore,i))})}isEqual(e){return Q1(this._delegate,e._delegate)}}class sv extends as{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xa(this.firestore,e):null}doc(e){try{return new Xa(this.firestore,void 0===e?yD(this._delegate):yD(this._delegate,e))}catch(t){throw ss(t,"doc()","CollectionReference.doc()")}}add(e){return function nV(n,e){const t=Ot(n.firestore,xi),i=yD(n),r=SD(n.converter,e);return ov(t,[wD(dg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Xa(this.firestore,t))}isEqual(e){return O1(this._delegate,e._delegate)}withConverter(e){return new sv(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}function pg(n){return Ot(n,Ei)}class jM{constructor(...e){this._delegate=new oh(...e)}static documentId(){return new jM(fi.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof oh&&this._delegate._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function gV(){return new MM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gg(e)}static delete(){const e=function pV(){return new qw("deleteField")}();return e._methodName="FieldValue.delete",new gg(e)}static arrayUnion(...e){const t=function _V(...n){return new O2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gg(t)}static arrayRemove(...e){const t=function yV(...n){return new N2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gg(t)}static increment(e){const t=function vV(n){return new P2("increment",n)}(e);return t._methodName="FieldValue.increment",new gg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DV={Firestore:oO,GeoPoint:vD,Timestamp:oi,Blob:Xw,Transaction:sO,WriteBatch:aO,DocumentReference:Xa,DocumentSnapshot:Jw,Query:as,QueryDocumentSnapshot:eE,QuerySnapshot:UM,CollectionReference:sv,FieldPath:jM,FieldValue:gg,setLogLevel:function IV(n){!function KS(n){ta.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function SV(n){(function TV(n,e){n.INTERNAL.registerComponent(new Fl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},DV)))})(n,(e,t)=>new oO(e,t,new xV)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(qm.Z);var tE=F(3019),MD=F(3093),AV=F(4552);class MV extends gn.x{constructor(e=1/0,t=1/0,i=AV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:l}=this;t||(i.push(e),!r&&i.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let l=0;l<a.length&&!e.closed;l+=i?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const l=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=l;g+=2)f=g;f&&i.splice(0,f+1)}}}var uO=F(3020);function zM(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,uO.B)({connector:()=>new MV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function dO(n,e){return(0,Bi.m)(e)?(0,Fn.w)(()=>n,e):(0,Fn.w)(()=>n)}var HM=F(5137),Jf=F(3182);class _g{constructor(e){return e}}class $M{constructor(){return(0,Jf.C6)()}}const GM=new d.OlP("angularfire2._apps"),RV={provide:_g,useFactory:function kV(n){return n&&1===n.length?n[0]:new _g((0,Jf.Mq)())},deps:[[new d.FiY,GM]]},OV={provide:$M,deps:[[new d.FiY,GM]]};function NV(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new _g(i)}}let PV=(()=>{class n{constructor(t){(0,Jf.KN)("angularfire",sn.q4.full,"core"),(0,Jf.KN)("angularfire",sn.q4.full,"app"),(0,Jf.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[RV,OV]}),n})();function FV(n,...e){return{ngModule:PV,providers:[{provide:GM,useFactory:NV(n),multi:!0,deps:[d.R0b,d.zs3,sn.HU,...e]}]}}const LV=(0,sn.u3)(Jf.ZF,!0),qM=new Map,hO={activated:!1,tokenObservers:[]},VV={initialized:!1,enabled:!1};function tr(n){return qM.get(n)||Object.assign({},hO)}function kD(){return VV}const WM="https://content-firebaseappcheck.googleapis.com/v1",zV="exchangeDebugToken",fO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $V{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function GV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const go=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZM(n){if(!tr(n).activated)throw go.create("use-before-activation",{appName:n.name})}function ND(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,a)}catch(A){throw go.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw go.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw go.create("fetch-parse-error",{originalErrorMessage:A?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),YM.apply(this,arguments)}function mO(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${WM}/projects/${t}/apps/${i}:${zV}?key=${r}`,body:{debug_token:e}}}const KV="firebase-app-check-database",YV=1,nE="firebase-app-check-store";let PD=null;function QM(){return QM=(0,we.Z)(function*(n,e){const i=(yield function gO(){return PD||(PD=new Promise((n,e)=>{try{const t=indexedDB.open(KV,YV);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(go.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nE,{keyPath:"compositeKey"})}}catch(t){e(go.create("storage-open",{originalErrorMessage:t?.message}))}}),PD)}()).transaction(nE,"readwrite"),a=i.objectStore(nE).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=g=>{l()},i.onerror=g=>{var v;f(go.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),QM.apply(this,arguments)}const iE=new ts.Yd("@firebase/app-check");function ek(n,e){return(0,zt.hl)()?function XV(n,e){return function _O(n,e){return QM.apply(this,arguments)}(function vO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{iE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nk(){return kD().enabled}function ik(){return rk.apply(this,arguments)}function rk(){return rk=(0,we.Z)(function*(){const n=kD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),rk.apply(this,arguments)}const rB={error:"UNKNOWN_ERROR"};function oB(n){return zt.US.encodeString(JSON.stringify(n),!1)}function FD(n){return ok.apply(this,arguments)}function ok(){return ok=(0,we.Z)(function*(n,e=!1){const t=n.app;ZM(t);const i=tr(t);let a,r=i.token;if(r&&!av(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(av(g)?r=g:yield ek(t,void 0))}if(!e&&r&&av(r))return{token:r.token};let f,l=!1;if(nk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ND(mO(t,yield ik()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const g=yield i.exchangeTokenPromise;return yield ek(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield tr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?iE.warn(g.message):iE.error(g),a=g}return r?a?f=av(r)?{token:r.token,internalError:a}:xO(a):(f={token:r.token},i.token=r,yield ek(t,r)):f=xO(a),l&&function EO(n,e){const t=tr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),ok.apply(this,arguments)}function sk(){return sk=(0,we.Z)(function*(n){const e=n.app;ZM(e);const{provider:t}=tr(e);if(nk()){const i=yield ik(),{token:r}=yield ND(mO(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),sk.apply(this,arguments)}function ck(n,e){const t=tr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function wO(n){const{app:e}=n,t=tr(e);let i=t.tokenRefresher;i||(i=function sB(n){const{app:e}=n;return new $V((0,we.Z)(function*(){let i;if(i=tr(e).token?yield FD(n,!0):yield FD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=tr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},fO.RETRIAL_MIN_WAIT,fO.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function av(n){return n.expireTimeMillis-Date.now()>0}function xO(n){return{token:oB(rB),error:n}}class aB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=tr(this.app);for(const t of e)ck(this.app,t.next);return Promise.resolve()}}const kO="app-check-internal";!function wB(){(0,Nr._registerComponent)(new Fl.wA("app-check",n=>function cB(n,e){return new aB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kO).initialize()})),(0,Nr._registerComponent)(new Fl.wA(kO,n=>function lB(n){return{getToken:e=>FD(n,e),getLimitedUseToken:()=>function bO(n){return sk.apply(this,arguments)}(n),addTokenListener:e=>function ak(n,e,t,i){const{app:r}=n,a=tr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&av(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),wO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>wO(n))}(n,"INTERNAL",e),removeTokenListener:e=>ck(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nr.registerVersion)("@firebase/app-check","0.8.0")}();class cv{constructor(){return(0,sn.vb)("app-check")}}typeof window<"u"&&window;var OO=F(7142);const NO=new d.OlP("angularfire2.auth.use-emulator"),PO=new d.OlP("angularfire2.auth.settings"),FO=new d.OlP("angularfire2.auth.tenant-id"),LO=new d.OlP("angularfire2.auth.langugage-code"),VO=new d.OlP("angularfire2.auth.use-device-language"),BO=new d.OlP("angularfire.auth.persistence"),UO=(n,e,t,i,r,a,l,f)=>(0,Mo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))g.settings[v]=C;return f&&g.setPersistence(f),g},[t,i,r,a,l,f]);let jO=(()=>{class n{constructor(t,i,r,a,l,f,g,v,C,A,U,$){const Z=new gn.x,ne=(0,rt.of)(void 0).pipe((0,MD.Q)(l.outsideAngular),(0,Fn.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,6365)))),(0,st.U)(()=>(0,Mo.on)(t,a,i)),(0,st.U)(fe=>UO(fe,a,f,v,C,A,g,U)),zM({bufferSize:1,refCount:!1}));if(io(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{ne.pipe(Do()).subscribe();const je=ne.pipe((0,Fn.w)(Ge=>Ge.getRedirectResult().then(Ct=>Ct,()=>null)),sn.iC,zM({bufferSize:1,refCount:!1})),Ke=ne.pipe((0,Fn.w)(Ge=>new ri.y(Ct=>({unsubscribe:a.runOutsideAngular(()=>Ge.onAuthStateChanged(St=>Ct.next(St),St=>Ct.error(St),()=>Ct.complete()))})))),$e=ne.pipe((0,Fn.w)(Ge=>new ri.y(Ct=>({unsubscribe:a.runOutsideAngular(()=>Ge.onIdTokenChanged(St=>Ct.next(St),St=>Ct.error(St),()=>Ct.complete()))}))));this.authState=je.pipe(dO(Ke),(0,HM.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular)),this.user=je.pipe(dO($e),(0,HM.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Fn.w)(Ge=>Ge?(0,un.D)(Ge.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe((0,Fn.w)(Ge=>Ge?(0,un.D)(Ge.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,tE.T)(je,Z,this.authState.pipe(Dn(Ge=>!Ge))).pipe((0,st.U)(Ge=>Ge?.user?Ge:null),(0,HM.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular))}return(0,Mo.pX)(this,ne,a,{spy:{apply:(fe,je,Ke)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&Ke.then($e=>Z.next($e))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Mo.Dh),d.LFG(Mo.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(sn.HU),d.LFG(NO,8),d.LFG(PO,8),d.LFG(FO,8),d.LFG(LO,8),d.LFG(VO,8),d.LFG(BO,8),d.LFG(cv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zO(n,e){return function TB(n,e=x_.z){return new ri.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function fk(n,e){return zO(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function VD(n,e){return fk(n,e).pipe($r(void 0),Wv(),(0,st.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const g=r.find(C=>C.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function HO(n,e,t){return VD(n,t).pipe(xs((i,r)=>function AB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function MB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),(0,Zv.x)(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function mk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function $O(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class GO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=VD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe($r(void 0),Wv(),Dn(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),sn.iC)}auditTrail(e){return this.stateChanges(e).pipe(xs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$O(e);return HO(this.query,t,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(e={}){return fk(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),sn.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(sn.iC)}add(e){return this.ref.add(e)}doc(e){return new qO(this.ref.doc(e),this.afs)}}class qO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=KO(i,t);return new GO(r,a,this.afs)}snapshotChanges(){return function SB(n,e){return zO(n,e).pipe($r(void 0),Wv(),(0,st.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(sn.iC)}}class kB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?VD(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Dn(t=>t.length>0),sn.iC):VD(this.query,this.afs.schedulers.outsideAngular).pipe(sn.iC)}auditTrail(e){return this.stateChanges(e).pipe(xs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$O(e);return HO(this.query,t,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(e={}){return fk(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),sn.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(sn.iC)}}const WO=new d.OlP("angularfire2.enableFirestorePersistence"),ZO=new d.OlP("angularfire2.firestore.persistenceSettings"),RB=new d.OlP("angularfire2.firestore.settings"),OB=new d.OlP("angularfire2.firestore.use-emulator");function KO(n,e=(t=>t)){return{query:e(n),ref:n}}let pk,YO=(()=>{class n{constructor(t,i,r,a,l,f,g,v,C,A,U,$,Z,ne,fe,je,Ke){this.schedulers=g;const $e=(0,Mo.on)(t,f,i),Ge=C;A&&UO($e,f,U,Z,ne,fe,$,je),[this.firestore,this.persistenceEnabled$]=(0,Mo.cc)(`${$e.name}.firestore`,"AngularFirestore",$e.name,()=>{const Ct=f.runOutsideAngular(()=>$e.firestore());if(a&&Ct.settings(a),Ge&&Ct.useEmulator(...Ge),r&&!io(l)){const St=()=>{try{return(0,un.D)(Ct.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),(0,rt.of)(!1)}};return[Ct,f.runOutsideAngular(St)]}return[Ct,(0,rt.of)(!1)]},[a,Ge,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=KO(r,i),f=this.schedulers.ngZone.run(()=>a);return new GO(f,l,this)}collectionGroup(t,i){const r=i||(l=>l),a=this.firestore.collectionGroup(t);return new kB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new qO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Mo.Dh),d.LFG(Mo.xv,8),d.LFG(WO,8),d.LFG(RB,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(sn.HU),d.LFG(ZO,8),d.LFG(OB,8),d.LFG(jO,8),d.LFG(NO,8),d.LFG(PO,8),d.LFG(FO,8),d.LFG(LO,8),d.LFG(VO,8),d.LFG(BO,8),d.LFG(cv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NB=(()=>{class n{constructor(){OO.Z.registerVersion("angularfire",sn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WO,useValue:!0},{provide:ZO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YO]}),n})();try{pk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pk=!1}let rE,UD,yg,gk,No=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ba(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BD(n){return function PB(){if(null==rE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rE=!0}))}finally{rE=rE||!1}return rE}()?n:!!n.capture}function oE(){if("object"!=typeof document||!document)return 0;if(null==UD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),UD=0,0===n.scrollLeft&&(n.scrollLeft=1,UD=0===n.scrollLeft?1:2),n.remove()}return UD}function uv(n){return n.composedPath?n.composedPath()[0]:n.target}function sE(n,e=x_.z){return(0,ji.e)((t,i)=>{let r=null,a=null,l=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function g(){const v=l+n,C=e.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);f()}t.subscribe((0,Ui.x)(i,v=>{a=v,l=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function JO(n){return Dn((e,t)=>n<=t)}var yk=F(2420);function Ps(n){return(0,ji.e)((e,t)=>{(0,qo.Xf)(n).subscribe((0,Ui.x)(t,()=>t.complete(),yk.Z)),!t.closed&&e.subscribe(t)})}function pr(n){return null!=n&&"false"!=`${n}`}function jD(n,e=0){return function aU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function eN(n){return Array.isArray(n)?n:[n]}function vg(n){return n instanceof d.SBq?n.nativeElement:n}const tN=new Set;let bg,cU=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function lU(n,e){if(!tN.has(n))try{bg||(bg=document.createElement("style"),e&&(bg.nonce=e),bg.setAttribute("type","text/css"),document.head.appendChild(bg)),bg.sheet&&(bg.sheet.insertRule(`@media ${n} {body{ }}`,0),tN.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.Ojb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let nN=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new gn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return iN(eN(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=$o(iN(eN(t)).map(l=>this._registerQuery(l).observable));return a=wr(a.pipe(Qn(1)),a.pipe(JO(1),sE(0))),a.pipe((0,st.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new ri.y(l=>{const f=g=>this._zone.run(()=>l.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe($r(i),(0,st.U)(({matches:l})=>({query:t,matches:l})),Ps(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cU),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let sN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _U(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function gU(n){try{return n.frameElement}catch{return null}}(function CU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===cN(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=cN(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function xU(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function IU(n){return!function vU(n){return function wU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function yU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function bU(n){return function EU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||aN(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cN(n){if(!aN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class DU{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qn(1)).subscribe(e)}}let TU=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new DU(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sN),d.LFG(d.R0b),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const SU=new d.OlP("cdk-input-modality-detector-options"),AU={ignoreKeys:[18,17,224,91,16]},dv=BD({passive:!0,capture:!0});let MU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new br.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=uv(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lN(l)?"keyboard":"mouse"),this._mostRecentTarget=uv(l))},this._onTouchstart=l=>{uN(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uv(l))},this._options={...AU,...a},this.modalityDetected=this._modality.pipe(JO(1)),this.modalityChanged=this.modalityDetected.pipe((0,Zv.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dv),r.addEventListener("mousedown",this._onMousedown,dv),r.addEventListener("touchstart",this._onTouchstart,dv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dv),document.removeEventListener("mousedown",this._onMousedown,dv),document.removeEventListener("touchstart",this._onTouchstart,dv))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.R0b),d.LFG(ce),d.LFG(SU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RU=new d.OlP("cdk-focus-monitor-default-options"),zD=BD({passive:!0,capture:!0});let hN=(()=>{class n{constructor(t,i,r,a,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gn.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=uv(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=vg(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,rt.of)();const a=function VB(n){if(function LB(){if(null==gk){const n=typeof document<"u"?document.head:null;gk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new gn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=vg(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=vg(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=uv(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,zD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,zD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ps(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(No),d.LFG(MU),d.LFG(ce,8),d.LFG(RU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fN="cdk-high-contrast-black-on-white",mN="cdk-high-contrast-white-on-black",vk="cdk-high-contrast-active";let OU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(nN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vk,fN,mN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(vk,fN):2===i&&t.add(vk,mN)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NU=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function PU(){return(0,d.f3M)(ce)}}),FU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pN=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function LU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?FU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const BU=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function VU(){return!0}});let Po=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function UB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(OU),d.LFG(BU,8),d.LFG(ce))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gN,gN]}),n})();function UU(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=pr(e)}constructor(...e){super(...e),this._disabled=!1}}}function bk(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function jU(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=pr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class HU{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vN=BD({passive:!0,capture:!0});class $U{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=uv(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const l=a.get(i);l?l.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,vN)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,vN)))}}const bN={enterDuration:225,exitDuration:150},wN=BD({passive:!0,capture:!0}),EN=["mousedown","touchstart"],xN=["mouseup","mouseleave","touchend","touchcancel"];class hv{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vg(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...bN,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function qU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-l+"px",C.style.top=g-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const A=window.getComputedStyle(C),$=A.transitionDuration,Z="none"===A.transitionProperty||"0s"===$||"0s, 0s"===$||0===r.width&&0===r.height,ne=new HU(this,C,i,Z);C.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let fe=null;return!Z&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(ne),Ke=()=>this._destroyRipple(ne);C.addEventListener("transitionend",je),C.addEventListener("transitioncancel",Ke),fe={onTransitionEnd:je,onTransitionCancel:Ke}}),this._activeRipples.set(ne,fe),(Z||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...bN,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=vg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,EN.forEach(i=>{hv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xN.forEach(t=>{this._triggerElement.addEventListener(t,this,wN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(EN.forEach(t=>hv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xN.forEach(t=>e.removeEventListener(t,this,wN)))}}hv._eventManager=new $U;const cE=new d.OlP("mat-ripple-global-options");let WU=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new hv(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(No),d.Y36(cE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po]}),n})();const KU=["mat-button",""],YU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],QU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],JU=["mat-icon-button",""],e3=["*"],CN={capture:!0},DN=["focus","click","mouseenter","touchstart"],wk="mat-ripple-loader-uninitialized",Ek="mat-ripple-loader-class-name",TN="mat-ripple-loader-centered",HD="mat-ripple-loader-disabled";let t3=(()=>{class n{constructor(){this._document=(0,d.f3M)(ce,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(cE,{optional:!0}),this._platform=(0,d.f3M)(No),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${wk}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of DN)this._document?.addEventListener(t,this._onInteraction,CN)})}ngOnDestroy(){for(const t of DN)this._document?.removeEventListener(t,this._onInteraction,CN)}configureRipple(t,i){t.setAttribute(wk,""),(i.className||!t.hasAttribute(Ek))&&t.setAttribute(Ek,i.className||""),i.centered&&t.setAttribute(TN,""),i.disabled&&t.setAttribute(HD,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(HD,""):t.removeAttribute(HD)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(Ek)),t.append(i);const r=new WU(new d.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(TN),r.disabled=t.hasAttribute(HD),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(wk),t.matRipple=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],r3=bk(UU(jU(class{constructor(n){this._elementRef=n}})));let SN=(()=>{class n extends r3{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pr(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t),this._updateRippleDisabled()}constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,d.f3M)(hN),this._rippleLoader=(0,d.f3M)(t3),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=t.nativeElement.classList;for(const f of n3)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(g=>{l.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),s3=(()=>{class n extends SN{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:KU,ngContentSelectors:QU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(YU),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&t&&d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),c3=(()=>{class n extends SN{constructor(t,i,r,a){super(t,i,r,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:JU,ngContentSelectors:e3,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"span",0),d.Hsn(1),d._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,IN,Po]}),n})();const u3=["*"],f3=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],m3=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],p3=new d.OlP("MAT_CARD_CONFIG");let AN=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(p3,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:u3,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),kN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),ON=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:m3,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(d.F$t(f3),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Sr,Po]}),n})();function I3(n,e){if(1&n&&(d.TgZ(0,"tr")(1,"th"),d._uU(2),d.qZA(),d.TgZ(3,"th"),d._uU(4),d.qZA(),d.TgZ(5,"th"),d._uU(6),d.qZA(),d.TgZ(7,"th"),d._uU(8),d.qZA(),d.TgZ(9,"th")(10,"button",5),d._uU(11,"edit"),d.qZA(),d.TgZ(12,"button",6),d._uU(13,"delete"),d.qZA()()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.sid),d.xp6(2),d.Oqu(t.sname),d.xp6(2),d.Oqu(t.phone),d.xp6(2),d.Oqu(t.email)}}const C3=[{path:"",component:(()=>{class n{constructor(t){this.fs=t}ngOnInit(){this.student=this.fs.collection("student").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(YO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page1"]],decls:29,vars:3,consts:[[1,"body_p1"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"overflow","auto"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","warn"]],template:function(t,i){1&t&&(d.TgZ(0,"body",0)(1,"p"),d._uU(2,"page1 works!"),d.qZA(),d.TgZ(3,"mat-card",1)(4,"mat-card-header"),d._UZ(5,"div",2),d.TgZ(6,"mat-card-title"),d._uU(7,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19"),d.qZA(),d.TgZ(8,"mat-card-subtitle"),d._uU(9,"Student data"),d.qZA()(),d.TgZ(10,"mat-card-content")(11,"div",3)(12,"table")(13,"thead")(14,"tr")(15,"th"),d._uU(16,"sid"),d.qZA(),d.TgZ(17,"th"),d._uU(18,"sname"),d.qZA(),d.TgZ(19,"th"),d._uU(20,"phone"),d.qZA(),d.TgZ(21,"th"),d._uU(22,"email"),d.qZA(),d.TgZ(23,"th"),d._uU(24,"Action"),d.qZA()()(),d.TgZ(25,"tbody"),d.YNc(26,I3,14,4,"tr",4),d.ALo(27,"async"),d.qZA()()()(),d._UZ(28,"mat-card-actions"),d.qZA()()),2&t&&(d.xp6(26),d.Q6J("ngForOf",d.lcZ(27,1,i.student)))},dependencies:[Qc,s3,AN,ON,PN,kN,NN,RN,MN,Jc],styles:[".body_p1[_ngcontent-%COMP%]{background-color:#000;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg fill-opacity='0.75'%3E%3Cpolygon fill='%23220822' points='1600 160 0 460 0 350 1600 50'/%3E%3Cpolygon fill='%23441043' points='1600 260 0 560 0 450 1600 150'/%3E%3Cpolygon fill='%23661865' points='1600 360 0 660 0 550 1600 250'/%3E%3Cpolygon fill='%23882086' points='1600 460 0 760 0 650 1600 350'/%3E%3Cpolygon fill='%23AA28A8' points='1600 800 0 800 0 750 1600 450'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.example-card[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto;margin-top:20px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/564x/15/5c/3e/155c3e274b02b44d53a6c3d0c0bb6fdb.jpg);background-size:cover}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid grey;border-collapse:collapse;padding:5px;margin-left:auto;margin-right:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#8a2be2}"]}),n})()},{path:"page2",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page2"]],decls:3,vars:0,consts:[[1,"body_p2"]],template:function(t,i){1&t&&(d.TgZ(0,"body",0)(1,"p"),d._uU(2,"page2 works!"),d.qZA()())},styles:[".body_p2[_ngcontent-%COMP%]{background-color:#000;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg fill-opacity='0.75'%3E%3Cpolygon fill='%23220822' points='1600 160 0 460 0 350 1600 50'/%3E%3Cpolygon fill='%23441043' points='1600 260 0 560 0 450 1600 150'/%3E%3Cpolygon fill='%23661865' points='1600 360 0 660 0 550 1600 250'/%3E%3Cpolygon fill='%23882086' points='1600 460 0 760 0 650 1600 350'/%3E%3Cpolygon fill='%23AA28A8' points='1600 800 0 800 0 750 1600 450'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}"]}),n})()},{path:"page3",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page3"]],decls:2,vars:0,template:function(t,i){1&t&&(d.TgZ(0,"p"),d._uU(1,"page3 works!"),d.qZA())}}),n})()}];let D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[E_.forRoot(C3),E_]}),n})();const T3=["*",[["mat-toolbar-row"]]],S3=["*","mat-toolbar-row"],A3=bk(class{constructor(n){this._elementRef=n}});let M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),k3=(()=>{class n extends A3{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(ce))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,M3,5),2&t){let a;d.iGM(a=d.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:S3,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(T3),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),n})(),R3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})();var O3=F(4266);const N3=["addListener","removeListener"],P3=["addEventListener","removeEventListener"],F3=["on","off"];function wg(n,e,t,i){if((0,Bi.m)(t)&&(i=t,t=void 0),i)return wg(n,e,t).pipe(qs(i));const[r,a]=function B3(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?P3.map(l=>f=>n[l](e,f,t)):function L3(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?N3.map(FN(n,e)):function V3(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?F3.map(FN(n,e)):[];if(!r&&(0,O3.z)(n))return(0,di.z)(l=>wg(l,e,t))((0,qo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ri.y(l=>{const f=(...g)=>l.next(1<g.length?g:g[0]);return r(f),()=>a(f)})}function FN(n,e){return t=>i=>n[t](e,i)}var LN=F(1954);const lE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=lE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Ra.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=lE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var VN=F(2631);new class j3 extends VN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class U3 extends LN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(lE.cancelAnimationFrame(t),e._scheduled=void 0)}});let xk,H3=1;const $D={};function BN(n){return n in $D&&(delete $D[n],!0)}const $3={setImmediate(n){const e=H3++;return $D[e]=!0,xk||(xk=Promise.resolve()),xk.then(()=>BN(e)&&n()),e},clearImmediate(n){BN(n)}},{setImmediate:G3,clearImmediate:q3}=$3,GD={setImmediate(...n){const{delegate:e}=GD;return(e?.setImmediate||G3)(...n)},clearImmediate(n){const{delegate:e}=GD;return(e?.clearImmediate||q3)(n)},delegate:void 0};new class Z3 extends VN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class W3 extends LN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=GD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(GD.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var Q3=F(671);function UN(n=0,e,t=x_.P){let i=-1;return null!=e&&((0,Q3.K)(e)?t=e:i=e),new ri.y(r=>{let a=function X3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function jN(n,e=x_.z){return function Y3(n){return(0,ji.e)((e,t)=>{let i=!1,r=null,a=null,l=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}l&&t.complete()},g=()=>{a=null,l&&t.complete()};e.subscribe((0,Ui.x)(t,v=>{i=!0,r=v,a||(0,qo.Xf)(n(v)).subscribe(a=(0,Ui.x)(t,f,g))},()=>{l=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>UN(n,e))}let Ik=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new gn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ri.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(jN(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,rt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Dn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=vg(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(No),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uE=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new gn.x,this._elementScrolled=new ri.y(l=>this.ngZone.runOutsideAngular(()=>wg(this.elementRef.nativeElement,"scroll").pipe(Ps(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=oE()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==oE()?t.left=t.right:1==oE()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function FB(){if(null==yg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yg=!1,yg;if("scrollBehavior"in document.documentElement.style)yg=!0;else{const n=Element.prototype.scrollTo;yg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yg}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==oE()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==oE()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Ik),d.Y36(d.R0b),d.Y36(pN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),tj=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new gn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.R0b),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class HN{}class nj{}const ah="*";function ij(n,e){return{type:7,name:n,definitions:e,options:{}}}function $N(n,e=null){return{type:4,styles:e,timings:n}}function GN(n,e=null){return{type:2,steps:n,options:e}}function qD(n){return{type:6,styles:n,offset:null}}function qN(n,e,t){return{type:0,name:n,styles:e,options:t}}function WN(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class dE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ZN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++i==a&&this._onDestroy()}),l.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const WD=["*"],rj=["content"];function oj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function sj(n,e){1&n&&(d.TgZ(0,"mat-drawer-content"),d.Hsn(1,2),d.qZA())}const aj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cj=["mat-drawer","mat-drawer-content","*"];function lj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function uj(n,e){1&n&&(d.TgZ(0,"mat-sidenav-content"),d.Hsn(1,2),d.qZA())}const dj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],hj=["mat-sidenav","mat-sidenav-content","*"],KN={transformDrawer:ij("transform",[qN("open, open-instant",qD({transform:"none",visibility:"visible"})),qN("void",qD({"box-shadow":"none",visibility:"hidden"})),WN("void => open-instant",$N("0ms")),WN("void <=> open, open-instant => void",$N("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mj=new d.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function pj(){return!1}}),Dk=new d.OlP("MAT_DRAWER_CONTAINER");let ZD=(()=>{class n extends uE{constructor(t,i,r,a,l){super(r,a,l),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>QN)),d.Y36(d.SBq),d.Y36(Ik),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:uE,useExisting:n}]),d.qOj],ngContentSelectors:WD,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),YN=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=pr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=pr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(pr(t))}constructor(t,i,r,a,l,f,g,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=l,this._interactivityChecker=f,this._doc=g,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new gn.x,this._animationEnd=new gn.x,this._animationState="void",this.openedChange=new d.vpe(!0),this._openedStream=this.openedChange.pipe(Dn(C=>C),(0,st.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Dn(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),Ks(void 0)),this._closedStream=this.openedChange.pipe(Dn(C=>!C),(0,st.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Dn(C=>C.fromState!==C.toState&&"void"===C.toState),Ks(void 0)),this._destroyed=new gn.x,this.onPositionChanged=new d.vpe,this._modeChanged=new gn.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{wg(this._elementRef.nativeElement,"keydown").pipe(Dn(C=>27===C.keyCode&&!this.disableClose&&!function _k(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(C)),Ps(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe((0,Zv.x)((C,A)=>C.fromState===A.fromState&&C.toState===A.toState)).subscribe(C=>{const{fromState:A,toState:U}=C;(0===U.indexOf("open")&&"void"===A||"void"===U&&0===A.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(Qn(1)).subscribe(l=>a(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(TU),d.Y36(hN),d.Y36(No),d.Y36(d.R0b),d.Y36(sN),d.Y36(ce,8),d.Y36(Dk,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&d.Gf(rj,5),2&t){let r;d.iGM(r=d.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&d.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(d.uIk("align",null),d.d8E("@transform",i._animationState),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:WD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[uE],encapsulation:2,data:{animation:[KN.transformDrawer]},changeDetection:0}),n})(),QN=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=pr(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:pr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,a,l,f=!1,g){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=g,this._drawers=new d.n_E,this.backdropClick=new d.vpe,this._destroyed=new gn.x,this._doCheckSubject=new gn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new gn.x,t&&t.change.pipe(Ps(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Ps(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}ngAfterContentInit(){this._allDrawers.changes.pipe($r(this._allDrawers),Ps(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe($r(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(sE(10),Ps(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Dn(i=>i.fromState!==i.toState),Ps(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ps(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ps(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Qn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ps((0,tE.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(pN,8),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(tj),d.Y36(mj),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,ZD,5),d.Suo(r,YN,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._content=a.first),d.iGM(a=d.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&d.Gf(ZD,5),2&t){let r;d.iGM(r=d.CRH())&&(i._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[d._Bn([{provide:Dk,useExisting:n}])],ngContentSelectors:cj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(aj),d.YNc(0,oj,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,sj,2,0,"mat-drawer-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[fs,ZD],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Tk=(()=>{class n extends ZD{constructor(t,i,r,a,l){super(t,i,r,a,l)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>JN)),d.Y36(d.SBq),d.Y36(Ik),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:uE,useExisting:n}]),d.qOj],ngContentSelectors:WD,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),XN=(()=>{class n extends YN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=pr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=jD(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=jD(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(d.uIk("align",null),d.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[d.qOj],ngContentSelectors:WD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[uE],encapsulation:2,data:{animation:[KN.transformDrawer]},changeDetection:0}),n})(),JN=(()=>{class n extends QN{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,Tk,5),d.Suo(r,XN,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._content=a.first),d.iGM(a=d.CRH())&&(i._allDrawers=a)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[d._Bn([{provide:Dk,useExisting:n}]),d.qOj],ngContentSelectors:hj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(dj),d.YNc(0,lj,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,uj,2,0,"mat-sidenav-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[fs,Tk],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Sr,Po,zN,zN,Po]}),n})();class Sk{}class ch{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ch?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ch;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ch?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(a=>a.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _j{encodeKey(e){return tP(e)}encodeValue(e){return tP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vj=/%(\d[a-f0-9])/gi,bj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tP(n){return encodeURIComponent(n).replace(vj,(e,t)=>bj[t]??e)}function KD(n){return`${n}`}class em{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _j,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[l,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],g=t.get(l)||[];g.push(f),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(KD):[KD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new em({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(KD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(KD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iP(n){return typeof Blob<"u"&&n instanceof Blob}function rP(n){return typeof FormData<"u"&&n instanceof FormData}class hE{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ej(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ch),this.context||(this.context=new wj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new em,this.urlWithParams=t}serializeBody(){return null===this.body?null:nP(this.body)||iP(this.body)||rP(this.body)||function xj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof em?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rP(this.body)?null:iP(this.body)?this.body.type||null:nP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof em?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((A,U)=>A.set(U,e.setHeaders[U]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,U)=>A.set(U,e.setParams[U]),v)),new hE(t,i,a,{params:v,headers:g,context:C,reportProgress:f,responseType:r,withCredentials:l})}}var Mk=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mk||{});class Ij{constructor(e,t=200,i="OK"){this.headers=e.headers||new ch,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fE extends Ij{constructor(e={}){super(e),this.type=Mk.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function kk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rk=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof hE)a=t;else{let g,v;g=r.headers instanceof ch?r.headers:new ch(r.headers),r.params&&(v=r.params instanceof em?r.params:new em({fromObject:r.params})),a=new hE(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,rt.of)(a).pipe(Er(g=>this.handler.handle(g)));if(t instanceof hE||"events"===r.observe)return l;const f=l.pipe(Dn(g=>g instanceof fE));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,st.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,st.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,st.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,st.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new em).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,kk(r,i))}post(t,i,r={}){return this.request("POST",t,kk(r,i))}put(t,i,r={}){return this.request("PUT",t,kk(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $j=["*"];let XD;function mE(n){return function Gj(){if(void 0===XD&&(XD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return XD}()?.createHTML(n)||n}function mP(n){return Error(`Unable to find icon with the name "${n}"`)}function pP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function gP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let JD=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new xg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw gP(r);const f=mE(l);return this._addSvgIconConfig(t,i,new xg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new xg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(d.q3G.HTML,i);if(!a)throw gP(i);const l=mE(a);return this._addSvgIconSetConfig(t,new xg("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw pP(t);const r=this._cachedIconsByUrl.get(i);return r?(0,rt.of)(eT(r)):this._loadSvgIconFromConfig(new xg(t,null)).pipe((0,Tn.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,st.U)(a=>eT(a)))}getNamedSvgIcon(t,i=""){const r=_P(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Wo(mP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,rt.of)(eT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,st.U)(i=>eT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,rt.of)(r):function eP(...n){const e=(0,Hr.jO)(n),{args:t,keys:i}=Ma(n),r=new ri.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let g=l,v=l;for(let C=0;C<l;C++){let A=!1;(0,qo.Xf)(t[C]).subscribe((0,Ui.x)(a,U=>{A||(A=!0,v--),f[C]=U},()=>g--,void 0,()=>{(!g||!A)&&(v||a.next(i?Ws(i,f):f),a.complete())}))}});return e?r.pipe(qs(e)):r}(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(zi(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),(0,rt.of)(null)})))).pipe((0,st.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw mP(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(l,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Tn.b)(i=>t.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,rt.of)(null):this._fetchIcon(t).pipe((0,Tn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const f=this._svgElementFromString(mE("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(mE("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:l,value:f}=r[a];"id"!==l&&i.setAttribute(l,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function qj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!l)throw pP(i);const f=this._inProgressUrlFetches.get(l);if(f)return f;const g=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,st.U)(v=>mE(v)),Na(()=>this._inProgressUrlFetches.delete(l)),(0,uO.B)());return this._inProgressUrlFetches.set(l,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(_P(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Zj(a)?new xg(a.url,null,a.options):new xg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rk,8),d.LFG(Aa),d.LFG(ce,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eT(n){return n.cloneNode(!0)}function _P(n,e){return n+":"+e}function Zj(n){return!(!n.url||!n.options)}const Kj=bk(class{constructor(n){this._elementRef=n}}),Yj=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),Qj=new d.OlP("mat-icon-location",{providedIn:"root",factory:function Xj(){const n=(0,d.f3M)(ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),yP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jj=yP.map(n=>`[${n}]`).join(", "),ez=/^url\(['"]?#(.*?)['"]?\)$/;let tz=(()=>{class n extends Kj{get inline(){return this._inline}set inline(t){this._inline=pr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,a,l,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ra.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(l=>{a.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Jj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)yP.forEach(l=>{const f=i[a],g=f.getAttribute(l),v=g?g.match(ez):null;if(v){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(JD),d.$8M("aria-hidden"),d.Y36(Qj),d.Y36(d.qLn),d.Y36(Yj,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:$j,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})(),vP=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iz=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=vg(t);return new ri.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new gn.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=jD(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(sE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(iz),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),rz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vP]}),n})(),oz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})();const CF=["*"],TF=["unscopedContent"],r4=["text"],o4=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],s4=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],SF=new d.OlP("ListOption");let AF=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),MF=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),I4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),kF=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(SF,8))},n.\u0275dir=d.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),C4=(()=>{class n extends kF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[d.qOj]}),n})(),D4=(()=>{class n extends kF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[d.qOj]}),n})();const T4=new d.OlP("MAT_LIST_CONFIG");let mv=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,d.f3M)(T4,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pr(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),tR=(()=>{class n{set lines(t){this._explicitLines=jD(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=pr(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=pr(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,a,l,f){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=a,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ra.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===f,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new hv(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,tE.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const a=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",a),r.classList.toggle("mdc-list-item__secondary-text",!a)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(mv,8),d.Y36(No),d.Y36(cE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,C4,4),d.Suo(r,D4,4)),2&t){let a;d.iGM(a=d.CRH())&&(i._avatars=a),d.iGM(a=d.CRH())&&(i._icons=a)}},hostVars:4,hostBindings:function(t,i){2&t&&(d.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),d.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),S4=(()=>{class n extends tR{get activated(){return this._activated}set activated(t){this._activated=pr(t)}constructor(t,i,r,a,l,f){super(t,i,r,a,l,f),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(mv,8),d.Y36(No),d.Y36(cE,8),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,MF,5),d.Suo(r,AF,5),d.Suo(r,I4,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._lines=a),d.iGM(a=d.CRH())&&(i._titles=a),d.iGM(a=d.CRH())&&(i._meta=a)}},viewQuery:function(t,i){if(1&t&&(d.Gf(TF,5),d.Gf(r4,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._unscopedContent=r.first),d.iGM(r=d.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(d.uIk("aria-current",i._getAriaCurrent()),d.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[d.qOj],ngContentSelectors:s4,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(d.F$t(o4),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.Hsn(3,2),d.TgZ(4,"span",1,2),d.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),d.Hsn(6,3),d.qZA()(),d.Hsn(7,4),d.Hsn(8,5),d._UZ(9,"div",3))},dependencies:[bP],encapsulation:2,changeDetection:0}),n})(),M4=(()=>{class n extends mv{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[d._Bn([{provide:mv,useExisting:n}]),d.qOj],ngContentSelectors:CF,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[rz,Sr,Po,IN,ZU,oz]}),n})();function P4(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",6),d.NdJ("click",function(){d.CHM(t),d.oxw();const r=d.MAs(2);return d.KtG(r.toggle())}),d.TgZ(1,"mat-icon",7),d._uU(2,"menu"),d.qZA()()}}const F4=["*"];let L4=(()=>{class n{constructor(){this.breakpointObserver=(0,d.f3M)(nN),this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,st.U)(t=>t.matches),zM())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:F4,decls:22,vars:14,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),d.ALo(3,"async"),d.ALo(4,"async"),d.ALo(5,"async"),d.TgZ(6,"mat-toolbar"),d._uU(7,"Menu"),d.qZA(),d.TgZ(8,"mat-nav-list")(9,"a",3),d._uU(10,"home"),d.qZA(),d.TgZ(11,"a",3),d._uU(12,"page2"),d.qZA(),d.TgZ(13,"a",3),d._uU(14,"page3"),d.qZA()()(),d.TgZ(15,"mat-sidenav-content")(16,"mat-toolbar",4),d.YNc(17,P4,3,0,"button",5),d.ALo(18,"async"),d.TgZ(19,"span"),d._uU(20,"Chanathip Juruthaib"),d.qZA()(),d.Hsn(21),d.qZA()()),2&t&&(d.xp6(1),d.Q6J("mode",d.lcZ(4,8,i.isHandset$)?"over":"side")("opened",!1===d.lcZ(5,10,i.isHandset$)),d.uIk("role",d.lcZ(3,6,i.isHandset$)?"dialog":"navigation"),d.xp6(10),d.Q6J("routerLink","/page2"),d.xp6(2),d.Q6J("routerLink","/page3"),d.xp6(4),d.Q6J("ngIf",d.lcZ(18,12,i.isHandset$)))},dependencies:[fs,g_,k3,c3,XN,JN,Tk,tz,M4,S4,Jc],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})(),V4=(()=>{class n{constructor(){this.title="wed_firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&(d.TgZ(0,"app-menu"),d._UZ(1,"router-outlet"),d.qZA())},dependencies:[kv,L4]}),n})();const om=new ri.y(yk.Z),U4={connector:()=>new gn.x};function OF(n,e=U4){const{connector:t}=e;return(0,ji.e)((i,r)=>{const a=t();(0,qo.Xf)(n(function B4(n){return new ri.y(e=>n.subscribe(e))}(a))).subscribe(r),r.add(i.subscribe(a))})}function NF(n,e){return e?t=>wr(e.pipe(Qn(1),function H4(){return(0,ji.e)((n,e)=>{n.subscribe((0,Ui.x)(e,yk.Z))})}()),t.pipe(NF(n))):(0,di.z)((t,i)=>(0,qo.Xf)(n(t,i)).pipe(Qn(1),Ks(t)))}const bE="Service workers are disabled or not supported by this browser";class uT{constructor(e){if(this.serviceWorker=e,e){const i=wg(e,"controllerchange").pipe((0,st.U)(()=>e.controller)),a=wr(Hu(()=>(0,rt.of)(e.controller)),i);this.worker=a.pipe(Dn(C=>!!C)),this.registration=this.worker.pipe((0,Fn.w)(()=>e.getRegistration()));const v=wg(e,"message").pipe((0,st.U)(C=>C.data)).pipe(Dn(C=>C&&C.type)).pipe(function z4(n){return n?e=>OF(n)(e):e=>function j4(n,e){const t=(0,Bi.m)(n)?n:()=>n;return(0,Bi.m)(e)?OF(e,{connector:t}):i=>new Zo(i,t)}(new gn.x)(e)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function G4(n){return Hu(()=>Wo(new Error(n)))}(bE)}postMessage(e,t){return this.worker.pipe(Qn(1),(0,Tn.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),a=this.postMessage(e,t);return Promise.all([a,r]).then(([,l])=>l)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Dn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Qn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Dn(t=>t.nonce===e),Qn(1),(0,st.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let PF=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new gn.x,!t.isEnabled)return this.messages=om,this.notificationClicks=om,void(this.subscription=om);this.messages=this.sw.eventsOfType("PUSH").pipe((0,st.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,st.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,st.U)(r=>r.pushManager));const i=this.pushManager.pipe((0,Fn.w)(r=>r.getSubscription()));this.subscription=(0,tE.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(bE));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return i.applicationServerKey=a,this.pushManager.pipe((0,Fn.w)(l=>l.subscribe(i)),Qn(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qn(1),(0,Fn.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(bE))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uT))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),FF=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=om,this.available=om,this.activated=om,void(this.unrecoverable=om);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Dn(i=>"VERSION_READY"===i.type),(0,st.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uT))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const LF=new d.OlP("NGSW_REGISTER_SCRIPT");function q4(n,e,t,i){return()=>{if(!ba(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[l,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":r=(0,rt.of)(null);break;case"registerWithDelay":r=VF(+f[0]||0);break;case"registerWhenStable":r=f[0]?(0,tE.T)(BF(n),VF(+f[0])):BF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(d.R0b).runOutsideAngular(()=>r.pipe(Qn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function VF(n){return(0,rt.of)(null).pipe(function $4(n,e=x_.z){const t=UN(n,e);return NF(()=>t)}(n))}function BF(n){return n.get(d.z2F).isStable.pipe(Dn(t=>t))}function W4(n,e){return new uT(ba(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class nR{}function Z4(n,e={}){return(0,d.MR2)([PF,FF,{provide:LF,useValue:n},{provide:nR,useValue:e},{provide:uT,useFactory:W4,deps:[nR,d.Lbi]},{provide:d.ip1,useFactory:q4,deps:[d.zs3,LF,nR,d.Lbi],multi:!0}])}let K4=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[Z4(t,i)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[PF,FF]}),n})();function UF(n){return new d.vHH(3e3,!1)}function sm(n){switch(n.length){case 0:return new dE;case 1:return n[0];default:return new ZN(n)}}function jF(n,e,t=new Map,i=new Map){const r=[],a=[];let l=-1,f=null;if(e.forEach(g=>{const v=g.get("offset"),C=v==l,A=C&&f||new Map;g.forEach((U,$)=>{let Z=$,ne=U;if("offset"!==$)switch(Z=n.normalizePropertyName(Z,r),ne){case"!":ne=t.get($);break;case ah:ne=i.get($);break;default:ne=n.normalizeStyleValue($,Z,ne,r)}A.set(Z,ne)}),C||a.push(A),f=A,l=v}),r.length)throw function yH(n){return new d.vHH(3502,!1)}();return a}function iR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&rR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&rR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&rR(t,"destroy",n)))}}function rR(n,e,t){const a=oR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function oR(n,e,t,i,r="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!l}}function da(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const MH=(()=>typeof document>"u"?null:document.documentElement)();function sR(n){const e=n.parentNode||n.host||null;return e===MH?null:e}let Dg=null,HF=!1;function $F(n,e){for(;e;){if(e===n)return!0;e=sR(e)}return!1}function GF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let qF=(()=>{class n{validateStyleProperty(t){return function RH(n){Dg||(Dg=function OH(){return typeof document<"u"?document.body:null}()||{},HF=!!Dg.style&&"WebkitAppearance"in Dg.style);let e=!0;return Dg.style&&!function kH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Dg.style,!e&&HF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return $F(t,i)}getParentElement(t){return sR(t)}query(t,i,r){return GF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,l,f=[],g){return new dE(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),aR=(()=>{class n{}return n.NOOP=new qF,n})();const NH=1e3,cR="ng-enter",dT="ng-leave",hT="ng-trigger",fT=".ng-trigger",ZF="ng-animating",lR=".ng-animating";function lh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uR(parseFloat(e[1]),e[2])}function uR(n,e){return"s"===e?n*NH:n}function mT(n,e,t){return n.hasOwnProperty("duration")?n:function FH(n,e,t){let r,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(UF()),{duration:0,delay:0,easing:""};r=uR(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=uR(parseFloat(g),f[4]));const v=f[5];v&&(l=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function Y4(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Q4(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,UF())}return{duration:r,delay:a,easing:l}}(n,e,t)}function wE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function KF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function am(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ou(n,e,t){e.forEach((i,r)=>{const a=hR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i})}function Tg(n,e){e.forEach((t,i)=>{const r=hR(i);n.style[r]=""})}function EE(n){return Array.isArray(n)?1==n.length?n[0]:GN(n):n}const dR=new RegExp("{{\\s*(.+?)\\s*}}","g");function QF(n){let e=[];if("string"==typeof n){let t;for(;t=dR.exec(n);)e.push(t[1]);dR.lastIndex=0}return e}function xE(n,e,t){const i=n.toString(),r=i.replace(dR,(a,l)=>{let f=e[l];return null==f&&(t.push(function J4(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function pT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BH=/-+([a-z0-9])/g;function hR(n){return n.replace(BH,(...e)=>e[1].toUpperCase())}function ha(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function eH(n){return new d.vHH(3004,!1)}()}}function XF(n,e){return window.getComputedStyle(n)[e]}const gT="*";function zH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function HH(n,e,t){if(":"==n[0]){const g=function $H(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function mH(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function fH(n){return new d.vHH(3015,!1)}()),e;const r=i[1],a=i[2],l=i[3];e.push(JF(r,l));"<"==a[0]&&!(r==gT&&l==gT)&&e.push(JF(l,r))}(i,t,e)):t.push(n),t}const _T=new Set(["true","1"]),yT=new Set(["false","0"]);function JF(n,e){const t=_T.has(n)||yT.has(n),i=_T.has(e)||yT.has(e);return(r,a)=>{let l=n==gT||n==r,f=e==gT||e==a;return!l&&t&&"boolean"==typeof r&&(l=r?_T.has(n):yT.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?_T.has(e):yT.has(e)),l&&f}}const GH=new RegExp("s*:selfs*,?","g");function fR(n,e,t,i){return new qH(n).build(e,t,i)}class qH{constructor(e){this._driver=e}build(e,t,i){const r=new KH(t);return this._resetContextStyleTimingState(r),ha(this,EE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function nH(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,l.push(g)}else t.errors.push(function iH(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{QF(g).forEach(v=>{l.hasOwnProperty(v)||a.add(v)})})}),a.size&&(pT(a.values()),t.errors.push(function rH(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ha(this,EE(e.animation),t);return{type:1,matchers:zH(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Sg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ha(this,i,t)),options:Sg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(l=>{t.currentTime=i;const f=ha(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Sg(e.options)}}visitAnimate(e,t){const i=function QH(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mR(mT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=mR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=mT(t,e);return mR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:qD({});if(5==a.type)r=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};i.easing&&(v.easing=i.easing),l=qD(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ah?i.push(f):t.errors.push(new d.vHH(3002,!1)):i.push(KF(f));let a=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let g of f.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(g);let A=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(t.errors.push(function sH(n,e,t,i,r){return new d.vHH(3010,!1)}()),A=!1),a=C.startTime),A&&v.set(g,{startTime:a,endTime:r}),t.options&&function VH(n,e,t){const i=e.params||{},r=QF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function X4(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function aH(){return new d.vHH(3011,!1)}()),i;let a=0;const l=[];let f=!1,g=!1,v=0;const C=e.steps.map(je=>{const Ke=this._makeStyleAst(je,t);let $e=null!=Ke.offset?Ke.offset:function YH(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),Ge=0;return null!=$e&&(a++,Ge=Ke.offset=$e),g=g||Ge<0||Ge>1,f=f||Ge<v,v=Ge,l.push(Ge),Ke});g&&t.errors.push(function cH(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function lH(){return new d.vHH(3200,!1)}());const A=e.steps.length;let U=0;a>0&&a<A?t.errors.push(function uH(){return new d.vHH(3202,!1)}()):0==a&&(U=1/(A-1));const $=A-1,Z=t.currentTime,ne=t.currentAnimateTimings,fe=ne.duration;return C.forEach((je,Ke)=>{const $e=U>0?Ke==$?1:U*Ke:l[Ke],Ge=$e*fe;t.currentTime=Z+ne.delay+Ge,ne.duration=Ge,this._validateStyleAst(je,t),je.offset=$e,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:ha(this,EE(e.animation),t),options:Sg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function WH(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GH,"")),n=n.replace(/@\*/g,fT).replace(/@\w+/g,t=>fT+"-"+t.slice(1)).replace(/:animating/g,lR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,da(t.collectedStyles,t.currentQuerySelector,new Map);const f=ha(this,EE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Sg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function dH(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:mT(e.timings,t.errors,!0);return{type:12,animation:ha(this,EE(e.animation),t),timings:i,options:null}}}class KH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sg(n){return n?(n=wE(n)).params&&(n.params=function ZH(n){return n?wE(n):null}(n.params)):n={},n}function mR(n,e,t){return{duration:n,delay:e,easing:t}}function pR(n,e,t,i,r,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:l,subTimeline:f}}class vT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const e$=new RegExp(":enter","g"),n$=new RegExp(":leave","g");function gR(n,e,t,i,r,a=new Map,l=new Map,f,g,v=[]){return(new i$).buildKeyframes(n,e,t,i,r,a,l,f,g,v)}class i${buildKeyframes(e,t,i,r,a,l,f,g,v,C=[]){v=v||new vT;const A=new _R(e,t,v,r,a,C,[]);A.options=g;const U=g.delay?lh(g.delay):0;A.currentTimeline.delayNextStep(U),A.currentTimeline.setStyles([l],null,A.errors,g),ha(this,i,A);const $=A.timelines.filter(Z=>Z.containsAnimation());if($.length&&f.size){let Z;for(let ne=$.length-1;ne>=0;ne--){const fe=$[ne];if(fe.element===t){Z=fe;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,A.errors,g)}return $.length?$.map(Z=>Z.buildKeyframes()):[pR(t,[],[],[],0,U,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const l="number"==typeof a?a:lh(xE(a,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const l=null!=i.duration?lh(i.duration):null,f=null!=i.delay?lh(i.delay):null;return 0!==l&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,l,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ha(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bT);const l=lh(a.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ha(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?lh(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ha(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return mT(t.params?xE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?lh(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bT);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const A=t.createSubContext(e.options,v);a&&A.delayNextStep(a),v===t.element&&(g=A.currentTimeline),ha(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const A=C.currentTime;ha(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const bT={};class _R{constructor(e,t,i,r,a,l,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new wT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=lh(i.duration)),null!=i.delay&&(r.delay=lh(i.delay));const a=i.params;if(a){let l=r.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=xE(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new _R(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=bT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new r$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(e$,"."+this._enterClassName)).replace(n$,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&l.push(function hH(n){return new d.vHH(3014,!1)}()),f}}class wT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ah),this._currentKeyframe.set(t,ah);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},l=function o$(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,ah)}else am(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of l){const v=xE(g,a,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ah),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=am(f,new Map,this._backFill);v.forEach((C,A)=>{"!"===C?e.add(A):C===ah&&t.add(A)}),i||v.set("offset",g/this.duration),r.push(v)});const a=e.size?pT(e.values()):[],l=t.size?pT(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return pR(this.element,r,a,l,this.duration,this.startTime,this.easing,!1)}}class r$ extends wT{constructor(e,t,i,r,a,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=i+t,f=t/l,g=am(e[0]);g.set("offset",0),a.push(g);const v=am(e[0]);v.set("offset",nL(f)),a.push(v);const C=e.length-1;for(let A=1;A<=C;A++){let U=am(e[A]);const $=U.get("offset");U.set("offset",nL((t+$*i)/l)),a.push(U)}i=l,t=0,r="",e=a}return pR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function nL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yR{}const s$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class a$ extends yR{normalizePropertyName(e,t){return hR(e)}normalizeStyleValue(e,t,i,r){let a="";const l=i.toString().trim();if(s$.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function tH(n,e){return new d.vHH(3005,!1)}())}return l+a}}function iL(n,e,t,i,r,a,l,f,g,v,C,A,U){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:l,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:C,totalTime:A,errors:U}}const vR={};class rL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function c$(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,l,f,g,v,C){const A=[],U=this.ast.options&&this.ast.options.params||vR,Z=this.buildStyles(i,f&&f.params||vR,A),ne=g&&g.params||vR,fe=this.buildStyles(r,ne,A),je=new Set,Ke=new Map,$e=new Map,Ge="void"===r,Ct={params:l$(ne,U),delay:this.ast.options?.delay},St=C?[]:gR(e,t,this.ast.animation,a,l,Z,fe,Ct,v,A);let fn=0;if(St.forEach(Vo=>{fn=Math.max(Vo.duration+Vo.delay,fn)}),A.length)return iL(t,this._triggerName,i,r,Ge,Z,fe,[],[],Ke,$e,fn,A);St.forEach(Vo=>{const hh=Vo.element,u2=da(Ke,hh,new Set);Vo.preStyleProps.forEach(Mg=>u2.add(Mg));const AE=da($e,hh,new Set);Vo.postStyleProps.forEach(Mg=>AE.add(Mg)),hh!==t&&je.add(hh)});const Ri=pT(je.values());return iL(t,this._triggerName,i,r,Ge,Z,fe,St,Ri,Ke,$e,fn)}}function l$(n,e){const t=wE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class u${constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=wE(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(r[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=xE(l,r,t));const g=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,g,l,t),i.set(f,l)})}),i}}class h${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new u$(r.style,r.options&&r.options.params||{},i))}),oL(this.states,"true","1"),oL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new rL(e,r,this.states))}),this.fallbackTransition=function f$(n,e,t){return new rL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function oL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const m$=new vT;class p${constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=fR(this._driver,t,i,[]);if(i.length)throw function vH(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=jF(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=gR(this._driver,t,a,cR,dT,new Map,new Map,i,m$,r),l.forEach(C=>{const A=da(f,C.element,new Map);C.postStyleProps.forEach(U=>A.set(U,null))})):(r.push(function bH(){return new d.vHH(3300,!1)}()),l=[]),r.length)throw function wH(n){return new d.vHH(3504,!1)}();f.forEach((C,A)=>{C.forEach((U,$)=>{C.set($,this._driver.computeStyle(A,$,ah))})});const v=sm(l.map(C=>{const A=f.get(C.element);return this._buildPlayer(C,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function EH(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=oR(t,"","","");return iR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const sL="ng-animate-queued",bR="ng-animate-disabled",b$=[],aL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},w$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kc="__ng_removed";class wR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function C$(n){return n??null}(i?e.value:e),i){const a=wE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const IE="void",ER=new wR(IE);class E${constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ja(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function xH(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function IH(n){return new d.vHH(3303,!1)}();if(!function D$(n){return"start"==n||"done"==n}(i))throw function CH(n,e){return new d.vHH(3400,!1)}();const a=da(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};a.push(l);const f=da(this._engine.statesByElement,e,new Map);return f.has(t)||(Ja(e,hT),Ja(e,hT+"-"+t),f.set(t,ER)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(l);g>=0&&a.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function DH(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),l=new xR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ja(e,hT),Ja(e,hT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new wR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=ER),v.value!==IE&&g.value===v.value){if(!function A$(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const ne=[],fe=a.matchStyles(g.value,g.params,ne),je=a.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Tg(e,fe),ou(e,je)})}return}const U=da(this._engine.playersByElement,e,[]);U.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let $=a.matchTransition(g.value,v.value,e,v.params),Z=!1;if(!$){if(!r)return;$=a.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:g,toState:v,player:l,isFallbackTransition:Z}),Z||(Ja(e,sL),l.onStart(()=>{pv(e,sL)})),l.onDone(()=>{let ne=this.players.indexOf(l);ne>=0&&this.players.splice(ne,1);const fe=this._engine.playersByElement.get(e);if(fe){let je=fe.indexOf(l);je>=0&&fe.splice(je,1)}}),this.players.push(l),U.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,fT,!0);i.forEach(r=>{if(r[Kc])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((g,v)=>{if(l.set(v,g.value),this._triggers.has(v)){const C=this.trigger(e,v,IE,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&sm(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const l=a.name;if(r.has(l))return;r.add(l);const g=this._triggers.get(l).fallbackTransition,v=i.get(l)||ER,C=new wR(IE),A=new xR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:v,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Kc];(!a||a===aL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==i.triggerName){const g=oR(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,iR(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class x${_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new E$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(ET(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ET(t))return;const a=t[Kc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ja(e,bR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pv(e,bR))}removeNode(e,t,i){if(ET(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Kc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return ET(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,fT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Kc];if(t&&t.setForRemoval){if(e[Kc]=aL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ja(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function TH(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new vT,r=[],a=new Map,l=[],f=new Map,g=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(wt=>{C.add(wt);const Nt=this.driver.query(wt,".ng-animate-queued",!0);for(let Gt=0;Gt<Nt.length;Gt++)C.add(Nt[Gt])});const A=this.bodyNode,U=Array.from(this.statesByElement.keys()),$=uL(U,this.collectedEnterElements),Z=new Map;let ne=0;$.forEach((wt,Nt)=>{const Gt=cR+ne++;Z.set(Nt,Gt),wt.forEach(Sn=>Ja(Sn,Gt))});const fe=[],je=new Set,Ke=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Nt=this.collectedLeaveElements[wt],Gt=Nt[Kc];Gt&&Gt.setForRemoval&&(fe.push(Nt),je.add(Nt),Gt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Sn=>je.add(Sn)):Ke.add(Nt))}const $e=new Map,Ge=uL(U,Array.from(je));Ge.forEach((wt,Nt)=>{const Gt=dT+ne++;$e.set(Nt,Gt),wt.forEach(Sn=>Ja(Sn,Gt))}),e.push(()=>{$.forEach((wt,Nt)=>{const Gt=Z.get(Nt);wt.forEach(Sn=>pv(Sn,Gt))}),Ge.forEach((wt,Nt)=>{const Gt=$e.get(Nt);wt.forEach(Sn=>pv(Sn,Gt))}),fe.forEach(wt=>{this.processLeaveNode(wt)})});const Ct=[],St=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Gt=>{const Sn=Gt.player,Jr=Gt.element;if(Ct.push(Sn),this.collectedEnterElements.length){const Bo=Jr[Kc];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(Gt.triggerName)){const kg=Bo.previousTriggersValues.get(Gt.triggerName),ec=this.statesByElement.get(Gt.element);if(ec&&ec.has(Gt.triggerName)){const RT=ec.get(Gt.triggerName);RT.value=kg,ec.set(Gt.triggerName,RT)}}return void Sn.destroy()}}const lu=!A||!this.driver.containsElement(A,Jr),ma=$e.get(Jr),cm=Z.get(Jr),Gi=this._buildInstruction(Gt,i,cm,ma,lu);if(Gi.errors&&Gi.errors.length)return void St.push(Gi);if(lu)return Sn.onStart(()=>Tg(Jr,Gi.fromStyles)),Sn.onDestroy(()=>ou(Jr,Gi.toStyles)),void r.push(Sn);if(Gt.isFallbackTransition)return Sn.onStart(()=>Tg(Jr,Gi.fromStyles)),Sn.onDestroy(()=>ou(Jr,Gi.toStyles)),void r.push(Sn);const f2=[];Gi.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||f2.push(Bo)}),Gi.timelines=f2,i.append(Jr,Gi.timelines),l.push({instruction:Gi,player:Sn,element:Jr}),Gi.queriedElements.forEach(Bo=>da(f,Bo,[]).push(Sn)),Gi.preStyleProps.forEach((Bo,kg)=>{if(Bo.size){let ec=g.get(kg);ec||g.set(kg,ec=new Set),Bo.forEach((RT,GR)=>ec.add(GR))}}),Gi.postStyleProps.forEach((Bo,kg)=>{let ec=v.get(kg);ec||v.set(kg,ec=new Set),Bo.forEach((RT,GR)=>ec.add(GR))})});if(St.length){const wt=[];St.forEach(Nt=>{wt.push(function SH(n,e){return new d.vHH(3505,!1)}())}),Ct.forEach(Nt=>Nt.destroy()),this.reportError(wt)}const fn=new Map,Ri=new Map;l.forEach(wt=>{const Nt=wt.element;i.has(Nt)&&(Ri.set(Nt,Nt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,fn))}),r.forEach(wt=>{const Nt=wt.element;this._getPreviousPlayers(Nt,!1,wt.namespaceId,wt.triggerName,null).forEach(Sn=>{da(fn,Nt,[]).push(Sn),Sn.destroy()})});const Vo=fe.filter(wt=>hL(wt,g,v)),hh=new Map;lL(hh,this.driver,Ke,v,ah).forEach(wt=>{hL(wt,g,v)&&Vo.push(wt)});const AE=new Map;$.forEach((wt,Nt)=>{lL(AE,this.driver,new Set(wt),g,"!")}),Vo.forEach(wt=>{const Nt=hh.get(wt),Gt=AE.get(wt);hh.set(wt,new Map([...Nt?.entries()??[],...Gt?.entries()??[]]))});const Mg=[],d2=[],h2={};l.forEach(wt=>{const{element:Nt,player:Gt,instruction:Sn}=wt;if(i.has(Nt)){if(C.has(Nt))return Gt.onDestroy(()=>ou(Nt,Sn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(Sn.totalTime),void r.push(Gt);let Jr=h2;if(Ri.size>1){let ma=Nt;const cm=[];for(;ma=ma.parentNode;){const Gi=Ri.get(ma);if(Gi){Jr=Gi;break}cm.push(ma)}cm.forEach(Gi=>Ri.set(Gi,Jr))}const lu=this._buildAnimation(Gt.namespaceId,Sn,fn,a,AE,hh);if(Gt.setRealPlayer(lu),Jr===h2)Mg.push(Gt);else{const ma=this.playersByElement.get(Jr);ma&&ma.length&&(Gt.parentPlayer=sm(ma)),r.push(Gt)}}else Tg(Nt,Sn.fromStyles),Gt.onDestroy(()=>ou(Nt,Sn.toStyles)),d2.push(Gt),C.has(Nt)&&r.push(Gt)}),d2.forEach(wt=>{const Nt=a.get(wt.element);if(Nt&&Nt.length){const Gt=sm(Nt);wt.setRealPlayer(Gt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<fe.length;wt++){const Nt=fe[wt],Gt=Nt[Kc];if(pv(Nt,dT),Gt&&Gt.hasAnimation)continue;let Sn=[];if(f.size){let lu=f.get(Nt);lu&&lu.length&&Sn.push(...lu);let ma=this.driver.query(Nt,lR,!0);for(let cm=0;cm<ma.length;cm++){let Gi=f.get(ma[cm]);Gi&&Gi.length&&Sn.push(...Gi)}}const Jr=Sn.filter(lu=>!lu.destroyed);Jr.length?T$(this,Nt,Jr):this.processLeaveNode(Nt)}return fe.length=0,Mg.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Nt=this.players.indexOf(wt);this.players.splice(Nt,1)}),wt.play()}),Mg}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==IE;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,C=v!==a,A=da(i,v,[]);this._getPreviousPlayers(v,C,l,f,t.toState).forEach($=>{const Z=$.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),$.destroy(),A.push($)})}Tg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,l){const f=t.triggerName,g=t.element,v=[],C=new Set,A=new Set,U=t.timelines.map(Z=>{const ne=Z.element;C.add(ne);const fe=ne[Kc];if(fe&&fe.removedBeforeQueried)return new dE(Z.duration,Z.delay);const je=ne!==g,Ke=function S$(n){const e=[];return dL(n,e),e}((i.get(ne)||b$).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===ne),$e=a.get(ne),Ge=l.get(ne),Ct=jF(this._normalizer,Z.keyframes,$e,Ge),St=this._buildPlayer(Z,Ct,Ke);if(Z.subTimeline&&r&&A.add(ne),je){const fn=new xR(e,f,ne);fn.setRealPlayer(St),v.push(fn)}return St});v.forEach(Z=>{da(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function I$(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Z.element,Z))}),C.forEach(Z=>Ja(Z,ZF));const $=sm(U);return $.onDestroy(()=>{C.forEach(Z=>pv(Z,ZF)),ou(g,t.toStyles)}),A.forEach(Z=>{da(r,Z,[]).push($)}),$}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new dE(e.duration,e.delay)}}class xR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new dE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>iR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){da(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ET(n){return n&&1===n.nodeType}function cL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function lL(n,e,t,i,r){const a=[];t.forEach(g=>a.push(cL(g)));const l=[];i.forEach((g,v)=>{const C=new Map;g.forEach(A=>{const U=e.computeStyle(v,A,r);C.set(A,U),(!U||0==U.length)&&(v[Kc]=w$,l.push(v))}),n.set(v,C)});let f=0;return t.forEach(g=>cL(g,a[f++])),l}function uL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function l(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:l(v),a.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}function Ja(n,e){n.classList?.add(e)}function pv(n,e){n.classList?.remove(e)}function T$(n,e,t){sm(t).onDone(()=>n.processLeaveNode(e))}function dL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ZN?dL(i.players,e):e.push(i)}}function hL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class xT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new x$(e,t,i),this._timelineEngine=new p$(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const g=[],C=fR(this._driver,a,g,[]);if(g.length)throw function _H(n,e){return new d.vHH(3404,!1)}();f=function d$(n,e,t){return new h$(n,e,t)}(r,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,l]=zF(i);this._timelineEngine.command(a,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[l,f]=zF(i);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let k$=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ou(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ou(this._element,this._initialStyles),this._endStyles&&(ou(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Tg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tg(this._element,this._endStyles),this._endStyles=null),ou(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function IR(n){let e=null;return n.forEach((t,i)=>{(function R$(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class fL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:XF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class O${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $F(e,t)}getParentElement(e){return sR(e)}query(e,t,i){return GF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,l=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v=new Map,C=l.filter($=>$ instanceof fL);(function UH(n,e){return 0===n||0===e})(i,r)&&C.forEach($=>{$.currentSnapshot.forEach((Z,ne)=>v.set(ne,Z))});let A=function LH(n){return n.length?n[0]instanceof Map?n:n.map(e=>KF(e)):[]}(t).map($=>am($));A=function jH(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,l)=>{i.has(l)||r.push(l),i.set(l,a)}),r.length)for(let a=1;a<e.length;a++){let l=e[a];r.forEach(f=>l.set(f,XF(n,f)))}}return e}(e,A,v);const U=function M$(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=IR(e[0]),e.length>1&&(i=IR(e[e.length-1]))):e instanceof Map&&(t=IR(e)),t||i?new k$(n,t,i):null}(e,A);return new fL(e,A,g,U)}}let N$=(()=>{class n extends HN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?GN(t):t;return mL(this._renderer,null,i,"register",[r]),new P$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class P$ extends nj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new F$(this._id,e,t||{},this._renderer)}}class F${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return mL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const pL="@.disabled";let L$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new gL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(l,f,t,C.name,C)};return i.data.animation.forEach(g),new V$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(xT),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class gL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==pL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class V$ extends gL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function B$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function U$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let j$=(()=>{class n extends xT{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(aR),d.LFG(yR),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const _L=[{provide:HN,useClass:N$},{provide:yR,useFactory:function z$(){return new a$}},{provide:xT,useClass:j$},{provide:d.FYo,useFactory:function H$(n,e,t){return new L$(n,e,t)},deps:[zr,xT,d.R0b]}],CR=[{provide:aR,useFactory:()=>new O$},{provide:d.QbO,useValue:"BrowserAnimations"},..._L],yL=[{provide:aR,useClass:qF},{provide:d.QbO,useValue:"NoopAnimations"},..._L];let $$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?yL:CR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:CR,imports:[vl]}),n})();const vL_firebase={projectId:"project-65309010043",appId:"1:836773236469:web:38e45211fa62789b1f7fbc",storageBucket:"project-65309010043.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyDnkXyN2Cf7ayh_zgvB5HaN43S1iilX_84",authDomain:"project-65309010043.firebaseapp.com",messagingSenderId:"836773236469",measurementId:"G-P2ZNWKVKET"};F(6878);class TR{constructor(){return(0,sn.vb)("auth")}}class AR{constructor(e){return e}}const wL="firestore",MR=new d.OlP("angularfire2.firestore-instances");function Y$(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new AR(i)}}const Q$={provide:class Z${constructor(){return(0,sn.vb)(wL)}},deps:[[new d.FiY,MR]]},X$={provide:AR,useFactory:function K$(n,e){const t=(0,sn.JM)(wL,n,e);return t&&new AR(t)},deps:[[new d.FiY,MR],_g]};let J$=(()=>{class n{constructor(){(0,Jf.KN)("angularfire",sn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[X$,Q$]}),n})();function e6(n,...e){return{ngModule:J$,providers:[{provide:MR,useFactory:Y$(n),multi:!0,deps:[d.R0b,d.zs3,sn.HU,$M,[new d.FiY,TR],[new d.FiY,cv],...e]}]}}const t6=(0,sn.u3)(b2,!0),EL="firebasestorage.googleapis.com",xL="storageBucket";class $i extends zt.ZR{constructor(e,t,i=0){super(kR(e),`Firebase Storage: ${t} (${kR(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ki=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ki||{});function kR(n){return"storage/"+n}function RR(){return new $i(ki.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function IL(){return new $i(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CL(){return new $i(ki.CANCELED,"User canceled the upload/download.")}function DL(){return new $i(ki.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gv(n){return new $i(ki.INVALID_ARGUMENT,n)}function TL(){return new $i(ki.APP_DELETED,"The Firebase app was deleted.")}function SL(n){return new $i(ki.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function CE(n,e){return new $i(ki.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function DE(n){throw new $i(ki.INTERNAL_ERROR,"Internal error: "+n)}class Lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Lo.makeFromUrl(e,t)}catch{return new Lo(e,"")}if(""===i.path)return i;throw function d6(n){return new $i(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Ge){Ge.path_=decodeURIComponent(Ge.path)}const A=t.replace(/[.]/g,"\\."),$e=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===EL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ge=0;Ge<$e.length;Ge++){const Ct=$e[Ge],St=Ct.regex.exec(e);if(St){let Ri=St[Ct.indices.path];Ri||(Ri=""),i=new Lo(St[Ct.indices.bucket],Ri),Ct.postModify(i);break}}if(null==i)throw function u6(n){return new $i(ki.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class g6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function CT(n){return"string"==typeof n||n instanceof String}function AL(n){return OR()&&n instanceof Blob}function OR(){return typeof Blob<"u"&&!(0,zt.UG)()}function NR(n,e,t,i){if(i<e)throw gv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw gv(`Invalid value for '${n}'. Expected ${t} or less.`)}function uh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function ML(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var _v=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(_v||{});function kL(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||r||a}class E6{constructor(e,t,i,r,a,l,f,g,v,C,A,U=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=A,this.retry=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,Z)=>{this.resolve_=$,this.reject_=Z,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,l=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function v6(n){return void 0!==n}(g)?a():a(g)}catch(g){l(g)}else if(null!==f){const g=RR();g.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,g):g)}else l(r.canceled?this.appDelete_?TL():CL():IL())};this.canceled_?t(0,new DT(!1,null,!0)):this.backoffId_=function _6(n,e,t){let i=1,r=null,a=null,l=!1,f=0;function g(){return 2===f}let v=!1;function C(...fe){v||(v=!0,e.apply(null,fe))}function A(fe){r=setTimeout(()=>{r=null,n($,g())},fe)}function U(){a&&clearTimeout(a)}function $(fe,...je){if(v)return void U();if(fe)return U(),void C.call(null,fe,...je);if(g()||l)return U(),void C.call(null,fe,...je);let $e;i<64&&(i*=2),1===f?(f=2,$e=0):$e=1e3*(i+Math.random()),A($e)}let Z=!1;function ne(fe){Z||(Z=!0,U(),!v&&(null!==r?(fe||(f=2),clearTimeout(r),A(0)):fe||(f=1)))}return A(0),a=setTimeout(()=>{l=!0,ne(!0)},t),ne}((i,r)=>{if(r)return void i(!1,new DT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===_v.NO_ERROR,g=a.getStatus();if(!f||kL(g,this.additionalRetryCodes_)&&this.retry){const C=a.getErrorCode()===_v.ABORT;return void i(!1,new DT(!1,null,C))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new DT(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function y6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class DT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function A6(...n){const e=function S6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(OR())return new Blob(n);throw new $i(ki.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const fa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PR{constructor(e,t){this.data=e,this.contentType=t||null}}function FR(n,e){switch(n){case fa.RAW:return new PR(RL(e));case fa.BASE64:case fa.BASE64URL:return new PR(OL(n,e));case fa.DATA_URL:return new PR(function O6(n){const e=new NL(n);return e.base64?OL(fa.BASE64,e.rest):function R6(n){let e;try{e=decodeURIComponent(n)}catch{throw CE(fa.DATA_URL,"Malformed data URL.")}return RL(e)}(e.rest)}(e),function N6(n){return new NL(n).contentType}(e))}throw RR()}function RL(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function OL(n,e){switch(n){case fa.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw CE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case fa.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw CE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function k6(n){if(typeof atob>"u")throw function p6(n){return new $i(ki.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:CE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class NL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw CE(fa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function P6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class su{constructor(e,t){let i=0,r="";AL(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(AL(this.data_)){const r=function M6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new su(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new su(i,!0)}}static getBlob(...e){if(OR()){const t=e.map(i=>i instanceof su?i.data_:i);return new su(A6.apply(null,t))}{const t=e.map(l=>CT(l)?FR(fa.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)r[a++]=l[f]}),new su(r,!0)}}uploadData(){return this.data_}}function LR(n){let e;try{e=JSON.parse(n)}catch{return null}return function w6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function PL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function V6(n,e){return e}class ls{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||V6}}let TT=null;function TE(){if(TT)return TT;const n=[];n.push(new ls("bucket")),n.push(new ls("generation")),n.push(new ls("metageneration")),n.push(new ls("name","fullPath",!0));const t=new ls("name");t.xform=function e(a,l){return function B6(n){return!CT(n)||n.length<2?n:PL(n)}(l)},n.push(t);const r=new ls("size");return r.xform=function i(a,l){return void 0!==l?Number(l):l},n.push(r),n.push(new ls("timeCreated")),n.push(new ls("updated")),n.push(new ls("md5Hash",null,!0)),n.push(new ls("cacheControl",null,!0)),n.push(new ls("contentDisposition",null,!0)),n.push(new ls("contentEncoding",null,!0)),n.push(new ls("contentLanguage",null,!0)),n.push(new ls("contentType",null,!0)),n.push(new ls("metadata","customMetadata",!0)),TT=n,TT}function FL(n,e,t){const i=LR(e);return null===i?null:function j6(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const l=t[a];i[l.local]=l.xform(i,e[l.server])}return function U6(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Lo(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function VR(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const LL="prefixes",VL="items";class au{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cu(n){if(!n)throw RR()}function ST(n,e){return function t(i,r){const a=FL(n,r,e);return cu(null!==a),a}}function yv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function c6(){return new $i(ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function a6(){return new $i(ki.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function s6(n){return new $i(ki.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function l6(n){return new $i(ki.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function SE(n){const e=yv(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function o6(n){return new $i(ki.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function BL(n,e,t){const r=uh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new au(r,"GET",ST(n,t),l);return f.errorHandler=SE(e),f}function W6(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const f=uh(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new au(f,"GET",function G6(n,e){return function t(i,r){const a=function $6(n,e,t){const i=LR(t);return null===i?null:function H6(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[LL])for(const r of t[LL]){const a=r.replace(/\/$/,""),l=n._makeStorageReference(new Lo(e,a));i.prefixes.push(l)}if(t[VL])for(const r of t[VL]){const a=n._makeStorageReference(new Lo(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return cu(null!==a),a}}(n,e.bucket),v);return C.urlParams=a,C.errorHandler=yv(e),C}function jL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Q6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class AT{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function BR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{cu(!1)}return cu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const tG={STATE_CHANGED:"state_changed"},us={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UR(n){switch(n){case"running":case"pausing":case"canceling":return us.RUNNING;case"paused":return us.PAUSED;case"success":return us.SUCCESS;case"canceled":return us.CANCELED;default:return us.ERROR}}class nG{constructor(e,t,i){if(function b6(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function vv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let $L=null;class iG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_v.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_v.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_v.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw DE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw DE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw DE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw DE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw DE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rG extends iG{initXhr(){this.xhr_.responseType="text"}}function Yc(){return $L?$L():new rG}class GL{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=TE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(ki.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(kL(r.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=IL()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(ki.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function X6(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),l=jL(e,i,r),f={name:l.fullPath},g=uh(a,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},A=VR(l,t),Z=new au(g,"POST",function $(ne){let fe;BR(ne);try{fe=ne.getResponseHeader("X-Goog-Upload-URL")}catch{cu(!1)}return cu(CT(fe)),fe},n.maxUploadRetryTime);return Z.urlParams=f,Z.headers=C,Z.body=A,Z.errorHandler=yv(e),Z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Yc,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function J6(n,e,t,i){const g=new au(t,"POST",function a(v){const C=BR(v,["active","final"]);let A=null;try{A=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cu(!1)}A||cu(!1);const U=Number(A);return cu(!isNaN(U)),new AT(U,i.size(),"final"===C)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=yv(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Yc,t,i);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new AT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let l;try{l=function eG(n,e,t,i,r,a,l,f){const g=new AT(0,0);if(l?(g.current=l.current,g.total=l.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function f6(){return new $i(ki.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let C=v;r>0&&(C=Math.min(C,r));const A=g.current;let $="";$=0===C?"finalize":v===C?"upload, finalize":"upload";const Z={"X-Goog-Upload-Command":$,"X-Goog-Upload-Offset":`${g.current}`},ne=i.slice(A,A+C);if(null===ne)throw DL();const $e=new au(t,"POST",function fe(Ge,Ct){const St=BR(Ge,["active","final"]),fn=g.current+C,Ri=i.size();let Vo;return Vo="final"===St?ST(e,a)(Ge,Ct):null,new AT(fn,Ri,"final"===St,Vo)},e.maxUploadRetryTime);return $e.headers=Z,$e.body=ne.uploadData(),$e.progressCallback=f||null,$e.errorHandler=yv(n),$e}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(l,Yc,r,a,!1);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=BL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Yc,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function zL(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},g=function f(){let $e="";for(let Ge=0;Ge<2;Ge++)$e+=Math.random().toString().slice(2);return $e}();l["Content-Type"]="multipart/related; boundary="+g;const v=jL(e,i,r),C=VR(v,t),$=su.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===$)throw DL();const Z={name:v.fullPath},ne=uh(a,n.host,n._protocol),je=n.maxUploadRetryTime,Ke=new au(ne,"POST",ST(n,t),je);return Ke.urlParams=Z,Ke.headers=l,Ke.body=$.uploadData(),Ke.errorHandler=yv(e),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Yc,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=CL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=UR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new nG(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(UR(this._state)){case us.SUCCESS:vv(this._resolve.bind(null,this.snapshot))();break;case us.CANCELED:case us.ERROR:vv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UR(this._state)){case us.RUNNING:case us.PAUSED:e.next&&vv(e.next.bind(e,this.snapshot))();break;case us.SUCCESS:e.complete&&vv(e.complete.bind(e))();break;default:e.error&&vv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ag{constructor(e,t){this._service=e,this._location=t instanceof Lo?t:Lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ag(e,t)}get root(){const e=new Lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PL(this._location.path)}get storage(){return this._service}get parent(){const e=function F6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Lo(this._location.bucket,e);return new Ag(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw SL(e)}}function WL(n,e,t){return jR.apply(this,arguments)}function jR(){return jR=(0,we.Z)(function*(n,e,t){const r=yield ZL(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield WL(n,e,r.nextPageToken))}),jR.apply(this,arguments)}function ZL(n,e){null!=e&&"number"==typeof e.maxResults&&NR("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=W6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Yc)}function gG(n){n._throwIfRoot("getDownloadURL");const e=function Z6(n,e,t){const r=uh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new au(r,"GET",function q6(n,e){return function t(i,r){const a=FL(n,r,e);return cu(null!==a),function z6(n,e,t,i){const r=LR(e);if(null===r||!CT(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(v=>{const A=n.fullPath;return uh("/b/"+l(n.bucket)+"/o/"+l(A),t,i)+ML({alt:"media",token:v})})[0]}(a,r,n.host,n._protocol)}}(n,t),l);return f.errorHandler=SE(e),f}(n.storage,n._location,TE());return n.storage.makeRequestWithTokens(e,Yc).then(t=>{if(null===t)throw function m6(){return new $i(ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function KL(n,e){const t=function L6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Lo(n._location.bucket,t);return new Ag(n.storage,i)}function YL(n,e){if(n instanceof zR){const t=n;if(null==t._bucket)throw function h6(){return new $i(ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xL+"' property when initializing the app?")}();const i=new Ag(t,t._bucket);return null!=e?YL(i,e):i}return void 0!==e?KL(n,e):n}function bG(n,e){if(e&&function yG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof zR)return function vG(n,e){return new Ag(n,e)}(n,e);throw gv("To use ref(service, url), the first argument must be a Storage instance.")}return YL(n,e)}function QL(n,e){const t=e?.[xL];return null==t?null:Lo.makeFromBucketSpec(t,n)}class zR{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=EL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Lo.makeFromBucketSpec(r,this._host):QL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Lo.makeFromBucketSpec(this._url,e):QL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ag(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new g6(TL());{const l=function T6(n,e,t,i,r,a,l=!0){const f=ML(n.urlParams),g=n.url+f,v=Object.assign({},n.headers);return function C6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function x6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function I6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function D6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new E6(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,we.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const XL="@firebase/storage",e2="storage";function t2(n,e){return bG(n=(0,zt.m9)(n),e)}function MG(n=(0,Nr.getApp)(),e){n=(0,zt.m9)(n);const i=(0,Nr._getProvider)(n,e2).getImmediate({identifier:e}),r=(0,zt.P0)("storage");return r&&n2(i,...r),i}function n2(n,e,t,i={}){!function wG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,zt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function kG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new zR(t,i,r,e,Nr.SDK_VERSION)}!function RG(){(0,Nr._registerComponent)(new Fl.wA(e2,kG,"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(XL,"0.11.2",""),(0,Nr.registerVersion)(XL,"0.11.2","esm2017")}();class HR{constructor(e){return e}}const r2="storage",$R=new d.OlP("angularfire2.storage-instances");function PG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new HR(i)}}const FG={provide:class OG{constructor(){return(0,sn.vb)(r2)}},deps:[[new d.FiY,$R]]},LG={provide:HR,useFactory:function NG(n,e){const t=(0,sn.JM)(r2,n,e);return t&&new HR(t)},deps:[[new d.FiY,$R],_g]};let VG=(()=>{class n{constructor(){(0,Jf.KN)("angularfire",sn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LG,FG]}),n})();function BG(n,...e){return{ngModule:VG,providers:[{provide:$R,useFactory:PG(n),multi:!0,deps:[d.R0b,d.zs3,sn.HU,$M,[new d.FiY,TR],[new d.FiY,cv],...e]}]}}const UG=(0,sn.u3)(MG,!0);class MT{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class o2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new MT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new MT(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?l=>t(new MT(l,this,this._ref)):{next:t.next?l=>t.next(new MT(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class s2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new dh(e,this._service))}get items(){return this._delegate.items.map(e=>new dh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class dh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function AG(n,e){return KL(n,e)}(this._delegate,e);return new dh(t,this.storage)}get root(){return new dh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new dh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new o2(function EG(n,e,t){return function dG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new GL(n,new su(e),t)}(n=(0,zt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=fa.RAW,i){this._throwIfRoot("putString");const r=FR(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new o2(new GL(this._delegate,new su(r.data,!0),a),this)}listAll(){return function DG(n){return function fG(n){const e={prefixes:[],items:[]};return WL(n,e).then(()=>e)}(n=(0,zt.m9)(n))}(this._delegate).then(e=>new s2(e,this.storage))}list(e){return function CG(n,e){return ZL(n=(0,zt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new s2(t,this.storage))}getMetadata(){return function xG(n){return function mG(n){n._throwIfRoot("getMetadata");const e=BL(n.storage,n._location,TE());return n.storage.makeRequestWithTokens(e,Yc)}(n=(0,zt.m9)(n))}(this._delegate)}updateMetadata(e){return function IG(n,e){return function pG(n,e){n._throwIfRoot("updateMetadata");const t=function K6(n,e,t,i){const a=uh(e.fullServerUrl(),n.host,n._protocol),f=VR(t,i),v=n.maxOperationRetryTime,C=new au(a,"PATCH",ST(n,i),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=f,C.errorHandler=SE(e),C}(n.storage,n._location,e,TE());return n.storage.makeRequestWithTokens(t,Yc)}(n=(0,zt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function TG(n){return gG(n=(0,zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function SG(n){return function _G(n){n._throwIfRoot("deleteObject");const e=function Y6(n,e){const i=uh(e.fullServerUrl(),n.host,n._protocol),f=new au(i,"DELETE",function l(g,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=SE(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Yc)}(n=(0,zt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw SL(e)}}class a2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(c2(e))throw gv("ref() expected a child path but got a URL, use refFromURL instead.");return new dh(t2(this._delegate,e),this)}refFromURL(e){if(!c2(e))throw gv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lo.makeFromUrl(e,this._delegate.host)}catch{throw gv("refFromUrl() expected a valid full URL but got an invalid one.")}return new dh(t2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){n2(this._delegate,e,t,i)}}function c2(n){return/^[A-Za-z]+:\/\//.test(n)}function $G(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new a2(t,i)}function l2(n){const e=function qG(n){return new ri.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(sE(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,st.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function kT(n){return{getDownloadURL:()=>(0,rt.of)(void 0).pipe(sn.fc,(0,Fn.w)(()=>n.getDownloadURL()),sn.iC),getMetadata:()=>(0,rt.of)(void 0).pipe(sn.fc,(0,Fn.w)(()=>n.getMetadata()),sn.iC),delete:()=>(0,un.D)(n.delete()),child:e=>kT(n.child(e)),updateMetadata:e=>(0,un.D)(n.updateMetadata(e)),put:(e,t)=>l2(n.put(e,t)),putString:(e,t,i)=>l2(n.putString(e,t,i)),list:e=>(0,un.D)(n.list(e)),listAll:()=>(0,un.D)(n.listAll())}}!function GG(n){const e={TaskState:us,TaskEvent:tG,StringFormat:fa,Storage:a2,Reference:dh};n.INTERNAL.registerComponent(new Fl.wA("storage-compat",$G,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(qm.Z);const WG=new d.OlP("angularfire2.storageBucket"),ZG=new d.OlP("angularfire2.storage.maxUploadRetryTime"),KG=new d.OlP("angularfire2.storage.maxOperationRetryTime"),YG=new d.OlP("angularfire2.storage.use-emulator");let QG=(()=>{class n{constructor(t,i,r,a,l,f,g,v,C,A){const U=(0,Mo.on)(t,l,i);this.storage=(0,Mo.cc)(`${U.name}.storage.${r}`,"AngularFireStorage",U.name,()=>{const $=l.runOutsideAngular(()=>U.storage(r||void 0)),Z=C;return Z&&$.useEmulator(...Z),g&&$.setMaxUploadRetryTime(g),v&&$.setMaxOperationRetryTime(v),$},[g,v])}ref(t){return kT(this.storage.ref(t))}refFromURL(t){return kT(this.storage.refFromURL(t))}upload(t,i,r){return kT(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Mo.Dh),d.LFG(Mo.xv,8),d.LFG(WG,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(sn.HU),d.LFG(ZG,8),d.LFG(KG,8),d.LFG(YG,8),d.LFG(cv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),JG=(()=>{class n{constructor(){OO.Z.registerVersion("angularfire",sn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[QG],imports:[XG]}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[V4]}),n.\u0275inj=d.cJS({imports:[vl,D3,K4.register("ngsw-worker.js",{enabled:!(0,d.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),$$,R3,l3,gj,nz,N4,FV(()=>LV(vL_firebase)),e6(()=>t6()),BG(()=>UG()),x3,Mo.hO.initializeApp(vL_firebase),NB,JG]}),n})();yl().bootstrapModule(e5).catch(n=>console.error(n))},5619:(dt,Ce,F)=>{F.d(Ce,{X:()=>j});var d=F(8645);class j extends d.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const se=super._subscribe(X);return!se.closed&&X.next(this._value),se}getValue(){const{hasError:X,thrownError:se,_value:ce}=this;if(X)throw se;return this._throwIfClosed(),ce}next(X){super.next(this._value=X)}}},5592:(dt,Ce,F)=>{F.d(Ce,{y:()=>Me});var d=F(305),j=F(7394),O=F(4850),X=F(8407),se=F(2653),ce=F(4674),be=F(1441);let Me=(()=>{class ie{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const We=new ie;return We.source=this,We.operator=ke,We}subscribe(ke,We,Re){const Ze=function q(ie){return ie&&ie instanceof d.Lv||function z(ie){return ie&&(0,ce.m)(ie.next)&&(0,ce.m)(ie.error)&&(0,ce.m)(ie.complete)}(ie)&&(0,j.Nn)(ie)}(ke)?ke:new d.Hp(ke,We,Re);return(0,be.x)(()=>{const{operator:Ne,source:yt}=this;Ze.add(Ne?Ne.call(Ze,yt):yt?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(ke){try{return this._subscribe(ke)}catch(We){ke.error(We)}}forEach(ke,We){return new(We=ye(We))((Re,Ze)=>{const Ne=new d.Hp({next:yt=>{try{ke(yt)}catch(ct){Ze(ct),Ne.unsubscribe()}},error:Ze,complete:Re});this.subscribe(Ne)})}_subscribe(ke){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,X.U)(ke)(this)}toPromise(ke){return new(ke=ye(ke))((We,Re)=>{let Ze;this.subscribe(Ne=>Ze=Ne,Ne=>Re(Ne),()=>We(Ze))})}}return ie.create=Pe=>new ie(Pe),ie})();function ye(ie){var Pe;return null!==(Pe=ie??se.config.Promise)&&void 0!==Pe?Pe:Promise}},8645:(dt,Ce,F)=>{F.d(Ce,{x:()=>be});var d=F(5592),j=F(7394);const X=(0,F(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(9039),ce=F(1441);let be=(()=>{class ye extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ie=new Me(this,this);return ie.operator=q,ie}_throwIfClosed(){if(this.closed)throw new X}next(q){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(q)}})}error(q){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ie}=this;for(;ie.length;)ie.shift().error(q)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ie,isStopped:Pe,observers:ke}=this;return ie||Pe?j.Lc:(this.currentObservers=null,ke.push(q),new j.w0(()=>{this.currentObservers=null,(0,se.P)(ke,q)}))}_checkFinalizedStatuses(q){const{hasError:ie,thrownError:Pe,isStopped:ke}=this;ie?q.error(Pe):ke&&q.complete()}asObservable(){const q=new d.y;return q.source=this,q}}return ye.create=(z,q)=>new Me(z,q),ye})();class Me extends be{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ie||ie.call(q,z)}error(z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ie||ie.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,ie;return null!==(ie=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==ie?ie:j.Lc}}},305:(dt,Ce,F)=>{F.d(Ce,{Hp:()=>Re,Lv:()=>ie});var d=F(4674),j=F(7394),O=F(2653),X=F(3894),se=F(2420);const ce=ye("C",void 0,void 0);function ye(te,xe,le){return{kind:te,value:xe,error:le}}var z=F(7599),q=F(1441);class ie extends j.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,j.Nn)(xe)&&xe.add(this)):this.destination=ct}static create(xe,le,Ie){return new Re(xe,le,Ie)}next(xe){this.isStopped?yt(function Me(te){return ye("N",te,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?yt(function be(te){return ye("E",void 0,te)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?yt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function ke(te,xe){return Pe.call(te,xe)}class We{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:le}=this;if(le.next)try{le.next(xe)}catch(Ie){Ze(Ie)}}error(xe){const{partialObserver:le}=this;if(le.error)try{le.error(xe)}catch(Ie){Ze(Ie)}else Ze(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(le){Ze(le)}}}class Re extends ie{constructor(xe,le,Ie){let Fe;if(super(),(0,d.m)(xe)||!xe)Fe={next:xe??void 0,error:le??void 0,complete:Ie??void 0};else{let re;this&&O.config.useDeprecatedNextContext?(re=Object.create(xe),re.unsubscribe=()=>this.unsubscribe(),Fe={next:xe.next&&ke(xe.next,re),error:xe.error&&ke(xe.error,re),complete:xe.complete&&ke(xe.complete,re)}):Fe=xe}this.destination=new We(Fe)}}function Ze(te){O.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(te):(0,X.h)(te)}function yt(te,xe){const{onStoppedNotification:le}=O.config;le&&z.z.setTimeout(()=>le(te,xe))}const ct={closed:!0,next:se.Z,error:function Ne(te){throw te},complete:se.Z}},7394:(dt,Ce,F)=>{F.d(Ce,{Lc:()=>ce,w0:()=>se,Nn:()=>be});var d=F(4674);const O=(0,F(2306).d)(ye=>function(q){ye(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ie,Pe)=>`${Pe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var X=F(9039);class se{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const ke of q)ke.remove(this);else q.remove(this);const{initialTeardown:ie}=this;if((0,d.m)(ie))try{ie()}catch(ke){z=ke instanceof O?ke.errors:[ke]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const ke of Pe)try{Me(ke)}catch(We){z=z??[],We instanceof O?z=[...z,...We.errors]:z.push(We)}}if(z)throw new O(z)}}add(z){var q;if(z&&z!==this)if(this.closed)Me(z);else{if(z instanceof se){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,X.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,X.P)(q,z),z instanceof se&&z._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const ce=se.EMPTY;function be(ye){return ye instanceof se||ye&&"closed"in ye&&(0,d.m)(ye.remove)&&(0,d.m)(ye.add)&&(0,d.m)(ye.unsubscribe)}function Me(ye){(0,d.m)(ye)?ye():ye.unsubscribe()}},2653:(dt,Ce,F)=>{F.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(dt,Ce,F)=>{F.d(Ce,{E:()=>j});const j=new(F(5592).y)(se=>se.complete())},2459:(dt,Ce,F)=>{F.d(Ce,{D:()=>xe});var d=F(4829),j=F(3093),O=F(5137),ce=F(5592),Me=F(4971),ye=F(4674),z=F(7103);function ie(le,Ie){if(!le)throw new Error("Iterable cannot be null");return new ce.y(Fe=>{(0,z.f)(Fe,Ie,()=>{const re=le[Symbol.asyncIterator]();(0,z.f)(Fe,Ie,()=>{re.next().then(lt=>{lt.done?Fe.complete():Fe.next(lt.value)})},0,!0)})})}var Pe=F(8382),ke=F(4026),We=F(4266),Re=F(3664),Ze=F(5726),Ne=F(9853),yt=F(541);function xe(le,Ie){return Ie?function te(le,Ie){if(null!=le){if((0,Pe.c)(le))return function X(le,Ie){return(0,d.Xf)(le).pipe((0,O.R)(Ie),(0,j.Q)(Ie))}(le,Ie);if((0,We.z)(le))return function be(le,Ie){return new ce.y(Fe=>{let re=0;return Ie.schedule(function(){re===le.length?Fe.complete():(Fe.next(le[re++]),Fe.closed||this.schedule())})})}(le,Ie);if((0,ke.t)(le))return function se(le,Ie){return(0,d.Xf)(le).pipe((0,O.R)(Ie),(0,j.Q)(Ie))}(le,Ie);if((0,Ze.D)(le))return ie(le,Ie);if((0,Re.T)(le))return function q(le,Ie){return new ce.y(Fe=>{let re;return(0,z.f)(Fe,Ie,()=>{re=le[Me.h](),(0,z.f)(Fe,Ie,()=>{let lt,Et;try{({value:lt,done:Et}=re.next())}catch(Jt){return void Fe.error(Jt)}Et?Fe.complete():Fe.next(lt)},0,!0)}),()=>(0,ye.m)(re?.return)&&re.return()})}(le,Ie);if((0,yt.L)(le))return function ct(le,Ie){return ie((0,yt.Q)(le),Ie)}(le,Ie)}throw(0,Ne.z)(le)}(le,Ie):(0,d.Xf)(le)}},4829:(dt,Ce,F)=>{F.d(Ce,{Xf:()=>Pe});var d=F(7582),j=F(4266),O=F(4026),X=F(5592),se=F(8382),ce=F(5726),be=F(9853),Me=F(3664),ye=F(541),z=F(4674),q=F(3894),ie=F(4850);function Pe(te){if(te instanceof X.y)return te;if(null!=te){if((0,se.c)(te))return function ke(te){return new X.y(xe=>{const le=te[ie.L]();if((0,z.m)(le.subscribe))return le.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,j.z)(te))return function We(te){return new X.y(xe=>{for(let le=0;le<te.length&&!xe.closed;le++)xe.next(te[le]);xe.complete()})}(te);if((0,O.t)(te))return function Re(te){return new X.y(xe=>{te.then(le=>{xe.closed||(xe.next(le),xe.complete())},le=>xe.error(le)).then(null,q.h)})}(te);if((0,ce.D)(te))return Ne(te);if((0,Me.T)(te))return function Ze(te){return new X.y(xe=>{for(const le of te)if(xe.next(le),xe.closed)return;xe.complete()})}(te);if((0,ye.L)(te))return function yt(te){return Ne((0,ye.Q)(te))}(te)}throw(0,be.z)(te)}function Ne(te){return new X.y(xe=>{(function ct(te,xe){var le,Ie,Fe,re;return(0,d.mG)(this,void 0,void 0,function*(){try{for(le=(0,d.KL)(te);!(Ie=yield le.next()).done;)if(xe.next(Ie.value),xe.closed)return}catch(lt){Fe={error:lt}}finally{try{Ie&&!Ie.done&&(re=le.return)&&(yield re.call(le))}finally{if(Fe)throw Fe.error}}xe.complete()})})(te,xe).catch(le=>xe.error(le))})}},3019:(dt,Ce,F)=>{F.d(Ce,{T:()=>ce});var d=F(7537),j=F(4829),O=F(6232),X=F(9940),se=F(2459);function ce(...be){const Me=(0,X.yG)(be),ye=(0,X._6)(be,1/0),z=be;return z.length?1===z.length?(0,j.Xf)(z[0]):(0,d.J)(ye)((0,se.D)(z,Me)):O.E}},2096:(dt,Ce,F)=>{F.d(Ce,{of:()=>O});var d=F(9940),j=F(2459);function O(...X){const se=(0,d.yG)(X);return(0,j.D)(X,se)}},8251:(dt,Ce,F)=>{F.d(Ce,{x:()=>j});var d=F(305);function j(X,se,ce,be,Me){return new O(X,se,ce,be,Me)}class O extends d.Lv{constructor(se,ce,be,Me,ye,z){super(se),this.onFinalize=ye,this.shouldUnsubscribe=z,this._next=ce?function(q){try{ce(q)}catch(ie){se.error(ie)}}:super._next,this._error=Me?function(q){try{Me(q)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(dt,Ce,F)=>{F.d(Ce,{x:()=>X});var d=F(2737),j=F(9360),O=F(8251);function X(ce,be=d.y){return ce=ce??se,(0,j.e)((Me,ye)=>{let z,q=!0;Me.subscribe((0,O.x)(ye,ie=>{const Pe=be(ie);(q||!ce(z,Pe))&&(q=!1,z=Pe,ye.next(ie))}))})}function se(ce,be){return ce===be}},7398:(dt,Ce,F)=>{F.d(Ce,{U:()=>O});var d=F(9360),j=F(8251);function O(X,se){return(0,d.e)((ce,be)=>{let Me=0;ce.subscribe((0,j.x)(be,ye=>{be.next(X.call(se,ye,Me++))}))})}},7537:(dt,Ce,F)=>{F.d(Ce,{J:()=>O});var d=F(1631),j=F(2737);function O(X=1/0){return(0,d.z)(j.y,X)}},1631:(dt,Ce,F)=>{F.d(Ce,{z:()=>Me});var d=F(7398),j=F(4829),O=F(9360),X=F(7103),se=F(8251),be=F(4674);function Me(ye,z,q=1/0){return(0,be.m)(z)?Me((ie,Pe)=>(0,d.U)((ke,We)=>z(ie,ke,Pe,We))((0,j.Xf)(ye(ie,Pe))),q):("number"==typeof z&&(q=z),(0,O.e)((ie,Pe)=>function ce(ye,z,q,ie,Pe,ke,We,Re){const Ze=[];let Ne=0,yt=0,ct=!1;const te=()=>{ct&&!Ze.length&&!Ne&&z.complete()},xe=Ie=>Ne<ie?le(Ie):Ze.push(Ie),le=Ie=>{ke&&z.next(Ie),Ne++;let Fe=!1;(0,j.Xf)(q(Ie,yt++)).subscribe((0,se.x)(z,re=>{Pe?.(re),ke?xe(re):z.next(re)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ne--;Ze.length&&Ne<ie;){const re=Ze.shift();We?(0,X.f)(z,We,()=>le(re)):le(re)}te()}catch(re){z.error(re)}}))};return ye.subscribe((0,se.x)(z,xe,()=>{ct=!0,te()})),()=>{Re?.()}}(ie,Pe,ye,q)))}},3093:(dt,Ce,F)=>{F.d(Ce,{Q:()=>X});var d=F(7103),j=F(9360),O=F(8251);function X(se,ce=0){return(0,j.e)((be,Me)=>{be.subscribe((0,O.x)(Me,ye=>(0,d.f)(Me,se,()=>Me.next(ye),ce),()=>(0,d.f)(Me,se,()=>Me.complete(),ce),ye=>(0,d.f)(Me,se,()=>Me.error(ye),ce)))})}},3020:(dt,Ce,F)=>{F.d(Ce,{B:()=>se});var d=F(4829),j=F(8645),O=F(305),X=F(9360);function se(be={}){const{connector:Me=(()=>new j.x),resetOnError:ye=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=be;return ie=>{let Pe,ke,We,Re=0,Ze=!1,Ne=!1;const yt=()=>{ke?.unsubscribe(),ke=void 0},ct=()=>{yt(),Pe=We=void 0,Ze=Ne=!1},te=()=>{const xe=Pe;ct(),xe?.unsubscribe()};return(0,X.e)((xe,le)=>{Re++,!Ne&&!Ze&&yt();const Ie=We=We??Me();le.add(()=>{Re--,0===Re&&!Ne&&!Ze&&(ke=ce(te,q))}),Ie.subscribe(le),!Pe&&Re>0&&(Pe=new O.Hp({next:Fe=>Ie.next(Fe),error:Fe=>{Ne=!0,yt(),ke=ce(ct,ye,Fe),Ie.error(Fe)},complete:()=>{Ze=!0,yt(),ke=ce(ct,z),Ie.complete()}}),(0,d.Xf)(xe).subscribe(Pe))})(ie)}}function ce(be,Me,...ye){if(!0===Me)return void be();if(!1===Me)return;const z=new O.Hp({next:()=>{z.unsubscribe(),be()}});return(0,d.Xf)(Me(...ye)).subscribe(z)}},5137:(dt,Ce,F)=>{F.d(Ce,{R:()=>j});var d=F(9360);function j(O,X=0){return(0,d.e)((se,ce)=>{ce.add(O.schedule(()=>se.subscribe(ce),X))})}},4664:(dt,Ce,F)=>{F.d(Ce,{w:()=>X});var d=F(4829),j=F(9360),O=F(8251);function X(se,ce){return(0,j.e)((be,Me)=>{let ye=null,z=0,q=!1;const ie=()=>q&&!ye&&Me.complete();be.subscribe((0,O.x)(Me,Pe=>{ye?.unsubscribe();let ke=0;const We=z++;(0,d.Xf)(se(Pe,We)).subscribe(ye=(0,O.x)(Me,Re=>Me.next(ce?ce(Pe,Re,We,ke++):Re),()=>{ye=null,ie()}))},()=>{q=!0,ie()}))})}},9397:(dt,Ce,F)=>{F.d(Ce,{b:()=>se});var d=F(4674),j=F(9360),O=F(8251),X=F(2737);function se(ce,be,Me){const ye=(0,d.m)(ce)||be||Me?{next:ce,error:be,complete:Me}:ce;return ye?(0,j.e)((z,q)=>{var ie;null===(ie=ye.subscribe)||void 0===ie||ie.call(ye);let Pe=!0;z.subscribe((0,O.x)(q,ke=>{var We;null===(We=ye.next)||void 0===We||We.call(ye,ke),q.next(ke)},()=>{var ke;Pe=!1,null===(ke=ye.complete)||void 0===ke||ke.call(ye),q.complete()},ke=>{var We;Pe=!1,null===(We=ye.error)||void 0===We||We.call(ye,ke),q.error(ke)},()=>{var ke,We;Pe&&(null===(ke=ye.unsubscribe)||void 0===ke||ke.call(ye)),null===(We=ye.finalize)||void 0===We||We.call(ye)}))}):X.y}},1954:(dt,Ce,F)=>{F.d(Ce,{o:()=>se});var d=F(7394);class j extends d.w0{constructor(be,Me){super()}schedule(be,Me=0){return this}}const O={setInterval(ce,be,...Me){const{delegate:ye}=O;return ye?.setInterval?ye.setInterval(ce,be,...Me):setInterval(ce,be,...Me)},clearInterval(ce){const{delegate:be}=O;return(be?.clearInterval||clearInterval)(ce)},delegate:void 0};var X=F(9039);class se extends j{constructor(be,Me){super(be,Me),this.scheduler=be,this.work=Me,this.pending=!1}schedule(be,Me=0){var ye;if(this.closed)return this;this.state=be;const z=this.id,q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(q,z,Me)),this.pending=!0,this.delay=Me,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(q,this.id,Me),this}requestAsyncId(be,Me,ye=0){return O.setInterval(be.flush.bind(be,this),ye)}recycleAsyncId(be,Me,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Me;null!=Me&&O.clearInterval(Me)}execute(be,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(be,Me);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Me){let z,ye=!1;try{this.work(be)}catch(q){ye=!0,z=q||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:be,scheduler:Me}=this,{actions:ye}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(ye,this),null!=be&&(this.id=this.recycleAsyncId(Me,be,null)),this.delay=null,super.unsubscribe()}}}},2631:(dt,Ce,F)=>{F.d(Ce,{v:()=>O});var d=F(4552);class j{constructor(se,ce=j.now){this.schedulerActionCtor=se,this.now=ce}schedule(se,ce=0,be){return new this.schedulerActionCtor(this,se).schedule(be,ce)}}j.now=d.l.now;class O extends j{constructor(se,ce=j.now){super(se,ce),this.actions=[],this._active=!1}flush(se){const{actions:ce}=this;if(this._active)return void ce.push(se);let be;this._active=!0;do{if(be=se.execute(se.state,se.delay))break}while(se=ce.shift());if(this._active=!1,be){for(;se=ce.shift();)se.unsubscribe();throw be}}}},6321:(dt,Ce,F)=>{F.d(Ce,{P:()=>X,z:()=>O});var d=F(1954);const O=new(F(2631).v)(d.o),X=O},4552:(dt,Ce,F)=>{F.d(Ce,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(dt,Ce,F)=>{F.d(Ce,{z:()=>d});const d={setTimeout(j,O,...X){const{delegate:se}=d;return se?.setTimeout?se.setTimeout(j,O,...X):setTimeout(j,O,...X)},clearTimeout(j){const{delegate:O}=d;return(O?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4971:(dt,Ce,F)=>{F.d(Ce,{h:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,Ce,F)=>{F.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(dt,Ce,F)=>{F.d(Ce,{_6:()=>ce,jO:()=>X,yG:()=>se});var d=F(4674),j=F(671);function O(be){return be[be.length-1]}function X(be){return(0,d.m)(O(be))?be.pop():void 0}function se(be){return(0,j.K)(O(be))?be.pop():void 0}function ce(be,Me){return"number"==typeof O(be)?be.pop():Me}},9039:(dt,Ce,F)=>{function d(j,O){if(j){const X=j.indexOf(O);0<=X&&j.splice(X,1)}}F.d(Ce,{P:()=>d})},2306:(dt,Ce,F)=>{function d(j){const X=j(se=>{Error.call(se),se.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}F.d(Ce,{d:()=>d})},1441:(dt,Ce,F)=>{F.d(Ce,{O:()=>X,x:()=>O});var d=F(2653);let j=null;function O(se){if(d.config.useDeprecatedSynchronousErrorHandling){const ce=!j;if(ce&&(j={errorThrown:!1,error:null}),se(),ce){const{errorThrown:be,error:Me}=j;if(j=null,be)throw Me}}else se()}function X(se){d.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=se)}},7103:(dt,Ce,F)=>{function d(j,O,X,se=0,ce=!1){const be=O.schedule(function(){X(),ce?j.add(this.schedule(null,se)):this.unsubscribe()},se);if(j.add(be),!ce)return be}F.d(Ce,{f:()=>d})},2737:(dt,Ce,F)=>{function d(j){return j}F.d(Ce,{y:()=>d})},4266:(dt,Ce,F)=>{F.d(Ce,{z:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},5726:(dt,Ce,F)=>{F.d(Ce,{D:()=>j});var d=F(4674);function j(O){return Symbol.asyncIterator&&(0,d.m)(O?.[Symbol.asyncIterator])}},4674:(dt,Ce,F)=>{function d(j){return"function"==typeof j}F.d(Ce,{m:()=>d})},8382:(dt,Ce,F)=>{F.d(Ce,{c:()=>O});var d=F(4850),j=F(4674);function O(X){return(0,j.m)(X[d.L])}},3664:(dt,Ce,F)=>{F.d(Ce,{T:()=>O});var d=F(4971),j=F(4674);function O(X){return(0,j.m)(X?.[d.h])}},4026:(dt,Ce,F)=>{F.d(Ce,{t:()=>j});var d=F(4674);function j(O){return(0,d.m)(O?.then)}},541:(dt,Ce,F)=>{F.d(Ce,{L:()=>X,Q:()=>O});var d=F(7582),j=F(4674);function O(se){return(0,d.FC)(this,arguments,function*(){const be=se.getReader();try{for(;;){const{value:Me,done:ye}=yield(0,d.qq)(be.read());if(ye)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Me)}}finally{be.releaseLock()}})}function X(se){return(0,j.m)(se?.getReader)}},671:(dt,Ce,F)=>{F.d(Ce,{K:()=>j});var d=F(4674);function j(O){return O&&(0,d.m)(O.schedule)}},9360:(dt,Ce,F)=>{F.d(Ce,{A:()=>j,e:()=>O});var d=F(4674);function j(X){return(0,d.m)(X?.lift)}function O(X){return se=>{if(j(se))return se.lift(function(ce){try{return X(ce,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(dt,Ce,F)=>{function d(){}F.d(Ce,{Z:()=>d})},8407:(dt,Ce,F)=>{F.d(Ce,{U:()=>O,z:()=>j});var d=F(2737);function j(...X){return O(X)}function O(X){return 0===X.length?d.y:1===X.length?X[0]:function(ce){return X.reduce((be,Me)=>Me(be),ce)}}},3894:(dt,Ce,F)=>{F.d(Ce,{h:()=>O});var d=F(2653),j=F(7599);function O(X){j.z.setTimeout(()=>{const{onUnhandledError:se}=d.config;if(!se)throw X;se(X)})}},9853:(dt,Ce,F)=>{function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>d})},5879:(dt,Ce,F)=>{F.d(Ce,{$8M:()=>Do,$WT:()=>zo,$Z:()=>gb,AFp:()=>wS,ALo:()=>Ff,AaK:()=>ie,CHM:()=>Ou,CRH:()=>Z0,EJc:()=>Xr,EiD:()=>ef,EpF:()=>hI,F$t:()=>Zb,F4k:()=>Qe,FYo:()=>C_,FiY:()=>Ao,Gf:()=>W0,GfV:()=>yx,Gpc:()=>We,HDt:()=>qf,Hsn:()=>ko,JOm:()=>Zg,JVY:()=>XT,JZr:()=>ct,KtG:()=>gl,L6k:()=>JT,LAX:()=>tS,LFG:()=>Bn,Lbi:()=>mx,Lck:()=>SA,MAs:()=>uI,MMx:()=>by,MR2:()=>sx,NdJ:()=>_f,O4$:()=>Fu,Ojb:()=>Wv,OlP:()=>In,Oqu:()=>Md,P3R:()=>pS,PXZ:()=>vw,Q6J:()=>Gb,QGY:()=>fi,QbO:()=>sn,Qsj:()=>tb,R0b:()=>Lr,RDi:()=>Yh,Rgc:()=>$p,SBq:()=>cd,Sil:()=>FC,Suo:()=>EC,TTD:()=>dl,TgZ:()=>ey,Udp:()=>Xb,VuI:()=>DM,W1O:()=>IC,WFA:()=>vp,X6Q:()=>fM,XFs:()=>pt,Xpm:()=>ga,Xq5:()=>hp,Xts:()=>__,Y36:()=>ud,YKP:()=>JI,YNc:()=>cI,Yjl:()=>dm,Yz7:()=>Vt,Z0I:()=>hn,ZZ4:()=>ua,_Bn:()=>XI,_UZ:()=>Wb,_c5:()=>Ow,_uU:()=>wi,aQg:()=>rg,c2e:()=>Fy,cJS:()=>$n,cg1:()=>d0,d8E:()=>Tp,dDg:()=>aM,dqk:()=>Kt,eBb:()=>eS,eFA:()=>$C,eJc:()=>X0,ekj:()=>Jb,eoX:()=>$y,f3M:()=>tn,g9A:()=>ES,h0i:()=>kf,hGG:()=>xM,iGM:()=>Gc,ifc:()=>xt,ip1:()=>fw,jDz:()=>Rf,kL8:()=>FI,kcU:()=>Aa,lG2:()=>_a,lcZ:()=>F0,lqb:()=>rd,lri:()=>jC,mCW:()=>u_,n5z:()=>di,n_E:()=>Ey,oAB:()=>ic,oxw:()=>yf,pB0:()=>YE,q3G:()=>nd,q4F:()=>cf,qFp:()=>gD,qLn:()=>Bl,qOj:()=>Bb,qZA:()=>_p,qzn:()=>Xh,rWj:()=>Hy,rg0:()=>Pg,sBO:()=>QC,s_b:()=>qd,soG:()=>Ly,tb:()=>_w,tp0:()=>Yo,uIk:()=>Z_,vHH:()=>te,vpe:()=>Ka,wAp:()=>Pd,xp6:()=>xx,z2F:()=>la,z3N:()=>Is,zSh:()=>ux,zs3:()=>Cs});var d=F(8645),j=F(7394),O=F(5619),X=F(5592),se=F(3019),ce=F(2096),be=F(3020),Me=F(4664),ye=F(3997);function z(o){for(let s in o)if(o[s]===z)return s;throw Error("Could not find renamed property on target object.")}function q(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function ie(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ie).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Pe(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ke=z({__forward_ref__:z});function We(o){return o.__forward_ref__=We,o.toString=function(){return ie(this())},o}function Re(o){return Ze(o)?o():o}function Ze(o){return"function"==typeof o&&o.hasOwnProperty(ke)&&o.__forward_ref__===We}function Ne(o){return o&&!!o.\u0275providers}const ct="https://g.co/ng/security#xss";class te extends Error{constructor(s,c){super(function xe(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,c)),this.code=s}}function le(o){return"string"==typeof o?o:null==o?"":String(o)}function Et(o,s){throw new te(-201,!1)}function Xe(o,s){null==o&&function ot(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function Vt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function $n(o){return{providers:o.providers||[],imports:o.imports||[]}}function jn(o){return ci(o,Oi)||ci(o,ir)}function hn(o){return null!==jn(o)}function ci(o,s){return o.hasOwnProperty(s)?o[s]:null}function eo(o){return o&&(o.hasOwnProperty(Gn)||o.hasOwnProperty(yo))?o[Gn]:null}const Oi=z({\u0275prov:z}),Gn=z({\u0275inj:z}),ir=z({ngInjectableDef:z}),yo=z({ngInjectorDef:z});var pt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(pt||{});let Bt;function en(o){const s=Bt;return Bt=o,s}function li(o,s,c){const u=jn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&pt.Optional?null:void 0!==s?s:void Et(ie(o))}const Kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qi={},Lt="__NG_DI_FLAG__",zn="ngTempTokenPath",jo=/\n/gm,qn="__source";let An;function Vn(o){const s=An;return An=o,s}function ui(o,s=pt.Default){if(void 0===An)throw new te(-203,!1);return null===An?li(o,void 0,s):An.get(o,s&pt.Optional?null:void 0,s)}function Bn(o,s=pt.Default){return(function Pt(){return Bt}()||ui)(Re(o),s)}function tn(o,s=pt.Default){return Bn(o,G(s))}function G(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function H(o){const s=[];for(let c=0;c<o.length;c++){const u=Re(o[c]);if(Array.isArray(u)){if(0===u.length)throw new te(900,!1);let h,m=pt.Default;for(let y=0;y<u.length;y++){const w=u[y],I=L(w);"number"==typeof I?-1===I?h=w.token:m|=I:h=w}s.push(Bn(h,m))}else s.push(Bn(u))}return s}function P(o,s){return o[Lt]=s,o.prototype[Lt]=s,o}function L(o){return o[Lt]}function ve(o){return{toString:o}.toString()}var Ye=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ye||{}),xt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(xt||{});const gt={},ht=[],At=z({\u0275cmp:z}),En=z({\u0275dir:z}),Ut=z({\u0275pipe:z}),Ii=z({\u0275mod:z}),Pi=z({\u0275fac:z}),_e=z({__NG_ELEMENT_ID__:z}),oe=z({__NG_ENV_ID__:z});function Le(o,s,c){let u=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}c=h+1}}function ft(o,s,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],y=c[u++],w=c[u++];o.setAttribute(s,y,w,m)}else{const m=h,y=c[++u];qt(m)?o.setProperty(s,m,y):o.setAttribute(s,m,y),u++}}return u}function Rt(o){return 3===o||4===o||6===o}function qt(o){return 64===o.charCodeAt(0)}function rn(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?c=h:0===c||Ci(o,c,h,null,-1===c||2===c?s[++u]:null)}}return o}function Ci(o,s,c,u,h){let m=0,y=o.length;if(-1===s)y=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,s),m=y+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}const Wn="ng-template";function ds(o,s,c){let u=0,h=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&h){const y=o[u++];if(c&&"class"===m&&-1!==Le(y.toLowerCase(),s,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function pa(o){return 4===o.type&&o.value!==Wn}function tc(o,s,c){return s===(4!==o.type||c?o.value:Wn)}function fh(o,s,c){let u=4;const h=o.attrs||[],m=function Qc(o){for(let s=0;s<o.length;s++)if(Rt(o[s]))return s;return o.length}(h);let y=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!tc(o,I,c)||""===I&&1===s.length){if(_r(u))return!1;y=!0}}else{const T=8&u?I:s[++w];if(8&u&&null!==o.attrs){if(!ds(o.attrs,T,c)){if(_r(u))return!1;y=!0}continue}const B=hs(8&u?"class":I,h,pa(o),c);if(-1===B){if(_r(u))return!1;y=!0;continue}if(""!==T){let K;K=B>m?"":h[B+1].toLowerCase();const ee=8&u?K:null;if(ee&&-1!==Le(ee,T,0)||2&u&&T!==K){if(_r(u))return!1;y=!0}}}}else{if(!y&&!_r(u)&&!_r(I))return!1;if(y&&_r(I))continue;y=!1,u=I|1&u}}return _r(u)||y}function _r(o){return 0==(1&o)}function hs(o,s,c,u){if(null===s)return-1;let h=0;if(u||!c){let m=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function ni(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function Fs(o,s,c=!1){for(let u=0;u<s.length;u++)if(fh(o,s[u],c))return!0;return!1}function Rg(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function fs(o,s){return o?":not("+s.trim()+")":s}function Og(o){let s=o[0],c=1,u=2,h="",m=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&u){const w=o[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!_r(y)&&(s+=fs(m,h),h=""),u=y,m=m||!_r(u);c++}return""!==h&&(s+=fs(m,h)),s}function ga(o){return ve(()=>{const s=Jc(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||xt.Emulated,styles:o.styles||ht,_:null,schemas:o.schemas||null,tView:null,id:""};oc(c);const u=o.dependencies;return c.directiveDefs=ya(u,!1),c.pipeDefs=ya(u,!0),c.id=function ph(o){let s=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(c),c})}function um(o){return jt(o)||Di(o)}function nc(o){return null!==o}function ic(o){return ve(()=>({type:o.type,bootstrap:o.bootstrap||ht,declarations:o.declarations||ht,imports:o.imports||ht,exports:o.exports||ht,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function rc(o,s){if(null==o)return gt;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=u,s&&(s[h]=m)}return c}function _a(o){return ve(()=>{const s=Jc(o);return oc(s),s})}function dm(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function jt(o){return o[At]||null}function Di(o){return o[En]||null}function wn(o){return o[Ut]||null}function zo(o){const s=jt(o)||Di(o)||wn(o);return null!==s&&s.standalone}function or(o,s){const c=o[Ii]||null;if(!c&&!0===s)throw new Error(`Type ${ie(o)} does not have '\u0275mod' property.`);return c}function Jc(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||gt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||ht,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rc(o.inputs,s),outputs:rc(o.outputs)}}function oc(o){o.features?.forEach(s=>s(o))}function ya(o,s){if(!o)return null;const c=s?wn:um;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(nc)}const ii=0,it=1,Ft=2,Hn=3,sr=4,el=5,Fi=6,Ho=7,xn=8,no=9,Ls=10,It=11,ac=12,tl=13,ms=14,Nn=15,nl=16,Vs=17,Sr=18,va=19,il=20,Li=21,ar=22,ba=23,io=24,on=25,bo=1,Bs=2,Ar=7,wa=9,Wi=11;function Zi(o){return Array.isArray(o)&&"object"==typeof o[bo]}function Ki(o){return Array.isArray(o)&&!0===o[bo]}function hu(o){return 0!=(4&o.flags)}function ro(o){return o.componentOffset>-1}function ps(o){return 1==(1&o.flags)}function Mn(o){return!!o.template}function xa(o){return 0!=(512&o[Ft])}function gs(o,s){return o.hasOwnProperty(Pi)?o[Pi]:null}let uc=Kt.WeakRef??class lc{constructor(s){this.ref=s}deref(){return this.ref}},al=0,Br=null,cl=!1;function Kn(o){const s=Br;return Br=o,s}class Mr{constructor(){this.id=al++,this.ref=function _m(o){return new uc(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,c]of this.producers){const u=c.producerNode.deref();if(null!=u&&c.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(s),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=cl;cl=!0;try{for(const[c,u]of this.consumers){const h=u.consumerNode.deref();null!=h&&h.trackingVersion===u.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{cl=s}}producerAccessed(){if(cl)throw new Error("");if(null===Br)return;let s=Br.producers.get(this.id);void 0===s?(s={consumerNode:Br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Br.trackingVersion},Br.producers.set(this.id,s),this.consumers.set(Br.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Br?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Eh=null;function Pg(o){const s=Kn(null);try{return o()}finally{Kn(s)}}const dc=()=>{};class bm extends Mr{constructor(s,c,u){super(),this.watch=s,this.schedule=c,this.dirty=!1,this.cleanupFn=dc,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Kn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=dc,this.watch(this.registerOnCleanup)}finally{Kn(s)}}cleanup(){this.cleanupFn()}}class hc{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function dl(){return Ia}function Ia(o){return o.type.prototype.ngOnChanges&&(o.setInput=Cu),Iu}function Iu(){const o=Du(this),s=o?.current;if(s){const c=o.previous;if(c===gt)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function Cu(o,s,c,u){const h=this.declaredInputs[c],m=Du(o)||function Ih(o,s){return o[wm]=s}(o,{previous:gt,current:null}),y=m.current||(m.current={}),w=m.previous,I=w[h];y[h]=new hc(I&&I.currentValue,s,w===gt),o[u]=s}dl.ngInherit=!0;const wm="__ngSimpleChanges__";function Du(o){return o[wm]||null}const oo=function(o,s,c){},Au="svg";function Cn(o){for(;Array.isArray(o);)o=o[ii];return o}function Ca(o,s){return Cn(s[o])}function Yi(o,s){return Cn(s[o.index])}function Ch(o,s){return o.data[s]}function ys(o,s){return o[s]}function Ur(o,s){const c=s[o];return Zi(c)?c:c[ii]}function Eo(o,s){return null==s?null:o[s]}function Sh(o){o[Vs]=0}function Mu(o){1024&o[Ft]||(o[Ft]|=1024,Ta(o,1))}function fl(o){1024&o[Ft]&&(o[Ft]&=-1025,Ta(o,-1))}function Ta(o,s){let c=o[Hn];if(null===c)return;c[el]+=s;let u=c;for(c=c[Hn];null!==c&&(1===s&&1===u[el]||-1===s&&0===u[el]);)c[el]+=s,u=c,c=c[Hn]}const Tt={lFrame:Pu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fc(){return Tt.bindingsEnabled}function zr(){return null!==Tt.skipHydrationRootTNode}function Ae(){return Tt.lFrame.lView}function nn(){return Tt.lFrame.tView}function Ou(o){return Tt.lFrame.contextLView=o,o[xn]}function gl(o){return Tt.lFrame.contextLView=null,o}function gi(){let o=Dm();for(;null!==o&&64===o.type;)o=o.parent;return o}function Dm(){return Tt.lFrame.currentTNode}function cr(o,s){const c=Tt.lFrame;c.currentTNode=o,c.isParent=s}function Tm(){return Tt.lFrame.isParent}function Yn(){Tt.lFrame.isParent=!1}function Un(){return Tt.lFrame.bindingIndex++}function pc(o,s){const c=Tt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Oh(s)}function Oh(o){Tt.lFrame.currentDirectiveIndex=o}function gc(o){const s=Tt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function wl(){return Tt.lFrame.currentQueryIndex}function vs(o){Tt.lFrame.currentQueryIndex=o}function bs(o){const s=o[it];return 2===s.type?s.declTNode:1===s.type?o[Fi]:null}function Sa(o,s,c){if(c&pt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||c&pt.Host||(h=bs(m),null===h||(m=m[ms],10&h.type))););if(null===h)return!1;s=h,o=m}const u=Tt.lFrame=xl();return u.currentTNode=s,u.lView=o,!0}function El(o){const s=xl(),c=o[it];Tt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function xl(){const o=Tt.lFrame,s=null===o?null:o.child;return null===s?Pu(o):s}function Pu(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Lg(){const o=Tt.lFrame;return Tt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Nh=Lg;function Ph(){const o=Lg();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function vr(){return Tt.lFrame.selectedIndex}function ws(o){Tt.lFrame.selectedIndex=o}function Pn(){const o=Tt.lFrame;return Ch(o.tView,o.selectedIndex)}function Fu(){Tt.lFrame.currentNamespace=Au}function Aa(){!function Lu(){Tt.lFrame.currentNamespace=null}()}let Bu=!0;function _c(){return Bu}function $s(o){Bu=o}function Il(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:k}=m;y&&(o.contentHooks??=[]).push(-c,y),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),I&&(o.viewHooks??=[]).push(-c,I),T&&((o.viewHooks??=[]).push(c,T),(o.viewCheckHooks??=[]).push(c,T)),null!=k&&(o.destroyHooks??=[]).push(c,k)}}function yc(o,s,c){ri(o,s,3,c)}function Uu(o,s,c,u){(3&o[Ft])===c&&ri(o,s,c,u)}function Cl(o,s){let c=o[Ft];(3&c)===s&&(c&=8191,c+=1,o[Ft]=c)}function ri(o,s,c,u){const m=u??-1,y=s.length-1;let w=0;for(let I=void 0!==u?65535&o[Vs]:0;I<y;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=u&&w>=u)break}else s[I]<0&&(o[Vs]+=65536),(w<m||-1==m)&&(ju(o,c,s,I),o[Vs]=(4294901760&o[Vs])+I+2),I++}function Bi(o,s){oo(4,o,s);const c=Kn(null);try{s.call(o)}finally{Kn(c),oo(5,o,s)}}function ju(o,s,c,u){const h=c[u]<0,m=c[u+1],w=o[h?-c[u]:c[u]];h?o[Ft]>>13<o[Vs]>>16&&(3&o[Ft])===s&&(o[Ft]+=8192,Bi(w,m)):Bi(w,m)}const un=-1;class rt{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function st(o){return o!==un}function kr(o){return 32767&o}function qs(o,s){let c=function Vh(o){return o>>16}(o),u=s;for(;c>0;)u=u[ms],c--;return u}let Hr=!0;function Ws(o){const s=Hr;return Hr=o,s}const ao=255,$o=5;let Ug=0;const Rr={};function Es(o,s){const c=Bh(o,s);if(-1!==c)return c;const u=s[it];u.firstCreatePass&&(o.injectorIndex=s.length,Go(u.data,o),Go(s,null),Go(u.blueprint,null));const h=wr(o,s),m=o.injectorIndex;if(st(h)){const y=kr(h),w=qs(h,s),I=w[it].data;for(let T=0;T<8;T++)s[m+T]=w[y+T]|I[y+T]}return s[m+8]=h,m}function Go(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Bh(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function wr(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=s;for(;null!==h;){if(u=$u(h),null===u)return un;if(c++,h=h[ms],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return un}function qo(o,s,c){!function Mm(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(_e)&&(u=c[_e]),null==u&&(u=c[_e]=Ug++);const h=u&ao;s.data[o+(h>>$o)]|=1<<h}(o,s,c)}function ka(o,s,c){if(c&pt.Optional||void 0!==o)return o;Et()}function Wo(o,s,c,u){if(c&pt.Optional&&void 0===u&&(u=null),!(c&(pt.Self|pt.Host))){const h=o[no],m=en(void 0);try{return h?h.get(s,u,c&pt.Optional):li(s,u,c&pt.Optional)}finally{en(m)}}return ka(u,0,c)}function Co(o,s,c,u=pt.Default,h){if(null!==o){if(2048&s[Ft]&&!(u&pt.Self)){const y=function Uh(o,s,c,u,h){let m=o,y=s;for(;null!==m&&null!==y&&2048&y[Ft]&&!(512&y[Ft]);){const w=Ra(m,y,c,u|pt.Self,Rr);if(w!==Rr)return w;let I=m.parent;if(!I){const T=y[il];if(T){const k=T.get(c,Rr,u);if(k!==Rr)return k}I=$u(y),y=y[ms]}m=I}return h}(o,s,c,u,Rr);if(y!==Rr)return y}const m=Ra(o,s,c,u,Rr);if(m!==Rr)return m}return Wo(s,c,u,h)}function Ra(o,s,c,u,h){const m=function gn(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(_e)?o[_e]:void 0;return"number"==typeof s?s>=0?s&ao:Dn:s}(c);if("function"==typeof m){if(!Sa(s,o,u))return u&pt.Host?ka(h,0,u):Wo(s,c,u,h);try{const y=m(u);if(null!=y||u&pt.Optional)return y;Et()}finally{Nh()}}else if("number"==typeof m){let y=null,w=Bh(o,s),I=un,T=u&pt.Host?s[Nn][Fi]:null;for((-1===w||u&pt.SkipSelf)&&(I=-1===w?wr(o,s):s[w+8],I!==un&&Qn(u,!1)?(y=s[it],w=kr(I),s=qs(I,s)):w=-1);-1!==w;){const k=s[it];if(Fn(m,w,k.data)){const B=ji(w,s,c,y,u,T);if(B!==Rr)return B}I=s[w+8],I!==un&&Qn(u,s[it].data[w+8]===T)&&Fn(m,w,s)?(y=k,w=kr(I),s=qs(I,s)):w=-1}}return h}function ji(o,s,c,u,h,m){const y=s[it],w=y.data[o+8],k=Zs(w,y,c,null==u?ro(w)&&Hr:u!=y&&0!=(3&w.type),h&pt.Host&&m===w);return null!==k?Zo(s,y,k,w):Rr}function Zs(o,s,c,u,h){const m=o.providerIndexes,y=s.data,w=1048575&m,I=o.directiveStart,k=m>>20,K=h?w+k:o.directiveEnd;for(let ee=u?w:w+k;ee<K;ee++){const Te=y[ee];if(ee<I&&c===Te||ee>=I&&Te.type===c)return ee}if(h){const ee=y[I];if(ee&&Mn(ee)&&ee.type===c)return I}return null}function Zo(o,s,c,u){let h=o[c];const m=s.data;if(function br(o){return o instanceof rt}(h)){const y=h;y.resolving&&function Fe(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new te(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ie(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():le(o)}(m[c]));const w=Ws(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?en(y.injectImpl):null;Sa(o,u,pt.Default);try{h=o[c]=y.factory(void 0,m,o,u),s.firstCreatePass&&c>=u.directiveStart&&function Lh(o,s,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(u){const y=Ia(s);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}h&&(c.preOrderHooks??=[]).push(0-o,h),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],s)}finally{null!==I&&en(I),Ws(w),y.resolving=!1,Nh()}}return h}function Fn(o,s,c){return!!(c[s+(o>>$o)]&1<<o)}function Qn(o,s){return!(o&pt.Self||o&pt.Host&&s)}class $r{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return Co(this._tNode,this._lView,s,G(u),c)}}function Dn(){return new $r(gi(),Ae())}function di(o){return ve(()=>{const s=o.prototype.constructor,c=s[Pi]||Oa(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[Pi]||Oa(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Oa(o){return Ze(o)?()=>{const s=Oa(Re(o));return s&&s()}:gs(o)}function $u(o){const s=o[it],c=s.type;return 2===c?s.declTNode:1===c?o[Fi]:null}function Do(o){return function Hu(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(Rt(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===s)return c[h+1];h+=2}}}return null}(gi(),o)}const Tn="__parameters__";function To(o,s,c){return ve(()=>{const u=function xs(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(s);function h(...m){if(this instanceof h)return u.apply(this,m),this;const y=new h(...m);return w.annotation=y,w;function w(I,T,k){const B=I.hasOwnProperty(Tn)?I[Tn]:Object.defineProperty(I,Tn,{value:[]})[Tn];for(;B.length<=k;)B.push(null);return(B[k]=B[k]||[]).push(y),I}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Ec(o,s){o.forEach(c=>Array.isArray(c)?Ec(c,s):s(c))}function Ko(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Ml(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function xc(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function E(o,s,c){let u=S(o,s);return u>=0?o[1|u]=c:(u=~u,function Pa(o,s,c,u){let h=o.length;if(h==s)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function D(o,s){const c=S(o,s);if(c>=0)return o[1|c]}function S(o,s){return function W(o,s,c){let u=0,h=o.length>>c;for(;h!==u;){const m=u+(h-u>>1),y=o[m<<c];if(s===y)return m<<c;y>s?h=m:u=m+1}return~(h<<c)}(o,s,1)}const Ao=P(To("Optional"),8),Yo=P(To("SkipSelf"),4);function qg(o){return 128==(128&o.flags)}var Zg=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Zg||{});const Tv=new Map;let kE=0;const Kg="__ngContext__";function Or(o,s){Zi(s)?(o[Kg]=s[va],function FT(o){Tv.set(o[va],o)}(s)):o[Kg]=s}let Rv;function qh(o,s){return Rv(o,s)}function Lm(o){const s=o[Hn];return Ki(s)?s[Hn]:s}function FE(o){return Ov(o[ac])}function Xg(o){return Ov(o[sr])}function Ov(o){for(;null!==o&&!Ki(o);)o=o[sr];return o}function Xu(o,s,c,u,h){if(null!=u){let m,y=!1;Ki(u)?m=u:Zi(u)&&(y=!0,u=u[ii]);const w=Cn(u);0===o&&null!==c?null==h?Fv(s,c,w):Ju(s,c,w,h||null,!0):1===o&&null!==c?Ju(s,c,w,h||null,!0):2===o?function i_(o,s,c){const u=Cc(o,s);u&&function jT(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,w,y):3===o&&s.destroyNode(w),null!=m&&function HT(o,s,c,u,h){const m=c[Ar];m!==Cn(c)&&Xu(s,o,u,m,h);for(let w=Wi;w<c.length;w++){const I=c[w];Zh(I[it],I,o,s,u,m)}}(s,o,m,c,h)}}function e_(o,s,c){return o.createElement(s,c)}function LE(o,s){const c=o[wa],u=c.indexOf(s);fl(s),c.splice(u,1)}function Pv(o,s){if(o.length<=Wi)return;const c=Wi+s,u=o[c];if(u){const h=u[nl];null!==h&&h!==o&&LE(h,u),s>0&&(o[c-1][sr]=u[sr]);const m=Ml(o,Wi+s);!function WR(o,s){Zh(o,s,s[It],2,null,null),s[ii]=null,s[Fi]=null}(u[it],u);const y=m[Sr];null!==y&&y.detachView(m[it]),u[Hn]=null,u[sr]=null,u[Ft]&=-129}return u}function t_(o,s){if(!(256&s[Ft])){const c=s[It];s[ba]?.destroy(),s[io]?.destroy(),c.destroyNode&&Zh(o,s,c,3,null,null),function YR(o){let s=o[ac];if(!s)return Jo(o[it],o);for(;s;){let c=null;if(Zi(s))c=s[ac];else{const u=s[Wi];u&&(c=u)}if(!c){for(;s&&!s[sr]&&s!==o;)Zi(s)&&Jo(s[it],s),s=s[Hn];null===s&&(s=o),Zi(s)&&Jo(s[it],s),c=s&&s[sr]}s=c}}(s)}}function Jo(o,s){if(!(256&s[Ft])){s[Ft]&=-129,s[Ft]|=256,function Um(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=s[c[u]];if(!(h instanceof rt)){const m=c[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=h[m[y]],I=m[y+1];oo(4,w,I);try{I.call(w)}finally{oo(5,w,I)}}else{oo(4,h,m);try{m.call(h)}finally{oo(5,h,m)}}}}}(o,s),function UT(o,s){const c=o.cleanup,u=s[Ho];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?u[y]():u[-y].unsubscribe(),m+=2}else c[m].call(u[c[m+1]]);null!==u&&(s[Ho]=null);const h=s[Li];if(null!==h){s[Li]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,s),1===s[it].type&&s[It].destroy();const c=s[nl];if(null!==c&&Ki(s[Hn])){c!==s[Hn]&&LE(c,s);const u=s[Sr];null!==u&&u.detachView(o)}!function RE(o){Tv.delete(o[va])}(s)}}function VE(o,s,c){return function BE(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[ii];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===xt.None||m===xt.Emulated)return null}return Yi(u,c)}}(o,s.parent,c)}function Ju(o,s,c,u,h){o.insertBefore(s,c,u,h)}function Fv(o,s,c){o.appendChild(s,c)}function jm(o,s,c,u,h){null!==u?Ju(o,s,c,u,h):Fv(o,s,c)}function Cc(o,s){return o.parentNode(s)}function UE(o,s,c){return Wh(o,s,c)}let ed,o_,a_,c_,Wh=function jE(o,s,c){return 40&o.type?Yi(o,c):null};function n_(o,s,c,u){const h=VE(o,u,s),m=s[It],w=UE(u.parent||s[Fi],u,s);if(null!=h)if(Array.isArray(c))for(let I=0;I<c.length;I++)jm(m,h,c[I],w,!1);else jm(m,h,c,w,!1);void 0!==ed&&ed(m,u,s,c,h)}function Hm(o,s){if(null!==s){const c=s.type;if(3&c)return Yi(s,o);if(4&c)return Lv(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return Hm(o,u);{const h=o[s.index];return Ki(h)?Lv(-1,h):Cn(h)}}if(32&c)return qh(s,o)()||Cn(o[s.index]);{const u=HE(o,s);return null!==u?Array.isArray(u)?u[0]:Hm(Lm(o[Nn]),u):Hm(o,s.next)}}return null}function HE(o,s){return null!==s?o[Nn][Fi].projection[s.projection]:null}function Lv(o,s){const c=Wi+o+1;if(c<s.length){const u=s[c],h=u[it].firstChild;if(null!==h)return Hm(u,h)}return s[Ar]}function Vv(o,s,c,u,h,m,y){for(;null!=c;){const w=u[c.index],I=c.type;if(y&&0===s&&(w&&Or(Cn(w),u),c.flags|=2),32!=(32&c.flags))if(8&I)Vv(o,s,c.child,u,h,m,!1),Xu(s,o,h,w,m);else if(32&I){const T=qh(c,u);let k;for(;k=T();)Xu(s,o,h,k,m);Xu(s,o,h,w,m)}else 16&I?td(o,s,u,c,h,m):Xu(s,o,h,w,m);c=y?c.projectionNext:c.next}}function Zh(o,s,c,u,h,m){Vv(c,u,o.firstChild,s,h,m,!1)}function td(o,s,c,u,h,m){const y=c[Nn],I=y[Fi].projection[u.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Xu(s,o,h,I[T],m);else{let T=I;const k=y[Hn];qg(u)&&(T.flags|=128),Vv(o,s,T,k,h,m,!0)}}function $E(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function GE(o,s,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&ft(o,s,u),null!==h&&$E(o,s,h),null!==m&&function GT(o,s,c){o.setAttribute(s,"style",c)}(o,s,m)}function Kh(o){return function Bv(){if(void 0===o_&&(o_=null,Kt.trustedTypes))try{o_=Kt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return o_}()?.createHTML(o)||o}function Yh(o){a_=o}function ZE(o){return function Uv(){if(void 0===c_&&(c_=null,Kt.trustedTypes))try{c_=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return c_}()?.createScriptURL(o)||o}class Dc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class KE extends Dc{getTypeName(){return"HTML"}}class WT extends Dc{getTypeName(){return"Style"}}class ZT extends Dc{getTypeName(){return"Script"}}class KT extends Dc{getTypeName(){return"URL"}}class YT extends Dc{getTypeName(){return"ResourceURL"}}function Is(o){return o instanceof Dc?o.changingThisBreaksApplicationSecurity:o}function Xh(o,s){const c=function QT(o){return o instanceof Dc&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ct})`)}return c===s}function XT(o){return new KE(o)}function JT(o){return new WT(o)}function eS(o){return new ZT(o)}function tS(o){return new KT(o)}function YE(o){return new YT(o)}class QE{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Kh(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class XE{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Kh(s),c}}const rS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function u_(o){return(o=String(o)).match(rS)?o:"unsafe:"+o}function Tc(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function $m(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const JE=Tc("area,br,col,hr,img,wbr"),jv=Tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),d_=Tc("rp,rt"),h_=$m(JE,$m(jv,Tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$m(d_,Tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$m(d_,jv)),Jh=Tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tx=$m(Jh,Tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aS=Tc("script,style,template");class cS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!h_.hasOwnProperty(c))return this.sanitizedSomething=!0,!aS.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),y=m.name,w=y.toLowerCase();if(!tx.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=m.value;Jh[w]&&(I=u_(I)),this.buf.push(" ",y,'="',nx(I),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();h_.hasOwnProperty(c)&&!JE.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(nx(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const lS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f_=/([^\#-~ |!])/g;function nx(o){return o.replace(/&/g,"&amp;").replace(lS,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(f_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let m_;function ef(o,s){let c=null;try{m_=m_||function nS(o){const s=new XE(o);return function iS(){try{return!!(new window.DOMParser).parseFromString(Kh(""),"text/html")}catch{return!1}}()?new QE(s):s}(o);let u=s?String(s):"";c=m_.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=c.innerHTML,c=m_.getInertBodyElement(u)}while(u!==m);return Kh((new cS).sanitizeChildren(p_(c)||c))}finally{if(c){const u=p_(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function p_(o){return"content"in o&&function uS(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var nd=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(nd||{});function es(o){const s=id();return s?s.sanitize(nd.URL,o)||"":Xh(o,"URL")?Is(o):u_(le(o))}function ix(o){const s=id();if(s)return ZE(s.sanitize(nd.RESOURCE_URL,o)||"");if(Xh(o,"ResourceURL"))return ZE(Is(o));throw new te(904,!1)}function pS(o,s,c){return function rx(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?ix:es}(s,c)(o)}function id(){const o=Ae();return o&&o[Ls].sanitizer}class In{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Vt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const __=new In("ENVIRONMENT_INITIALIZER"),zv=new In("INJECTOR",-1),Ba=new In("INJECTOR_DEF_TYPES");class ox{get(s,c=qi){if(c===qi){const u=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw u.name="NullInjectorError",u}return c}}function sx(o){return{\u0275providers:o}}function n1(...o){return{\u0275providers:gS(0,o),\u0275fromNgModule:!0}}function gS(o,...s){const c=[],u=new Set;let h;return Ec(s,m=>{const y=m;y_(y,c,[],u)&&(h||=[],h.push(y))}),void 0!==h&&Hv(h,c),c}function Hv(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];$v(h,m=>{s.push(m)})}}function y_(o,s,c,u){if(!(o=Re(o)))return!1;let h=null,m=eo(o);const y=!m&&jt(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const I=o.ngModule;if(m=eo(I),!m)return!1;h=I}const w=u.has(h);if(y){if(w)return!1;if(u.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)y_(T,s,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let T;u.add(h);try{Ec(m.imports,k=>{y_(k,s,c,u)&&(T||=[],T.push(k))})}finally{}void 0!==T&&Hv(T,s)}if(!w){const T=gs(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:ht},{provide:Ba,useValue:h,multi:!0},{provide:__,useValue:()=>Bn(h),multi:!0})}const I=m.providers;null==I||w||$v(I,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}function $v(o,s){for(let c of o)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?$v(c,s):s(c)}const _S=z({provide:String,useValue:z});function cx(o){return null!==o&&"object"==typeof o&&_S in o}function tf(o){return"function"==typeof o}const ux=new In("Set Injector scope."),v_={},o1={};let b_;function w_(){return void 0===b_&&(b_=new ox),b_}class rd{}class E_ extends rd{get destroyed(){return this._destroyed}constructor(s,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fx(s,y=>this.processProvider(y)),this.records.set(zv,nf(void 0,this)),h.has("environment")&&this.records.set(rd,nf(void 0,this));const m=this.records.get(ux);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ba.multi,ht,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of s)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const c=Vn(this),u=en(void 0);try{return s()}finally{Vn(c),en(u)}}get(s,c=qi,u=pt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(oe))return s[oe](this);u=G(u);const h=Vn(this),m=en(void 0);try{if(!(u&pt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function s1(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(s)&&jn(s);w=I&&this.injectableDefInScope(I)?nf(qv(s),v_):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&pt.Self?w_():this.parent).get(s,c=u&pt.Optional&&c===qi?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[zn]=y[zn]||[]).unshift(ie(s)),h)throw y;return function R(o,s,c,u){const h=o[zn];throw s[qn]&&h.unshift(s[qn]),o.message=function J(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ie(s);if(Array.isArray(s))h=s.map(ie).join(" -> ");else if("object"==typeof s){let m=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(jo,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[zn]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{en(m),Vn(h)}}resolveInjectorInitializers(){const s=Vn(this),c=en(void 0);try{const u=this.get(__.multi,ht,pt.Self);for(const h of u)h()}finally{Vn(s),en(c)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(ie(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(s){let c=tf(s=Re(s))?s:Re(s&&s.provide);const u=function vS(o){return cx(o)?nf(void 0,o.useValue):nf(dx(o),v_)}(s);if(tf(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=nf(void 0,v_,!0),h.factory=()=>H(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,u)}hydrate(s,c){return c.value===v_&&(c.value=o1,c.value=c.factory()),"object"==typeof c.value&&c.value&&function bS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=Re(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(s){const c=this._onDestroyHooks.indexOf(s);-1!==c&&this._onDestroyHooks.splice(c,1)}}function qv(o){const s=jn(o),c=null!==s?s.factory:gs(o);if(null!==c)return c;if(o instanceof In)throw new te(204,!1);if(o instanceof Function)return function yS(o){const s=o.length;if(s>0)throw xc(s,"?"),new te(204,!1);const c=function Tr(o){return o&&(o[Oi]||o[ir])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new te(204,!1)}function dx(o,s,c){let u;if(tf(o)){const h=Re(o);return gs(h)||qv(h)}if(cx(o))u=()=>Re(o.useValue);else if(function lx(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...H(o.deps||[]));else if(function Gv(o){return!(!o||!o.useExisting)}(o))u=()=>Bn(Re(o.useExisting));else{const h=Re(o&&(o.useClass||o.provide));if(!function hx(o){return!!o.deps}(o))return gs(h)||qv(h);u=()=>new h(...H(o.deps))}return u}function nf(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function fx(o,s){for(const c of o)Array.isArray(c)?fx(c,s):c&&Ne(c)?fx(c.\u0275providers,s):s(c)}const wS=new In("AppId",{providedIn:"root",factory:()=>a1}),a1="ng",ES=new In("Platform Initializer"),mx=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sn=new In("AnimationModuleType"),Wv=new In("CSP nonce",{providedIn:"root",factory:()=>function Qh(){if(void 0!==a_)return a_;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let px=(o,s)=>null;function Zm(o,s){return px(o,s)}class Xv{}class gx{}class Jv{resolveComponentFactory(s){throw function TS(o){const s=Error(`No component factory found for ${ie(o)}.`);return s.ngComponent=o,s}(s)}}let Km=(()=>{class o{}return o.NULL=new Jv,o})();function AS(){return ad(gi(),Ae())}function ad(o,s){return new cd(Yi(o,s))}let cd=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=AS,o})();function eb(o){return o instanceof cd?o.nativeElement:o}class C_{}let tb=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function nb(){const o=Ae(),c=Ur(gi().index,o);return(Zi(c)?c:o)[It]}(),o})(),_x=(()=>{class o{}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:()=>null}),o})();class yx{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const cf=new yx("16.1.8"),ib={};function Sc(o){for(;o;){o[Ft]|=64;const s=Lm(o);if(xa(o)&&!s)return o;o=s}return null}function lf(o){return o.ngOriginalError}class Bl{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&lf(s);for(;c&&lf(c);)c=lf(c);return c||null}}const ob=new In("",{providedIn:"root",factory:()=>!1});function Ac(o){return o instanceof Function?o():o}class ur extends Mr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Sc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,c,u){const h=Kn(this);this.trackingVersion++;try{s(c,u)}finally{Kn(h)}}destroy(){this.trackingVersion++}}let Qi=null;function Ym(){return Qi??=new ur,Qi}function M_(o,s){return o[s]??Ym()}function Ex(o,s){const c=Ym();c.hasReadASignal&&(o[s]=Qi,c.lView=o,Qi=new ur)}const Yt={};function xx(o){fb(nn(),Ae(),vr()+o,!1)}function fb(o,s,c,u){if(!u)if(3==(3&s[Ft])){const m=o.preOrderCheckHooks;null!==m&&yc(s,m,c)}else{const m=o.preOrderHooks;null!==m&&Uu(s,m,0,c)}ws(c)}function pb(o,s=null,c=null,u){const h=Sx(o,s,c,u);return h.resolveInjectorInitializers(),h}function Sx(o,s=null,c=null,u,h=new Set){const m=[c||ht,n1(o)];return u=u||("object"==typeof o?void 0:ie(o)),new E_(m,s||w_(),u||null,h)}let Cs=(()=>{class o{static create(c,u){if(Array.isArray(c))return pb({name:""},u,c,"");{const h=c.name??"";return pb({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=qi,o.NULL=new ox,o.\u0275prov=Vt({token:o,providedIn:"any",factory:()=>Bn(zv)}),o.__NG_ELEMENT_ID__=-1,o})();function ud(o,s=pt.Default){const c=Ae();return null===c?Bn(o,s):Co(gi(),c,Re(o),s)}function gb(){throw new Error("invalid")}function dd(o,s,c,u,h,m,y,w,I,T,k){const B=s.blueprint.slice();return B[ii]=h,B[Ft]=140|u,(null!==T||o&&2048&o[Ft])&&(B[Ft]|=2048),Sh(B),B[Hn]=B[ms]=o,B[xn]=c,B[Ls]=y||o&&o[Ls],B[It]=w||o&&o[It],B[no]=I||o&&o[no]||null,B[Fi]=m,B[va]=function qR(){return kE++}(),B[ar]=k,B[il]=T,B[Nn]=2==s.type?o[Nn]:B,B}function uf(o,s,c,u,h){let m=o.data[s];if(null===m)m=function _b(o,s,c,u,h){const m=Dm(),y=Tm(),I=o.data[s]=function bb(o,s,c,u,h,m){let y=s?s.injectorIndex:-1,w=0;return zr()&&(w|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,s,u,h);return null===o.firstChild&&(o.firstChild=I),null!==m&&(y?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(o,s,c,u,h),function _i(){return Tt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const y=function _l(){const o=Tt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return cr(m,!0),m}function Ua(o,s,c,u){if(0===c)return-1;const h=s.length;for(let m=0;m<c;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function Mx(o,s,c,u,h){const m=M_(s,ba),y=vr(),w=2&u;try{if(ws(-1),w&&s.length>on&&fb(o,s,on,!1),oo(w?2:0,h),w)m.runInContext(c,u,h);else{const T=Kn(null);try{c(u,h)}finally{Kn(T)}}}finally{w&&null===s[ba]&&Ex(s,ba),ws(y),oo(w?3:1,h)}}function yb(o,s,c){if(hu(s)){const u=Kn(null);try{const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const w=o.data[y];w.contentQueries&&w.contentQueries(1,c[y],y)}}finally{Kn(u)}}}function Mc(o,s,c){fc()&&(function Db(o,s,c,u){const h=c.directiveStart,m=c.directiveEnd;ro(c)&&function hd(o,s,c){const u=Yi(s,o),h=Jm(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const w=Ts(o,dd(o,h,null,y,u,s,null,o[Ls].rendererFactory.createRenderer(u,c),null,null,null));o[s.index]=w}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||Es(c,s),Or(u,s);const y=c.initialInputs;for(let w=h;w<m;w++){const I=o.data[w],T=Zo(s,o,w,c);Or(T,s),null!==y&&OS(0,w-h,T,I,0,y),Mn(I)&&(Ur(c.index,s)[xn]=Zo(s,o,w,c))}}(o,s,c,Yi(c,s)),64==(64&c.flags)&&Tb(o,s,c))}function O_(o,s,c=Yi){const u=s.localNames;if(null!==u){let h=s.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],w=-1===y?c(s,o):o[y];o[h++]=w}}}function Jm(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=N_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function N_(o,s,c,u,h,m,y,w,I,T,k){const B=on+u,K=B+h,ee=function ep(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:Yt);return c}(B,K),Te="function"==typeof T?T():T;return ee[it]={type:o,blueprint:ee,template:c,queries:null,viewQuery:w,declTNode:s,data:ee.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Te,incompleteFirstPass:!1,ssrId:k}}let vb=o=>null;function wb(o,s,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===u?Eb(c,s,h,m):u.hasOwnProperty(h)&&Eb(c,s,u[h],m)}return c}function Eb(o,s,c,u){o.hasOwnProperty(c)?o[c].push(s,u):o[c]=[s,u]}function fo(o,s,c,u,h,m,y,w){const I=Yi(s,c);let k,T=s.inputs;!w&&null!=T&&(k=T[u])?(fd(o,c,k,u,h),ro(s)&&function Ib(o,s){const c=Ur(s,o);16&c[Ft]||(c[Ft]|=64)}(c,s.index)):3&s.type&&(u=function xb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=y?y(h,s.value||"",u):h,m.setProperty(I,u,h))}function V_(o,s,c,u){if(fc()){const h=null===u?null:{"":-1},m=function Px(o,s){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(Fs(s,y.selectors,!1))if(u||(u=[]),Mn(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),u.unshift(...w,y),Sb(o,s,w.length)}else u.unshift(y),Sb(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,u,h),u.push(y)}return null===u?null:[u,h]}(o,c);let y,w;null===m?y=w=null:[y,w]=m,null!==y&&Ox(o,s,c,y,h,w),h&&function ip(o,s,c){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=c[s[h+1]];if(null==m)throw new te(-301,!1);u.push(s[h],m)}}}(c,u,h)}c.mergedAttrs=rn(c.mergedAttrs,c.attrs)}function Ox(o,s,c,u,h,m){for(let T=0;T<u.length;T++)qo(Es(c,s),o,u[T].type);!function U_(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let T=0;T<u.length;T++){const k=u[T];k.providersResolver&&k.providersResolver(k)}let y=!1,w=!1,I=Ua(o,s,u.length,null);for(let T=0;T<u.length;T++){const k=u[T];c.mergedAttrs=rn(c.mergedAttrs,k.hostAttrs),rp(o,c,s,I,k),Fx(I,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const B=k.type.prototype;!y&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!w&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),I++}!function np(o,s,c){const h=s.directiveEnd,m=o.data,y=s.attrs,w=[];let I=null,T=null;for(let k=s.directiveStart;k<h;k++){const B=m[k],K=c?c.get(B):null,Te=K?K.outputs:null;I=wb(B.inputs,k,I,K?K.inputs:null),T=wb(B.outputs,k,T,Te);const Ve=null===I||null===y||pa(s)?null:Lx(I,k,y);w.push(Ve)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=I,s.outputs=T}(o,c,m)}function Tb(o,s,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,y=function bl(){return Tt.lFrame.currentDirectiveIndex}();try{ws(m);for(let w=u;w<h;w++){const I=o.data[w],T=s[w];Oh(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Nx(I,T)}}finally{ws(-1),Oh(y)}}function Nx(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Sb(o,s,c){s.componentOffset=c,(o.components??=[]).push(s.index)}function Fx(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Mn(s)&&(c[""]=o)}}function rp(o,s,c,u,h){o.data[u]=h;const m=h.factory||(h.factory=gs(h.type)),y=new rt(m,Mn(h),ud);o.blueprint[u]=y,c[u]=y,function Cb(o,s,c,u,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const w=~s.index;(function B_(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(y)!=w&&y.push(w),y.push(c,u,m)}}(o,s,u,Ua(o,c,h.hostVars,Yt),h)}function Ds(o,s,c,u,h,m){const y=Yi(o,s);!function Ab(o,s,c,u,h,m,y){if(null==m)o.removeAttribute(s,h,c);else{const w=null==y?le(m):y(m,u||"",h);o.setAttribute(s,h,w,c)}}(s[It],y,m,o.value,c,u,h)}function OS(o,s,c,u,h,m){const y=m[s];if(null!==y)for(let w=0;w<y.length;)Mb(u,c,y[w++],y[w++],y[w++])}function Mb(o,s,c,u,h){const m=Kn(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(h=y[u].call(s,h)),null!==o.setInput?o.setInput(s,h,c,u):s[u]=h}finally{Kn(m)}}function Lx(o,s,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const y=o[m];for(let w=0;w<y.length;w+=2)if(y[w]===s){u.push(m,y[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Vx(o,s,c,u){return[o,!0,!1,s,null,0,u,c,null,null,null]}function Ul(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const m=c[u+1];if(-1!==m){const y=o.data[m];vs(c[u]),y.contentQueries(2,s[m],m)}}}function Ts(o,s){return o[ac]?o[tl][sr]=s:o[ac]=s,o[tl]=s,s}function df(o,s,c){vs(0);const u=Kn(null);try{s(o,c)}finally{Kn(u)}}function Rb(o){return o[Ho]||(o[Ho]=[])}function Xn(o){return o.cleanup||(o.cleanup=[])}function op(o,s,c){return(null===o||Mn(o))&&(c=function hl(o){for(;Array.isArray(o);){if("object"==typeof o[bo])return o;o=o[ii]}return null}(c[s.index])),c[It]}function hf(o,s){const c=o[no],u=c?c.get(Bl,null):null;u&&u.handleError(s)}function fd(o,s,c,u,h){for(let m=0;m<c.length;){const y=c[m++],w=c[m++];Mb(o.data[y],s[y],u,w,h)}}function Bx(o,s){const c=Ur(s,o),u=c[it];!function NS(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])}(u,c);const h=c[ii];null!==h&&null===c[ar]&&(c[ar]=Zm(h,c[no])),Ob(u,c,c[xn])}function Ob(o,s,c){El(s);try{const u=o.viewQuery;null!==u&&df(1,u,c);const h=o.template;null!==h&&Mx(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Ul(o,s),o.staticViewQueries&&df(2,o.viewQuery,c);const m=o.components;null!==m&&function PS(o,s){for(let c=0;c<s.length;c++)Bx(o,s[c])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[Ft]&=-5,Ph()}}let Nb=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,u,h){const m=typeof Zone>"u"?null:Zone.current,y=new bm(c,T=>{this.all.has(T)&&this.queue.set(T,m)},h);let w;this.all.add(y),y.notify();const I=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=u?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:()=>new o}),o})();function ap(o,s,c){let u=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?m=w:1==m?h=Pe(h,w):2==m&&(u=Pe(u,w+": "+s[++y]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}function ja(o,s,c,u,h=!1){for(;null!==c;){const m=s[c.index];if(null!==m&&u.push(Cn(m)),Ki(m)){for(let w=Wi;w<m.length;w++){const I=m[w],T=I[it].firstChild;null!==T&&ja(I[it],I,T,u)}m[Ar]!==m[ii]&&u.push(m[Ar])}const y=c.type;if(8&y)ja(o,s,c.child,u);else if(32&y){const w=qh(c,s);let I;for(;I=w();)u.push(I)}else if(16&y){const w=HE(s,c);if(Array.isArray(w))u.push(...w);else{const I=Lm(s[Nn]);ja(I[it],I,w,u,!0)}}c=h?c.projectionNext:c.next}return u}function j_(o,s,c,u=!0){const h=s[Ls].rendererFactory;h.begin&&h.begin();try{zx(o,s,o.template,c)}catch(y){throw u&&hf(s,y),y}finally{h.end&&h.end(),s[Ls].effectManager?.flush()}}function zx(o,s,c,u){const h=s[Ft];if(256!=(256&h)){s[Ls].effectManager?.flush(),El(s);try{Sh(s),function yl(o){return Tt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Mx(o,s,c,2,u);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&yc(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Uu(s,T,0,null),Cl(s,0)}if(function Hx(o){for(let s=FE(o);null!==s;s=Xg(s)){if(!s[Bs])continue;const c=s[wa];for(let u=0;u<c.length;u++){Mu(c[u])}}}(s),Pb(s,2),null!==o.contentQueries&&Ul(o,s),y){const T=o.contentCheckHooks;null!==T&&yc(s,T)}else{const T=o.contentHooks;null!==T&&Uu(s,T,1),Cl(s,1)}!function Ax(o,s){const c=o.hostBindingOpCodes;if(null===c)return;const u=M_(s,io);try{for(let h=0;h<c.length;h++){const m=c[h];if(m<0)ws(~m);else{const y=m,w=c[++h],I=c[++h];pc(w,y),u.runInContext(I,2,s[y])}}}finally{null===s[io]&&Ex(s,io),ws(-1)}}(o,s);const w=o.components;null!==w&&Lb(s,w,0);const I=o.viewQuery;if(null!==I&&df(2,I,u),y){const T=o.viewCheckHooks;null!==T&&yc(s,T)}else{const T=o.viewHooks;null!==T&&Uu(s,T,2),Cl(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Ft]&=-73,fl(s)}finally{Ph()}}}function Pb(o,s){for(let c=FE(o);null!==c;c=Xg(c))for(let u=Wi;u<c.length;u++)z_(c[u],s)}function Fb(o,s,c){z_(Ur(s,o),c)}function z_(o,s){if(!function Dh(o){return 128==(128&o[Ft])}(o))return;const c=o[it];if(80&o[Ft]&&0===s||1024&o[Ft]||2===s)zx(c,o,c.template,o[xn]);else if(o[el]>0){Pb(o,1);const h=o[it].components;null!==h&&Lb(o,h,1)}}function Lb(o,s,c){for(let u=0;u<s.length;u++)Fb(o,s[u],c)}class ff{get rootNodes(){const s=this._lView,c=s[it];return ja(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(s){this._lView[xn]=s}get destroyed(){return 256==(256&this._lView[Ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Hn];if(Ki(s)){const c=s[8],u=c?c.indexOf(this):-1;u>-1&&(Pv(s,u),Ml(c,u))}this._attachedToViewContainer=!1}t_(this._lView[it],this._lView)}onDestroy(s){!function jr(o,s){if(256==(256&o[Ft]))throw new te(911,!1);null===o[Li]&&(o[Li]=[]),o[Li].push(s)}(this._lView,s)}markForCheck(){Sc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){this._lView[Ft]|=128}detectChanges(){j_(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KR(o,s){Zh(o,s,s[It],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=s}}class LS extends ff{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;j_(s[it],s,s[xn],!1)}checkNoChanges(){}get context(){return null}}class $x extends Km{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=jt(s);return new Rc(c,this.ngModule)}}function Gx(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class H_{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=G(u);const h=this.injector.get(s,ib,u);return h!==ib||c===ib?h:this.parentInjector.get(s,c,u)}}class Rc extends gx{get inputs(){const s=this.componentDef,c=s.inputTransforms,u=Gx(s.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return Gx(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function mh(o){return o.map(Og).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,h){let m=(h=h||this.ngModule)instanceof rd?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new H_(s,m):s,w=y.get(C_,null);if(null===w)throw new te(407,!1);const k={rendererFactory:w,sanitizer:y.get(_x,null),effectManager:y.get(Nb,null)},B=w.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ee=u?function kx(o,s,c,u){const m=u.get(ob,!1)||c===xt.ShadowDom,y=o.selectRootElement(s,m);return function ho(o){vb(o)}(y),y}(B,u,this.componentDef.encapsulation,y):e_(B,K,function VS(o){const s=o.toLowerCase();return"svg"===s?Au:"math"===s?"math":null}(K)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,mt=N_(0,null,null,1,0,null,null,null,null,null,null),Se=dd(null,mt,null,nt,null,null,k,B,y,null,null);let $t,cn;El(Se);try{const ln=this.componentDef;let Ot,cg=null;ln.findHostDirectiveDefs?(Ot=[],cg=new Map,ln.findHostDirectiveDefs(ln,Ot,cg),Ot.push(ln)):Ot=[ln];const _D=function Vb(o,s){const c=o[it],u=on;return o[u]=s,uf(c,u,2,"#host",null)}(Se,ee),lg=function qx(o,s,c,u,h,m,y){const w=h[it];!function cp(o,s,c,u){for(const h of o)s.mergedAttrs=rn(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(ap(s,s.mergedAttrs,!0),null!==c&&GE(u,c,s))}(u,o,s,y);let I=null;null!==s&&(I=Zm(s,h[no]));const T=m.rendererFactory.createRenderer(s,c);let k=16;c.signals?k=4096:c.onPush&&(k=64);const B=dd(h,Jm(c),null,k,h[o.index],o,m,T,null,null,I);return w.firstCreatePass&&Sb(w,o,u.length-1),Ts(h,B),h[o.index]=B}(_D,ee,ln,Ot,Se,k,B);cn=Ch(mt,on),ee&&function BS(o,s,c,u){if(u)ft(o,c,["ng-version",cf.full]);else{const{attrs:h,classes:m}=function Xc(o){const s=[],c=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++u]):8===h&&c.push(m);else{if(!_r(h))break;h=m}u++}return{attrs:s,classes:c}}(s.selectors[0]);h&&ft(o,c,h),m&&m.length>0&&$E(o,c,m.join(" "))}}(B,ln,ee,u),void 0!==c&&function Si(o,s,c){const u=o.projection=[];for(let h=0;h<s.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(cn,this.ngContentSelectors,c),$t=function lp(o,s,c,u,h,m){const y=gi(),w=h[it],I=Yi(y,h);Ox(w,h,y,c,null,u);for(let k=0;k<c.length;k++)Or(Zo(h,w,y.directiveStart+k,y),h);Tb(w,h,y),I&&Or(I,h);const T=Zo(h,w,y.directiveStart+y.componentOffset,y);if(o[xn]=h[xn]=T,null!==m)for(const k of m)k(T,s);return yb(w,y,o),T}(lg,ln,Ot,cg,Se,[Wx]),Ob(mt,Se,null)}finally{Ph()}return new $_(this.componentType,$t,ad(cn,Se),Se,cn)}}class $_ extends Xv{constructor(s,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new LS(h),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),c))return;const m=this._rootLView;fd(m[it],m,h,s,c),this.previousInputValues.set(s,c),Sc(Ur(this._tNode.index,m))}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Wx(){const o=gi();Il(Ae()[it],o)}function Bb(o){let s=function Zx(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let h;if(Mn(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new te(903,!1);h=s.\u0275dir}if(h){if(c){u.push(h);const y=o;y.inputs=up(o.inputs),y.inputTransforms=up(o.inputTransforms),y.declaredInputs=up(o.declaredInputs),y.outputs=up(o.outputs);const w=h.hostBindings;w&&G_(o,w);const I=h.viewQuery,T=h.contentQueries;if(I&&Kx(o,I),T&&Yx(o,T),q(o.inputs,h.inputs),q(o.declaredInputs,h.declaredInputs),q(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),q(y.inputTransforms,h.inputTransforms)),Mn(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(o),w===Bb&&(c=!1)}}s=Object.getPrototypeOf(s)}!function US(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=rn(h.hostAttrs,c=rn(c,h.hostAttrs))}}(u)}function up(o){return o===gt?{}:o===ht?[]:o}function Kx(o,s){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{s(u,h),c(u,h)}:s}function Yx(o,s){const c=o.contentQueries;o.contentQueries=c?(u,h,m)=>{s(u,h,m),c(u,h,m)}:s}function G_(o,s){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{s(u,h),c(u,h)}:s}function hp(o){const s=o.inputConfig,c={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}o.inputTransforms=c}function pd(o){return!!gd(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function gd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Cr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function Z_(o,s,c,u){const h=Ae();return Cr(h,Un(),s)&&(nn(),Ds(Pn(),h,o,s,c,u)),Z_}function cI(o,s,c,u,h,m,y,w){const I=Ae(),T=nn(),k=o+on,B=T.firstCreatePass?function vt(o,s,c,u,h,m,y,w,I){const T=s.consts,k=uf(s,o,4,y||null,Eo(T,w));V_(s,c,k,Eo(T,I)),Il(s,k);const B=k.tView=N_(2,k,u,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,k),B.queries=s.queries.embeddedTView(k)),k}(k,T,I,s,c,u,h,m,y):T.data[k];cr(B,!1);const K=tt(T,I,B,o);_c()&&n_(T,I,K,B),Or(K,I),Ts(I,I[k]=Vx(K,I,K,B)),ps(B)&&Mc(T,I,B),null!=y&&O_(I,B,w)}let tt=function he(o,s,c,u){return $s(!0),s[It].createComment("")};function uI(o){return ys(function Nu(){return Tt.lFrame.contextLView}(),on+o)}function Gb(o,s,c){const u=Ae();return Cr(u,Un(),s)&&fo(nn(),Pn(),u,o,s,u[It],c,!1),Gb}function qb(o,s,c,u,h){const y=h?"class":"style";fd(o,c,s.inputs[y],y,u)}function ey(o,s,c,u){const h=Ae(),m=nn(),y=on+o,w=h[It],I=m.firstCreatePass?function YS(o,s,c,u,h,m){const y=s.consts,I=uf(s,o,2,u,Eo(y,h));return V_(s,c,I,Eo(y,m)),null!==I.attrs&&ap(I,I.attrs,!1),null!==I.mergedAttrs&&ap(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,m,h,s,c,u):m.data[y],T=QS(m,h,I,w,s,o);h[y]=T;const k=ps(I);return cr(I,!0),GE(w,T,I),32!=(32&I.flags)&&_c()&&n_(m,h,T,I),0===function Fg(){return Tt.lFrame.elementDepthCount}()&&Or(T,h),function Ru(){Tt.lFrame.elementDepthCount++}(),k&&(Mc(m,h,I),yb(m,I,h)),null!==u&&O_(h,I),ey}function _p(){let o=gi();Tm()?Yn():(o=o.parent,cr(o,!1));const s=o;(function pl(o){return Tt.skipHydrationRootTNode===o})(s)&&function Cm(){Tt.skipHydrationRootTNode=null}(),function xm(){Tt.lFrame.elementDepthCount--}();const c=nn();return c.firstCreatePass&&(Il(c,o),hu(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Am(o){return 0!=(8&o.flags)}(s)&&qb(c,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ma(o){return 0!=(16&o.flags)}(s)&&qb(c,s,Ae(),s.stylesWithoutHost,!1),_p}function Wb(o,s,c,u){return ey(o,s,c,u),_p(),Wb}let QS=(o,s,c,u,h,m)=>($s(!0),e_(u,h,function Vu(){return Tt.lFrame.currentNamespace}()));function hI(){return Ae()}function fi(o){return!!o&&"function"==typeof o.then}function Qe(o){return!!o&&"function"==typeof o.subscribe}function _f(o,s,c,u){const h=Ae(),m=nn(),y=gi();return fI(m,h,h[It],y,o,s,u),_f}function vp(o,s){const c=gi(),u=Ae(),h=nn();return fI(h,u,op(gc(h.data),c,u),c,o,s),vp}function fI(o,s,c,u,h,m,y){const w=ps(u),T=o.firstCreatePass&&Xn(o),k=s[xn],B=Rb(s);let K=!0;if(3&u.type||y){const Ve=Yi(u,s),nt=y?y(Ve):Ve,mt=B.length,Se=y?cn=>y(Cn(cn[u.index])):u.index;let $t=null;if(!y&&w&&($t=function Dd(o,s,c,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===c&&h[m+1]===u){const w=s[Ho],I=h[m+2];return w.length>I?w[I]:null}"string"==typeof y&&(m+=2)}return null}(o,s,h,u.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=m,$t.__ngLastListenerFn__=m,K=!1;else{m=mI(u,s,k,m,!1);const cn=c.listen(nt,h,m);B.push(m,cn),T&&T.push(h,Se,mt,mt+1)}}else m=mI(u,s,k,m,!1);const ee=u.outputs;let Te;if(K&&null!==ee&&(Te=ee[h])){const Ve=Te.length;if(Ve)for(let nt=0;nt<Ve;nt+=2){const ln=s[Te[nt]][Te[nt+1]].subscribe(m),Ot=B.length;B.push(m,ln),T&&T.push(h,u.index,Ot,-(Ot+1))}}}function bp(o,s,c,u){try{return oo(6,s,c),!1!==c(u)}catch(h){return hf(o,h),!1}finally{oo(7,s,c)}}function mI(o,s,c,u,h){return function m(y){if(y===Function)return u;Sc(o.componentOffset>-1?Ur(o.index,s):s);let I=bp(s,c,u,y),T=m.__ngNextListenerFn__;for(;T;)I=bp(s,c,T,y)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&y.preventDefault(),I}}function yf(o=1){return function Fh(o){return(Tt.lFrame.contextLView=function Vg(o,s){for(;o>0;)s=s[ms],o--;return s}(o,Tt.lFrame.contextLView))[xn]}(o)}function pI(o,s){let c=null;const u=function lm(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===u?Fs(o,m,!0):Rg(u,m))return h}else c=h}return c}function Zb(o){const s=Ae()[Nn][Fi];if(!s.projection){const u=s.projection=xc(o?o.length:1,null),h=u.slice();let m=s.child;for(;null!==m;){const y=o?pI(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:u[y]=m,h[y]=m),m=m.next}}}function ko(o,s=0,c){const u=Ae(),h=nn(),m=uf(h,on+o,16,null,c||null);null===m.projection&&(m.projection=s),Yn(),(!u[ar]||zr())&&32!=(32&m.flags)&&function r_(o,s,c){td(s[It],0,s,c,VE(o,c,s),UE(c.parent||s[Fi],c,s))}(h,u,m)}function na(o,s){return o<<17|s<<2}function Gl(o){return o>>17&32767}function Ep(o){return 2|o}function Sd(o){return(131068&o)>>2}function Yb(o,s){return-131069&o|s<<2}function Ad(o){return 1|o}function Qb(o,s,c,u,h){const m=o[c+1],y=null===s;let w=u?Gl(m):Sd(m),I=!1;for(;0!==w&&(!1===I||y);){const k=o[w+1];Ha(o[w],s)&&(I=!0,o[w+1]=u?Ad(k):Ep(k)),w=u?Gl(k):Sd(k)}I&&(o[c+1]=u?Ep(m):Ad(m))}function Ha(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&S(o,s)>=0}function Xb(o,s,c){return Os(o,s,c,!1),Xb}function Jb(o,s){return Os(o,s,null,!0),Jb}function Os(o,s,c,u){const h=Ae(),m=nn(),y=function Io(o){const s=Tt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);m.firstUpdatePass&&function hr(o,s,c,u){const h=o.data;if(null===h[c+1]){const m=h[vr()],y=function sy(o,s){return s>=o.expandoStartIndex}(o,c);(function Lc(o,s){return 0!=(o.flags&(s?8:16))})(m,u)&&null===s&&!y&&(s=!1),s=function CI(o,s,c,u){const h=gc(o);let m=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(c=Hi(c=wf(null,o,s,c,u),s.attrs,u),m=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(c=wf(h,o,s,c,u),null===m){let I=function ql(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==Sd(u))return o[Gl(u)]}(o,s,u);void 0!==I&&Array.isArray(I)&&(I=wf(null,o,s,I[1],u),I=Hi(I,s.attrs,u),function DI(o,s,c,u){o[Gl(c?s.classBindings:s.styleBindings)]=u}(o,s,u,I))}else m=function Jn(o,s,c){let u;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)u=Hi(u,o[m].hostAttrs,c);return Hi(u,s.attrs,c)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),c}(h,m,s,u),function Kr(o,s,c,u,h,m){let y=m?s.classBindings:s.styleBindings,w=Gl(y),I=Sd(y);o[u]=c;let k,T=!1;if(Array.isArray(c)?(k=c[1],(null===k||S(c,k)>0)&&(T=!0)):k=c,h)if(0!==I){const K=Gl(o[w+1]);o[u+1]=na(K,w),0!==K&&(o[K+1]=Yb(o[K+1],u)),o[w+1]=function _I(o,s){return 131071&o|s<<17}(o[w+1],u)}else o[u+1]=na(w,0),0!==w&&(o[w+1]=Yb(o[w+1],u)),w=u;else o[u+1]=na(I,0),0===w?w=u:o[I+1]=Yb(o[I+1],u),I=u;T&&(o[u+1]=Ep(o[u+1])),Qb(o,k,u,!0),Qb(o,k,u,!1),function eA(o,s,c,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&S(m,s)>=0&&(c[u+1]=Ad(c[u+1]))}(s,k,o,u,m),y=na(w,I),m?s.classBindings=y:s.styleBindings=y}(h,m,s,c,y,u)}}(m,o,y,u),s!==Yt&&Cr(h,y,s)&&function t0(o,s,c,u,h,m,y,w){if(!(3&s.type))return;const I=o.data,T=I[w+1],k=function rs(o){return 1==(1&o)}(T)?TI(I,s,c,h,Sd(T),y):void 0;Ai(k)||(Ai(m)||function Td(o){return 2==(2&o)}(T)&&(m=TI(I,null,c,h,w,y)),function $T(o,s,c,u,h){if(s)h?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:Zg.DashCase;null==h?o.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Zg.Important),o.setStyle(c,u,h,m))}}(u,y,Ca(vr(),c),h,m))}(m,m.data[vr()],h,h[It],o,h[y+1]=function aA(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ie(Is(o)))),o}(s,c),u,y)}function wf(o,s,c,u,h){let m=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(m=s[w],u=Hi(u,m.hostAttrs,h),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),u}function Hi(o,s,c){const u=c?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),E(o,y,!!c||s[++m]))}return void 0===o?null:o}function TI(o,s,c,u,h,m){const y=null===s;let w;for(;h>0;){const I=o[h],T=Array.isArray(I),k=T?I[1]:I,B=null===k;let K=c[h+1];K===Yt&&(K=B?ht:void 0);let ee=B?D(K,u):k===u?K:void 0;if(T&&!Ai(ee)&&(ee=D(I,u)),Ai(ee)&&(w=ee,y))return w;const Te=o[h+1];h=y?Gl(Te):Sd(Te)}if(null!==s){let I=m?s.residualClasses:s.residualStyles;null!=I&&(w=D(I,u))}return w}function Ai(o){return void 0!==o}function wi(o,s=""){const c=Ae(),u=nn(),h=o+on,m=u.firstCreatePass?uf(u,h,1,s,null):u.data[h],y=Ga(u,c,m,s,o);c[h]=y,_c()&&n_(u,c,y,m),cr(m,!1)}let Ga=(o,s,c,u,h)=>($s(!0),function Bm(o,s){return o.createText(s)}(s[It],u));function Md(o){return n0("",o,""),Md}function n0(o,s,c){const u=Ae(),h=function vd(o,s,c,u){return Cr(o,Un(),c)?s+le(c)+u:Yt}(u,o,s,c);return h!==Yt&&function kc(o,s,c){const u=Ca(s,o);!function Nv(o,s,c){o.setValue(s,c)}(o[It],u,c)}(u,vr(),h),n0}function Tp(o,s,c){const u=Ae();if(Cr(u,Un(),s)){const m=nn(),y=Pn();fo(m,y,u,o,s,op(gc(m.data),y,u),c,!0)}return Tp}const Wl=void 0;var PI=["en",[["a","p"],["AM","PM"],Wl],[["AM","PM"],Wl,Wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wl,"{1} 'at' {0}",Wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function u0(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Nd={};function d0(o){const s=function dA(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=h0(s);if(c)return c;const u=s.split("-")[0];if(c=h0(u),c)return c;if("en"===u)return PI;throw new te(701,!1)}function FI(o){return d0(o)[Pd.PluralCase]}function h0(o){return o in Nd||(Nd[o]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[o]),Nd[o]}var Pd=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Pd||{});const Zl="en-US";let f0=Zl;function $d(o,s,c,u,h){if(o=Re(o),Array.isArray(o))for(let m=0;m<o.length;m++)$d(o[m],s,c,u,h);else{const m=nn(),y=Ae();let w=tf(o)?o:Re(o.provide),I=dx(o);const T=gi(),k=1048575&T.providerIndexes,B=T.directiveStart,K=T.providerIndexes>>20;if(tf(o)||!o.multi){const ee=new rt(I,h,ud),Te=_y(w,s,h?k:k+K,B);-1===Te?(qo(Es(T,y),m,w),Mf(m,o,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(ee),y.push(ee)):(c[Te]=ee,y[Te]=ee)}else{const ee=_y(w,s,k+K,B),Te=_y(w,s,k,k+K),nt=Te>=0&&c[Te];if(h&&!nt||!h&&!(ee>=0&&c[ee])){qo(Es(T,y),m,w);const mt=function QI(o,s,c,u,h){const m=new rt(o,c,ud);return m.multi=[],m.index=s,m.componentProviders=0,k0(m,h,u&&!c),m}(h?TA:YI,c.length,h,u,I);!h&&nt&&(c[Te].providerFactory=mt),Mf(m,o,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(mt),y.push(mt)}else Mf(m,o,ee>-1?ee:Te,k0(c[h?Te:ee],I,!h&&u));!h&&u&&nt&&c[Te].componentProviders++}}}function Mf(o,s,c,u){const h=tf(s),m=function r1(o){return!!o.useClass}(s);if(h||m){const I=(m?Re(s.useClass):s).prototype.ngOnDestroy;if(I){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=T.indexOf(c);-1===k?T.push(c,[u,I]):T[k+1].push(u,I)}else T.push(c,I)}}}function k0(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function _y(o,s,c,u){for(let h=c;h<u;h++)if(s[h]===o)return h;return-1}function YI(o,s,c,u){return yy(this.multi,[])}function TA(o,s,c,u){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Zo(c,c[it],this.providerFactory.index,u);m=w.slice(0,y),yy(h,m);for(let I=y;I<w.length;I++)m.push(w[I])}else m=[],yy(h,m);return m}function yy(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function XI(o,s=[]){return c=>{c.providersResolver=(u,h)=>function Up(o,s,c){const u=nn();if(u.firstCreatePass){const h=Mn(o);$d(c,u.data,u.blueprint,h,!0),$d(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}class kf{}class JI{}function SA(o,s){return new Yl(o,s??null,[])}class Yl extends kf{constructor(s,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $x(this);const h=or(s);this._bootstrapComponents=Ac(h.bootstrap),this._r3Injector=Sx(s,c,[{provide:kf,useValue:this},{provide:Km,useValue:this.componentFactoryResolver},...u],ie(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vy extends JI{constructor(s){super(),this.moduleType=s}create(s){return new Yl(this.moduleType,s,[])}}class Mi extends kf{constructor(s){super(),this.componentFactoryResolver=new $x(this),this.instance=null;const c=new E_([...s.providers,{provide:kf,useValue:this},{provide:Km,useValue:this.componentFactoryResolver}],s.parent||w_(),s.debugName,new Set(["environment"]));this.injector=c,s.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function by(o,s,c=null){return new Mi({providers:o,parent:s,debugName:c,runEnvironmentInitializers:!0}).injector}let tC=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=gS(0,c.type),h=u.length>0?by([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Vt({token:o,providedIn:"environment",factory:()=>new o(Bn(rd))}),o})();function Rf(o){o.getStandaloneInjector=s=>s.get(tC).getOrCreateStandaloneInjector(o)}function P0(o,s,c,u,h,m){const y=s+c;return Cr(o,y,h)?function Js(o,s,c){return o[s]=c}(o,y+1,m?u.call(m,h):u(h)):function jp(o,s){const c=o[s];return c===Yt?void 0:c}(o,y+1)}function Ff(o,s){const c=nn();let u;const h=o+on;c.firstCreatePass?(u=function dC(o,s){if(s)for(let c=s.length-1;c>=0;c--){const u=s[c];if(o===u.name)return u}}(s,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const m=u.factory||(u.factory=gs(u.type)),y=en(ud);try{const w=Ws(!1),I=m();return Ws(w),function lI(o,s,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=u}(c,Ae(),h,I),I}finally{en(y)}}function F0(o,s,c){const u=o+on,h=Ae(),m=ys(h,u);return function tu(o,s){return o[it].data[s].pure}(h,u)?P0(h,function Vi(){const o=Tt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}(),s,m.transform,c,m):m.transform(c)}function $c(o){return s=>{setTimeout(o,void 0,s)}}const Ka=class Hp extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){let h=s,m=c||(()=>null),y=u;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),m=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(m=$c(m),h&&(h=$c(h)),y&&(y=$c(y)));const w=super.subscribe({next:h,error:m,complete:y});return s instanceof j.w0&&s.add(w),w}};function _C(){return this._results[Symbol.iterator]()}class Ey{get changes(){return this._changes||(this._changes=new Ka)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ey.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=_C)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const h=function yi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function wc(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=s[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $p=(()=>{class o{}return o.__NG_ELEMENT_ID__=Gd,o})();const BA=$p,Gp=class extends BA{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,c){return this.createEmbeddedViewImpl(s,c,null)}createEmbeddedViewImpl(s,c,u){const y=this._declarationTContainer.tView,w=dd(this._declarationLView,y,s,4096&this._declarationLView[Ft]?4096:16,null,y.declTNode,null,null,null,c||null,u||null);w[nl]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Sr];return null!==T&&(w[Sr]=T.createEmbeddedView(y)),Ob(y,w,s),new ff(w)}};function Gd(){return aa(gi(),Ae())}function aa(o,s){return 4&o.type?new Gp(s,o,ad(o,s)):null}let qd=(()=>{class o{}return o.__NG_ELEMENT_ID__=jA,o})();function jA(){return Lf(gi(),Ae())}const G0=qd,qp=class extends G0{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const s=wr(this._hostTNode,this._hostLView);if(st(s)){const c=qs(s,this._hostLView),u=kr(s);return new $r(c[it].data[u+8],c)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=vC(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(s,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const w=s.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(w,h,false),w}createComponent(s,c,u,h,m){const y=s&&!function bc(o){return"function"==typeof o}(s);let w;if(y)w=c;else{const Ve=c||{};w=Ve.index,u=Ve.injector,h=Ve.projectableNodes,m=Ve.environmentInjector||Ve.ngModuleRef}const I=y?s:new Rc(jt(s)),T=u||this.parentInjector;if(!m&&null==I.ngModule){const nt=(y?T:this.parentInjector).get(rd,null);nt&&(m=nt)}jt(I.componentType??{});const ee=I.create(T,h,null,m);return this.insertImpl(ee.hostView,w,false),ee}insert(s,c){return this.insertImpl(s,c,!1)}insertImpl(s,c,u){const h=s._lView,m=h[it];if(function Th(o){return Ki(o[Hn])}(h)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const T=h[Hn],k=new qp(T,T[Fi],T[Hn]);k.detach(k.indexOf(s))}}const y=this._adjustIndex(c),w=this._lContainer;if(function BT(o,s,c,u){const h=Wi+u,m=c.length;u>0&&(c[h-1][sr]=s),u<m-Wi?(s[sr]=c[h],Ko(c,Wi+u,s)):(c.push(s),s[sr]=null),s[Hn]=c;const y=s[nl];null!==y&&c!==y&&function QR(o,s){const c=o[wa];s[Nn]!==s[Hn][Hn][Nn]&&(o[Bs]=!0),null===c?o[wa]=[s]:c.push(s)}(y,s);const w=s[Sr];null!==w&&w.insertView(o),s[Ft]|=128}(m,h,w,y),!u){const I=Lv(y,w),T=h[It],k=Cc(T,w[Ar]);null!==k&&function ZR(o,s,c,u,h,m){u[ii]=h,u[Fi]=s,Zh(o,u,c,1,h,m)}(m,w[Fi],T,h,k,I)}return s.attachToViewContainerRef(),Ko(xy(w),y,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=vC(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=Pv(this._lContainer,c);u&&(Ml(xy(this._lContainer),c),t_(u[it],u))}detach(s){const c=this._adjustIndex(s,-1),u=Pv(this._lContainer,c);return u&&null!=Ml(xy(this._lContainer),c)?new ff(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function vC(o){return o[8]}function xy(o){return o[8]||(o[8]=[])}function Lf(o,s){let c;const u=s[o.index];return Ki(u)?c=u:(c=Vx(u,s,null,o),s[o.index]=c,Ts(s,c)),Vf(c,s,o,u),new qp(c,o,s)}let Vf=function q0(o,s,c,u){if(o[Ar])return;let h;h=8&c.type?Cn(u):function Iy(o,s){const c=o[It],u=c.createComment(""),h=Yi(s,o);return Ju(c,Cc(c,h),u,function zm(o,s){return o.nextSibling(s)}(c,h),!1),u}(s,c),o[Ar]=h};class Cy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const y=c.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new Bf(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Y0(s,c).matches&&this.queries[c].setDirty()}}class Wp{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class Dy{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(s,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new Dy(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ya{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new Ya(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(s,c,Uf(c,m)),this.matchTNodeWithReadOption(s,c,Zs(c,s,m,!1,!1))}else u===$p?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Zs(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===cd||h===qd||h===$p&&4&c.type)this.addMatch(c.index,-2);else{const m=Zs(c,s,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function Uf(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function Wd(o,s,c,u){return-1===c?function wC(o,s){return 11&o.type?ad(o,s):4&o.type?aa(o,s):null}(s,o):-2===c?function zA(o,s,c){return c===cd?ad(s,o):c===$p?aa(s,o):c===qd?Lf(s,o):void 0}(o,s,u):Zo(o,o[it],c,s)}function Zd(o,s,c,u){const h=s[Sr].queries[u];if(null===h.matches){const m=o.data,y=c.matches,w=[];for(let I=0;I<y.length;I+=2){const T=y[I];w.push(T<0?null:Wd(s,m[T],y[I+1],c.metadata.read))}h.matches=w}return h.matches}function Ty(o,s,c,u){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const y=Zd(o,s,h,c);for(let w=0;w<m.length;w+=2){const I=m[w];if(I>0)u.push(y[w/2]);else{const T=m[w+1],k=s[-I];for(let B=Wi;B<k.length;B++){const K=k[B];K[nl]===K[Hn]&&Ty(K[it],K,T,u)}if(null!==k[wa]){const B=k[wa];for(let K=0;K<B.length;K++){const ee=B[K];Ty(ee[it],ee,T,u)}}}}}return u}function Gc(o){const s=Ae(),c=nn(),u=wl();vs(u+1);const h=Y0(c,u);if(o.dirty&&function Em(o){return 4==(4&o[Ft])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?Ty(c,s,u,[]):Zd(c,s,h,u);o.reset(m,eb),o.notifyOnChanges()}return!0}return!1}function W0(o,s,c){const u=nn();u.firstCreatePass&&(xC(u,new Wp(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),K0(u,Ae(),s)}function EC(o,s,c,u){const h=nn();if(h.firstCreatePass){const m=gi();xC(h,new Wp(s,c,u),m.index),function Sy(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}K0(h,Ae(),c)}function Z0(){return function HA(o,s){return o[Sr].queries[s].queryList}(Ae(),wl())}function K0(o,s,c){const u=new Ey(4==(4&c));(function Rx(o,s,c,u){const h=Rb(s);h.push(c),o.firstCreatePass&&Xn(o).push(u,h.length-1)})(o,s,u,u.destroy),null===s[Sr]&&(s[Sr]=new Bf),s[Sr].queries.push(new Cy(u))}function xC(o,s,c){null===o.queries&&(o.queries=new Dy),o.queries.track(new Ya(s,c))}function Y0(o,s){return o.queries.getByIndex(s)}function IC(o,s){return aa(o,s)}function X0(o){return!!or(o)}const fw=new In("Application Initializer");let Gf=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=tn(fw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const m=h();if(fi(m))c.push(m);else if(Qe(m)){const y=new Promise((w,I)=>{m.subscribe({complete:w,error:I})});c.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Fy=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ly=new In("LocaleId",{providedIn:"root",factory:()=>tn(Ly,pt.Optional|pt.SkipSelf)||function iM(){return typeof $localize<"u"&&$localize.locale||Zl}()}),Xr=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qf=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class mw{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let FC=(()=>{class o{compileModuleSync(c){return new vy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=Ac(or(c).declarations).reduce((y,w)=>{const I=jt(w);return I&&y.push(new Rc(I)),y},[]);return new mw(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Wf(...o){}class Lr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pw(){const o="function"==typeof Kt.requestAnimationFrame;let s=Kt[o?"requestAnimationFrame":"setTimeout"],c=Kt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&c){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function VC(o){const s=()=>{!function gw(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Kt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Qp(o),o.isCheckStableRunning=!0,Xd(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Qp(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,y,w)=>{try{return jy(o),c.invokeTask(h,m,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),qc(o)}},onInvoke:(c,u,h,m,y,w,I)=>{try{return jy(o),c.invoke(h,m,y,w,I)}finally{o.shouldCoalesceRunChangeDetection&&s(),qc(o)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Qp(o),Xd(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new te(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,s,Uy,Wf,Wf);try{return m.runTask(y,c,u)}finally{m.cancelTask(y)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const Uy={};function Xd(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Qp(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function jy(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qc(o){o._nesting--,Xd(o)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,h){return s.apply(c,u)}}const UC=new In("",{providedIn:"root",factory:zy});function zy(){const o=tn(Lr);let s=!0;const c=new X.y(h=>{s=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(s),h.complete()})}),u=new X.y(h=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Lr.assertInAngularZone(),s&&(s=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,u.pipe((0,be.B)()))}const jC=new In(""),Hy=new In("");let Xp,aM=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xp||(function Gy(o){Xp=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(Bn(Lr),Bn($y),Bn(Hy))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac}),o})(),$y=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return Xp?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Wc=null;const Jd=new In("AllowMultipleToken"),Jp=new In("PlatformDestroyListeners"),_w=new In("appBootstrapListener");class vw{constructor(s,c){this.name=s,this.token=c}}function $C(o,s,c=[]){const u=`Platform: ${s}`,h=new In(u);return(m=[])=>{let y=eg();if(!y||y.injector.get(Jd,!1)){const w=[...c,...m,{provide:h,useValue:!0}];o?o(w):function dM(o){if(Wc&&!Wc.get(Jd,!1))throw new te(400,!1);(function yw(){!function xh(o){Eh=o}(()=>{throw new te(600,!1)})})(),Wc=o;const s=o.get(qy);(function zC(o){o.get(ES,null)?.forEach(c=>c())})(o)}(function Ew(o=[],s){return Cs.create({name:s,providers:[{provide:ux,useValue:"platform"},{provide:Jp,useValue:new Set([()=>Wc=null])},...o]})}(w,u))}return function ww(o){const s=eg();if(!s)throw new te(401,!1);return s}()}}function eg(){return Wc?.get(qy)??null}let qy=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function nu(o="zone.js",s){return"noop"===o?new BC:"zone.js"===o?new Lr(s):o}(u?.ngZone,function eh(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const m=function AA(o,s,c){return new Yl(o,s,c)}(c.moduleType,this.injector,function Zy(o){return[{provide:Lr,useFactory:o},{provide:__,multi:!0,useFactory:()=>{const s=tn(xw,{optional:!0});return()=>s.initialize()}},{provide:qC,useFactory:hM},{provide:UC,useFactory:zy}]}(()=>h)),y=m.injector.get(Bl,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:I=>{y.handleError(I)}});m.onDestroy(()=>{tg(this._modules,m),w.unsubscribe()})}),function Wy(o,s,c){try{const u=c();return fi(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(y,h,()=>{const w=m.injector.get(Gf);return w.runInitializers(),w.donePromise.then(()=>(function qa(o){Xe(o,"Expected localeId to be defined"),"string"==typeof o&&(f0=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Ly,Zl)||Zl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(c,u=[]){const h=th({},u);return function cM(o,s,c){const u=new vy(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const u=c.injector.get(la);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new te(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(Jp,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Bn(Cs))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function th(o,s){return Array.isArray(s)?s.reduce(th,o):{...o,...s}}let la=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tn(qC),this.zoneIsStable=tn(UC),this.componentTypes=[],this.components=[],this.isStable=tn(qf).hasPendingTasks.pipe((0,Me.w)(c=>c?(0,ce.of)(!1):this.zoneIsStable),(0,ye.x)(),(0,be.B)()),this._injector=tn(rd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof gx;if(!this._injector.get(Gf).done)throw!h&&zo(c),new te(405,!1);let y;y=h?c:this._injector.get(Km).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function uM(o){return o.isBoundToModule}(y)?void 0:this._injector.get(kf),T=y.create(Cs.NULL,[],u||y.selector,w),k=T.location.nativeElement,B=T.injector.get(jC,null);return B?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),tg(this.components,T),B?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;tg(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(_w,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>tg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function tg(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}const qC=new In("",{providedIn:"root",factory:()=>tn(Bl).handleError.bind(void 0)});function hM(){const o=tn(Lr),s=tn(Bl);return c=>o.runOutsideAngular(()=>s.handleError(c))}let xw=(()=>{class o{constructor(){this.zone=tn(Lr),this.applicationRef=tn(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function fM(){return!1}let QC=(()=>{class o{}return o.__NG_ELEMENT_ID__=mM,o})();function mM(o){return function XC(o,s,c){if(ro(o)&&!c){const u=Ur(o.index,s);return new ff(u,u)}return 47&o.type?new ff(s[Nn],s):null}(gi(),Ae(),16==(16&o))}class nD{constructor(){}supports(s){return pd(s)}create(s){return new vM(s)}}const Sw=(o,s)=>s;class vM{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Sw}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const y=!u||c&&c.currentIndex<rh(u,h,m)?c:u,w=rh(y,h,m),I=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{m||(m=[]);const T=w-h,k=I-h;if(T!=k){for(let K=0;K<T;K++){const ee=K<m.length?m[K]:m[K]=0,Te=ee+K;k<=Te&&Te<T&&(m[K]=ee+1)}m[y.previousIndex]=k-T}}w!==I&&s(y,w,I)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!pd(s))throw new te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,y,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)m=s[w],y=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,m,y,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,w),u=!0),c=c._next}else h=0,function Jx(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,m,h)):s=this._addAfter(new Aw(c,u),m,h),s}_verifyReinsertion(s,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new ev),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ev),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Aw{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class ev{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new Mw,this.map.set(c,u)),u.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rh(o,s,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+s+h}class kw{constructor(){}supports(s){return s instanceof Map||gd(s)}create(){return new Rw}}class Rw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||gd(s)))throw new te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const u=new bM(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class bM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tv(){return new ua([new nD])}let ua=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||tv()),deps:[[o,new Yo,new Ao]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new te(901,!1)}}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:tv}),o})();function rD(){return new rg([new kw])}let rg=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||rD()),deps:[[o,new Yo,new Ao]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new te(901,!1)}}return o.\u0275prov=Vt({token:o,providedIn:"root",factory:rD}),o})();const Ow=$C(null,"core",[]);let xM=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Bn(la))},o.\u0275mod=ic({type:o}),o.\u0275inj=$n({}),o})();function DM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function gD(o){const s=jt(o);if(!s)return null;const c=new Rc(s);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(dt,Ce,F)=>{F.d(Ce,{Z:()=>We});var d=F(9058),j=F(4537),O=F(534),X=F(7879);class se{constructor(Ze,Ne){this._delegate=Ze,this.firebase=Ne,(0,O._addComponent)(Ze,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ze,Ne=O._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ze);return!ct.isInitialized()&&"EXPLICIT"===(null===(yt=ct.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Ne})}_removeServiceInstance(Ze,Ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Ne)}_addComponent(Ze){(0,O._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,O._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ye(){const Re=function Me(Re){const Ze={},Ne={__esModule:!0,initializeApp:function te(Fe,re={}){const lt=O.initializeApp(Fe,re);if((0,d.r3)(Ze,lt.name))return Ze[lt.name];const Et=new Re(lt,Ne);return Ze[lt.name]=Et,Et},app:ct,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function le(Fe){const re=Fe.name,lt=re.replace("-compat","");if(O._registerComponent(Fe)&&"PUBLIC"===Fe.type){const Et=(Jt=ct())=>{if("function"!=typeof Jt[lt])throw be.create("invalid-app-argument",{appName:re});return Jt[lt]()};void 0!==Fe.serviceProps&&(0,d.ZB)(Et,Fe.serviceProps),Ne[lt]=Et,Re.prototype[lt]=function(...Jt){return this._getService.bind(this,re).apply(this,Fe.multipleInstances?Jt:[])}}return"PUBLIC"===Fe.type?Ne[lt]:null},removeApp:function yt(Fe){delete Ze[Fe]},useAsService:function Ie(Fe,re){return"serverAuth"===re?null:re},modularAPIs:O}};function ct(Fe){if(!(0,d.r3)(Ze,Fe=Fe||O._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Fe});return Ze[Fe]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function xe(){return Object.keys(Ze).map(Fe=>Ze[Fe])}}),ct.App=Re,Ne}(se);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Ze(Ne){(0,d.ZB)(Re,Ne)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Re}(),q=new X.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=z;!function ke(Re){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Re)}()},534:(dt,Ce,F)=>{F.r(Ce),F.d(Ce,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>to,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>li,_addOrOverwriteComponent:()=>gr,_apps:()=>Pt,_clearComponents:()=>bn,_components:()=>en,_getProvider:()=>ei,_registerComponent:()=>Kt,_removeServiceInstance:()=>vo,deleteApp:()=>An,getApp:()=>Ni,getApps:()=>qn,initializeApp:()=>jo,onLog:()=>ui,registerVersion:()=>Vn,setLogLevel:()=>Bn});var d=F(5861),j=F(4537),O=F(7879),X=F(9058);const se=(_e,oe)=>oe.some(Le=>_e instanceof Le);let ce,be;const z=new WeakMap,q=new WeakMap,ie=new WeakMap,Pe=new WeakMap,ke=new WeakMap;let Ze={get(_e,oe,Le){if(_e instanceof IDBTransaction){if("done"===oe)return q.get(_e);if("objectStoreNames"===oe)return _e.objectStoreNames||ie.get(_e);if("store"===oe)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return te(_e[oe])},set:(_e,oe,Le)=>(_e[oe]=Le,!0),has:(_e,oe)=>_e instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in _e};function ct(_e){return"function"==typeof _e?function yt(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...oe){return _e.apply(xe(this),oe),te(z.get(this))}:function(...oe){return te(_e.apply(xe(this),oe))}:function(oe,...Le){const ft=_e.call(xe(this),oe,...Le);return ie.set(ft,oe.sort?oe.sort():[oe]),te(ft)}}(_e):(_e instanceof IDBTransaction&&function Re(_e){if(q.has(_e))return;const oe=new Promise((Le,ft)=>{const Rt=()=>{_e.removeEventListener("complete",qt),_e.removeEventListener("error",rn),_e.removeEventListener("abort",rn)},qt=()=>{Le(),Rt()},rn=()=>{ft(_e.error||new DOMException("AbortError","AbortError")),Rt()};_e.addEventListener("complete",qt),_e.addEventListener("error",rn),_e.addEventListener("abort",rn)});q.set(_e,oe)}(_e),se(_e,function Me(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Ze):_e)}function te(_e){if(_e instanceof IDBRequest)return function We(_e){const oe=new Promise((Le,ft)=>{const Rt=()=>{_e.removeEventListener("success",qt),_e.removeEventListener("error",rn)},qt=()=>{Le(te(_e.result)),Rt()},rn=()=>{ft(_e.error),Rt()};_e.addEventListener("success",qt),_e.addEventListener("error",rn)});return oe.then(Le=>{Le instanceof IDBCursor&&z.set(Le,_e)}).catch(()=>{}),ke.set(oe,_e),oe}(_e);if(Pe.has(_e))return Pe.get(_e);const oe=ct(_e);return oe!==_e&&(Pe.set(_e,oe),ke.set(oe,_e)),oe}const xe=_e=>ke.get(_e),Fe=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],lt=new Map;function Et(_e,oe){if(!(_e instanceof IDBDatabase)||oe in _e||"string"!=typeof oe)return;if(lt.get(oe))return lt.get(oe);const Le=oe.replace(/FromIndex$/,""),ft=oe!==Le,Rt=re.includes(Le);if(!(Le in(ft?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Fe.includes(Le))return;const qt=function(){var rn=(0,d.Z)(function*(Ci,...Wn){const ds=this.transaction(Ci,Rt?"readwrite":"readonly");let pa=ds.store;return ft&&(pa=pa.index(Wn.shift())),(yield Promise.all([pa[Le](...Wn),Rt&&ds.done]))[0]});return function(Wn){return rn.apply(this,arguments)}}();return lt.set(oe,qt),qt}!function Ne(_e){Ze=_e(Ze)}(_e=>({..._e,get:(oe,Le,ft)=>Et(oe,Le)||_e.get(oe,Le,ft),has:(oe,Le)=>!!Et(oe,Le)||_e.has(oe,Le)}));class Jt{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function pi(_e){const oe=_e.getComponent();return"VERSION"===oe?.type}(Le)){const ft=Le.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Le=>Le).join(" ")}}const nr="@firebase/app",On=new O.Yd("@firebase/app"),pt="[DEFAULT]",Bt={[nr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,en=new Map;function li(_e,oe){try{_e.container.addComponent(oe)}catch(Le){On.debug(`Component ${oe.name} failed to register with FirebaseApp ${_e.name}`,Le)}}function gr(_e,oe){_e.container.addOrOverwriteComponent(oe)}function Kt(_e){const oe=_e.name;if(en.has(oe))return On.debug(`There were multiple attempts to register component ${oe}.`),!1;en.set(oe,_e);for(const Le of Pt.values())li(Le,_e);return!0}function ei(_e,oe){const Le=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),_e.container.getProvider(oe)}function vo(_e,oe,Le=pt){ei(_e,oe).clearInstance(Le)}function bn(){en.clear()}const Lt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(oe,Le,ft){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const to="9.23.0";function jo(_e,oe={}){let Le=_e;"object"!=typeof oe&&(oe={name:oe});const ft=Object.assign({name:pt,automaticDataCollectionEnabled:!1},oe),Rt=ft.name;if("string"!=typeof Rt||!Rt)throw Lt.create("bad-app-name",{appName:String(Rt)});if(Le||(Le=(0,X.aH)()),!Le)throw Lt.create("no-options");const qt=Pt.get(Rt);if(qt){if((0,X.vZ)(Le,qt.options)&&(0,X.vZ)(ft,qt.config))return qt;throw Lt.create("duplicate-app",{appName:Rt})}const rn=new j.H0(Rt);for(const Wn of en.values())rn.addComponent(Wn);const Ci=new zn(Le,ft,rn);return Pt.set(Rt,Ci),Ci}function Ni(_e=pt){const oe=Pt.get(_e);if(!oe&&_e===pt&&(0,X.aH)())return jo();if(!oe)throw Lt.create("no-app",{appName:_e});return oe}function qn(){return Array.from(Pt.values())}function An(_e){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(_e){const oe=_e.name;Pt.has(oe)&&(Pt.delete(oe),yield Promise.all(_e.container.getProviders().map(Le=>Le.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Vn(_e,oe,Le){var ft;let Rt=null!==(ft=Bt[_e])&&void 0!==ft?ft:_e;Le&&(Rt+=`-${Le}`);const qt=Rt.match(/\s|\//),rn=oe.match(/\s|\//);if(qt||rn){const Ci=[`Unable to register library "${Rt}" with version "${oe}":`];return qt&&Ci.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),qt&&rn&&Ci.push("and"),rn&&Ci.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void On.warn(Ci.join(" "))}Kt(new j.wA(`${Rt}-version`,()=>({library:Rt,version:oe}),"VERSION"))}function ui(_e,oe){if(null!==_e&&"function"!=typeof _e)throw Lt.create("invalid-log-argument");(0,O.Am)(_e,oe)}function Bn(_e){(0,O.Ub)(_e)}const rr="firebase-heartbeat-database",tn=1,G="firebase-heartbeat-store";let H=null;function P(){return H||(H=function le(_e,oe,{blocked:Le,upgrade:ft,blocking:Rt,terminated:qt}={}){const rn=indexedDB.open(_e,oe),Ci=te(rn);return ft&&rn.addEventListener("upgradeneeded",Wn=>{ft(te(rn.result),Wn.oldVersion,Wn.newVersion,te(rn.transaction),Wn)}),Le&&rn.addEventListener("blocked",Wn=>Le(Wn.oldVersion,Wn.newVersion,Wn)),Ci.then(Wn=>{qt&&Wn.addEventListener("close",()=>qt()),Rt&&Wn.addEventListener("versionchange",ds=>Rt(ds.oldVersion,ds.newVersion,ds))}).catch(()=>{}),Ci}(rr,tn,{upgrade:(_e,oe)=>{0===oe&&_e.createObjectStore(G)}}).catch(_e=>{throw Lt.create("idb-open",{originalErrorMessage:_e.message})})),H}function R(){return(R=(0,d.Z)(function*(_e){try{return yield(yield P()).transaction(G).objectStore(G).get(Ye(_e))}catch(oe){if(oe instanceof X.ZR)On.warn(oe.message);else{const Le=Lt.create("idb-get",{originalErrorMessage:oe?.message});On.warn(Le.message)}}})).apply(this,arguments)}function J(_e,oe){return ve.apply(this,arguments)}function ve(){return(ve=(0,d.Z)(function*(_e,oe){try{const ft=(yield P()).transaction(G,"readwrite");yield ft.objectStore(G).put(oe,Ye(_e)),yield ft.done}catch(Le){if(Le instanceof X.ZR)On.warn(Le.message);else{const ft=Lt.create("idb-set",{originalErrorMessage:Le?.message});On.warn(ft.message)}}})).apply(this,arguments)}function Ye(_e){return`${_e.name}!${_e.options.appId}`}class ht{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ut(Le),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var oe=this;return(0,d.Z)(function*(){const ft=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=At();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!oe._heartbeatsCache.heartbeats.some(qt=>qt.date===Rt))return oe._heartbeatsCache.heartbeats.push({date:Rt,agent:ft}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(qt=>{const rn=new Date(qt.date).valueOf();return Date.now()-rn<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,d.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Le=At(),{heartbeatsToSend:ft,unsentEntries:Rt}=function En(_e,oe=1024){const Le=[];let ft=_e.slice();for(const Rt of _e){const qt=Le.find(rn=>rn.agent===Rt.agent);if(qt){if(qt.dates.push(Rt.date),Ii(Le)>oe){qt.dates.pop();break}}else if(Le.push({agent:Rt.agent,dates:[Rt.date]}),Ii(Le)>oe){Le.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Le,unsentEntries:ft}}(oe._heartbeatsCache.heartbeats),qt=(0,X.L)(JSON.stringify({version:2,heartbeats:ft}));return oe._heartbeatsCache.lastSentHeartbeatDate=Le,Rt.length>0?(oe._heartbeatsCache.heartbeats=Rt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),qt})()}}function At(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,d.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function L(_e){return R.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Le=this;return(0,d.Z)(function*(){var ft;if(yield Le._canUseIndexedDBPromise){const qt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ft=oe.lastSentHeartbeatDate)&&void 0!==ft?ft:qt.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Le=this;return(0,d.Z)(function*(){var ft;if(yield Le._canUseIndexedDBPromise){const qt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ft=oe.lastSentHeartbeatDate)&&void 0!==ft?ft:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...oe.heartbeats]})}})()}}function Ii(_e){return(0,X.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Pi(_e){Kt(new j.wA("platform-logger",oe=>new Jt(oe),"PRIVATE")),Kt(new j.wA("heartbeat",oe=>new ht(oe),"PRIVATE")),Vn(nr,"0.9.13",_e),Vn(nr,"0.9.13","esm2017"),Vn("fire-js","")}("")},4537:(dt,Ce,F)=>{F.d(Ce,{H0:()=>Me,wA:()=>O});var d=F(5861),j=F(9058);class O{constructor(z,q,ie){this.name=z,this.instanceFactory=q,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const X="[DEFAULT]";class se{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const ie=new j.BH;if(this.instancesDeferred.set(q,ie),this.isInitialized(q)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:q});Pe&&ie.resolve(Pe)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const ie=this.normalizeInstanceIdentifier(z?.identifier),Pe=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(Pe)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function be(ye){return"EAGER"===ye.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[q,ie]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(q);try{const ke=this.getOrInitializeService({instanceIdentifier:Pe});ie.resolve(ke)}catch{}}}}clearInstance(z=X){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...q.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=X){return this.instances.has(z)}getOptions(z=X){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,ie=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ie,options:q});for(const[ke,We]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&We.resolve(Pe);return Pe}onInit(z,q){var ie;const Pe=this.normalizeInstanceIdentifier(q),ke=null!==(ie=this.onInitCallbacks.get(Pe))&&void 0!==ie?ie:new Set;ke.add(z),this.onInitCallbacks.set(Pe,ke);const We=this.instances.get(Pe);return We&&z(We,Pe),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,q){const ie=this.onInitCallbacks.get(q);if(ie)for(const Pe of ie)try{Pe(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let ie=this.instances.get(z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=z,ye===X?void 0:ye),options:q}),this.instances.set(z,ie),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(ie,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ie)}catch{}var ye;return ie||null}normalizeInstanceIdentifier(z=X){return this.component?this.component.multipleInstances?z:X:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new se(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,Ce,F)=>{F.d(Ce,{Am:()=>ye,Ub:()=>Me,Yd:()=>be,in:()=>j});const d=[];var j=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(j||{});const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},X=j.INFO,se={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ce=(z,q,...ie)=>{if(q<z.logLevel)return;const Pe=(new Date).toISOString(),ke=se[q];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[ke](`[${Pe}]  ${z.name}:`,...ie)};class be{constructor(q){this.name=q,this._logLevel=X,this._logHandler=ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function Me(z){d.forEach(q=>{q.setLogLevel(z)})}function ye(z,q){for(const ie of d){let Pe=null;q&&q.level&&(Pe=O[q.level]),ie.userLogHandler=null===z?null:(ke,We,...Re)=>{const Ze=Re.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");We>=(Pe??ke.logLevel)&&z({level:j[We].toLowerCase(),message:Ze,args:Re,type:ke.name})}}}},3182:(dt,Ce,F)=>{F.d(Ce,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=F(534);(0,d.registerVersion)("firebase","9.23.0","app")},7142:(dt,Ce,F)=>{F.d(Ce,{Z:()=>d.Z});var d=F(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(dt,Ce,F)=>{F.r(Ce);var d=F(5861),j=F(3106),O=F(6878),X=F(9058),be=(F(534),F(7879),F(4537));function Me(){return window}function q(){return q=(0,d.Z)(function*(P,L,R){var J;const{BuildInfo:ve}=Me();(0,O.as)(L.sessionId,"AuthEvent did not contain a session ID");const Ye=yield function Ne(P){return yt.apply(this,arguments)}(L.sessionId),xt={};return(0,O.at)()?xt.ibi=ve.packageName:(0,O.au)()?xt.apn=ve.packageName:(0,O.av)(P,"operation-not-supported-in-this-environment"),ve.displayName&&(xt.appDisplayName=ve.displayName),xt.sessionId=Ye,(0,O.aw)(P,R,L.type,void 0,null!==(J=L.eventId)&&void 0!==J?J:void 0,xt)}),q.apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(P){const{BuildInfo:L}=Me(),R={};(0,O.at)()?R.iosBundleId=L.packageName:(0,O.au)()?R.androidPackageName=L.packageName:(0,O.av)(P,"operation-not-supported-in-this-environment"),yield(0,O.ax)(P,R)})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(P,L,R){const{cordova:J}=Me();let ve=()=>{};try{yield new Promise((Ye,xt)=>{let gt=null;function ht(){var Ut;Ye();const Ii=null===(Ut=J.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Ii&&Ii(),"function"==typeof R?.close&&R.close()}function At(){gt||(gt=window.setTimeout(()=>{xt((0,O.az)(P,"redirect-cancelled-by-user"))},2e3))}function En(){"visible"===document?.visibilityState&&At()}L.addPassiveListener(ht),document.addEventListener("resume",At,!1),(0,O.au)()&&document.addEventListener("visibilitychange",En,!1),ve=()=>{L.removePassiveListener(ht),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",En,!1),gt&&window.clearTimeout(gt)}})}finally{ve()}})).apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(P){const L=function ct(P){if((0,O.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const L=new ArrayBuffer(P.length),R=new Uint8Array(L);for(let J=0;J<P.length;J++)R[J]=P.charCodeAt(J);return R}(P),R=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(R)).map(ve=>ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xe extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(L)),super.onEvent(L)}initialized(){var L=this;return(0,d.Z)(function*(){yield L.initPromise})()}}function Fe(P){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(P){const L=yield Jt()._get(pi(P));return L&&(yield Jt()._remove(pi(P))),L})).apply(this,arguments)}function Et(){const P=[];for(let R=0;R<20;R++){const J=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return P.join("")}function Jt(){return(0,O.aC)(O.b)}function pi(P){return(0,O.aD)("authEvent",P.config.apiKey,P.name)}function On(P){if(!P?.includes("?"))return{};const[L,...R]=P.split("?");return(0,X.zd)(R.join("?"))}const de=class Uo{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(L){var R=this;return(0,d.Z)(function*(){const J=L._key();let ve=R.eventManagers.get(J);return ve||(ve=new xe(L),R.eventManagers.set(J,ve),R.attachCallbackListeners(L,ve)),ve})()}_openPopup(L){(0,O.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,R,J,ve){var Ye=this;return(0,d.Z)(function*(){!function Ze(P){var L,R,J,ve,Ye,xt,gt,ht,At,En;const Ut=Me();(0,O.aA)("function"==typeof(null===(L=Ut?.universalLinks)||void 0===L?void 0:L.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(R=Ut?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(Ye=null===(ve=null===(J=Ut?.cordova)||void 0===J?void 0:J.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Ye?void 0:Ye.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(ht=null===(gt=null===(xt=Ut?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===ht?void 0:ht.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(En=null===(At=Ut?.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===En?void 0:En.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const xt=yield Ye._initialize(L);yield xt.initialized(),xt.resetRedirect(),(0,O.aG)(),yield Ye._originValidation(L);const gt=function le(P,L,R=null){return{type:L,eventId:R,urlResponse:null,sessionId:Et(),postBody:null,tenantId:P.tenantId,error:(0,O.az)(P,"no-auth-event")}}(L,J,ve);yield function Ie(P,L){return Jt()._set(pi(P),L)}(L,gt);const ht=yield function z(P,L,R){return q.apply(this,arguments)}(L,gt,R),At=yield function ke(P){const{cordova:L}=Me();return new Promise(R=>{L.plugins.browsertab.isAvailable(J=>{let ve=null;J?L.plugins.browsertab.openUrl(P):ve=L.InAppBrowser.open(P,(0,O.ay)()?"_blank":"_system","location=yes"),R(ve)})})}(ht);return function We(P,L,R){return Re.apply(this,arguments)}(L,xt,At)})()}_isIframeWebStorageSupported(L,R){throw new Error("Method not implemented.")}_originValidation(L){const R=L._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function ie(P){return Pe.apply(this,arguments)}(L)),this.originValidationPromises[R]}attachCallbackListeners(L,R){const{universalLinks:J,handleOpenURL:ve,BuildInfo:Ye}=Me(),xt=setTimeout((0,d.Z)(function*(){yield Fe(L),R.onEvent(pe())}),500),gt=function(){var En=(0,d.Z)(function*(Ut){clearTimeout(xt);const Ii=yield Fe(L);let Pi=null;Ii&&Ut?.url&&(Pi=function lt(P,L){var R,J;const ve=function _o(P){const L=On(P),R=L.link?decodeURIComponent(L.link):void 0,J=On(R).link,ve=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return On(ve).link||ve||J||R||P}(L);if(ve.includes("/__/auth/callback")){const Ye=On(ve),xt=Ye.firebaseError?function nr(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,gt=null===(J=null===(R=xt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===J?void 0:J[1],ht=gt?(0,O.az)(gt):null;return ht?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ve,postBody:null}}return null}(Ii,Ut.url)),R.onEvent(Pi||pe())});return function(Ii){return En.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,gt);const ht=ve,At=`${Ye.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var En=(0,d.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(At)&&gt({url:Ut}),"function"==typeof ht)try{ht(Ut)}catch(Ii){console.error(Ii)}});return function(Ut){return En.apply(this,arguments)}}()}};function pe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function Xe(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function mn(P=(0,X.z$)()){return!("file:"!==Xe()&&"ionic:"!==Xe()&&"capacitor:"!==Xe()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const P=self.localStorage,L=O.aL();if(P)return P.setItem(L,"1"),P.removeItem(L),!function pn(P=(0,X.z$)()){return function an(){return(0,X.w1)()&&11===document?.documentMode}()||function Vt(P=(0,X.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,X.hl)()}catch{return jn()&&(0,X.hl)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hn(){return(function ot(){return"http:"===Xe()||"https:"===Xe()}()||(0,X.ru)()||mn())&&!function Dt(){return(0,X.b$)()||(0,X.UG)()}()&&$n()&&!jn()}function ci(){return mn()&&typeof document<"u"}function eo(){return(eo=(0,d.Z)(function*(){return!!ci()&&new Promise(P=>{const L=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),P(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},ir=O.aA,yo="persistence";function Bt(P){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(P){yield P._initializationPromise;const L=li(),R=O.aD(yo,P.config.apiKey,P.name);L&&L.setItem(R,P._getPersistence())})).apply(this,arguments)}function li(){var P;try{return(null===(P=function Oi(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const gr=O.aA;class Kt{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(de),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(L){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,R,J,ve){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(L,R,J,ve)})()}_openRedirect(L,R,J,ve){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(L,R,J,ve)})()}_isIframeWebStorageSupported(L,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,R)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return ci()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,d.Z)(function*(){if(L.underlyingResolver)return;const R=yield function Tr(){return eo.apply(this,arguments)}();L.underlyingResolver=R?L.cordovaResolver:L.browserResolver})()}}function ei(P){return P.unwrap()}function bn(P){return Lt(P)}function Lt(P){const{_tokenResponse:L}=P instanceof X.ZR?P.customData:P;if(!L)return null;if(!(P instanceof X.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return O.P.credentialFromResult(P);const R=L.providerId;if(!R||R===O.p.PASSWORD)return null;let J;switch(R){case O.p.GOOGLE:J=O.V;break;case O.p.FACEBOOK:J=O.U;break;case O.p.GITHUB:J=O.W;break;case O.p.TWITTER:J=O.Z;break;default:const{oauthIdToken:ve,oauthAccessToken:Ye,oauthTokenSecret:xt,pendingToken:gt,nonce:ht}=L;return Ye||xt||ve||gt?gt?R.startsWith("saml.")?O.aO._create(R,gt):O.L._fromParams({providerId:R,signInMethod:R,pendingToken:gt,idToken:ve,accessToken:Ye}):new O.X(R).credential({idToken:ve,accessToken:Ye,rawNonce:ht}):null}return P instanceof X.ZR?J.credentialFromError(P):J.credentialFromResult(P)}function zn(P,L){return L.catch(R=>{throw R instanceof X.ZR&&function qi(P,L){var R;const J=null===(R=L.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Ni(P,O.aq(P,L));else if(J){const ve=Lt(L),Ye=L;ve&&(Ye.credential=ve,Ye.tenantId=J.tenantId||void 0,Ye.email=J.email||void 0,Ye.phoneNumber=J.phoneNumber||void 0)}}(P,R),R}).then(R=>{const ve=R.user;return{operationType:R.operationType,credential:bn(R),additionalUserInfo:O.ao(R),user:qn.getOrCreate(ve)}})}function to(P,L){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(P,L){const R=yield L;return{verificationId:R.verificationId,confirm:J=>zn(P,R.confirm(J))}})).apply(this,arguments)}class Ni{constructor(L,R){this.resolver=R,this.auth=function vo(P){return P.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return zn(ei(this.auth),this.resolver.resolveSignIn(L))}}class qn{constructor(L){this._delegate=L,this.multiFactor=O.ar(L)}static getOrCreate(L){return qn.USER_MAP.has(L)||qn.USER_MAP.set(L,new qn(L)),qn.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var R=this;return(0,d.Z)(function*(){return zn(R.auth,O.a0(R._delegate,L))})()}linkWithPhoneNumber(L,R){var J=this;return(0,d.Z)(function*(){return to(J.auth,O.l(J._delegate,L,R))})()}linkWithPopup(L){var R=this;return(0,d.Z)(function*(){return zn(R.auth,O.d(R._delegate,L,Kt))})()}linkWithRedirect(L){var R=this;return(0,d.Z)(function*(){return yield Bt(O.aH(R.auth)),O.g(R._delegate,L,Kt)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var R=this;return(0,d.Z)(function*(){return zn(R.auth,O.a1(R._delegate,L))})()}reauthenticateWithPhoneNumber(L,R){return to(this.auth,O.r(this._delegate,L,R))}reauthenticateWithPopup(L){return zn(this.auth,O.e(this._delegate,L,Kt))}reauthenticateWithRedirect(L){var R=this;return(0,d.Z)(function*(){return yield Bt(O.aH(R.auth)),O.h(R._delegate,L,Kt)})()}sendEmailVerification(L){return O.ae(this._delegate,L)}unlink(L){var R=this;return(0,d.Z)(function*(){return yield O.an(R._delegate,L),R})()}updateEmail(L){return O.aj(this._delegate,L)}updatePassword(L){return O.ak(this._delegate,L)}updatePhoneNumber(L){return O.u(this._delegate,L)}updateProfile(L){return O.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,R){return O.af(this._delegate,L,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qn.USER_MAP=new WeakMap;const An=O.aA;let ti=(()=>{class P{constructor(R,J){if(this.app=R,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ve}=R.options;An(ve,"invalid-api-key",{appName:R.name}),An(ve,"invalid-api-key",{appName:R.name});const Ye=typeof window<"u"?Kt:void 0;this._delegate=J.initialize({options:{persistence:ui(ve,R.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,J){O.I(this._delegate,R,J)}applyActionCode(R){return O.a5(this._delegate,R)}checkActionCode(R){return O.a6(this._delegate,R)}confirmPasswordReset(R,J){return O.a4(this._delegate,R,J)}createUserWithEmailAndPassword(R,J){var ve=this;return(0,d.Z)(function*(){return zn(ve._delegate,O.a8(ve._delegate,R,J))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return O.ad(this._delegate,R)}isSignInWithEmailLink(R){return O.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,d.Z)(function*(){An(hn(),R._delegate,"operation-not-supported-in-this-environment");const J=yield O.j(R._delegate,Kt);return J?zn(R._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Ee(P,L){(0,O.aH)(P)._logFramework(L)}(this._delegate,R)}onAuthStateChanged(R,J,ve){const{next:Ye,error:xt,complete:gt}=Vn(R,J,ve);return this._delegate.onAuthStateChanged(Ye,xt,gt)}onIdTokenChanged(R,J,ve){const{next:Ye,error:xt,complete:gt}=Vn(R,J,ve);return this._delegate.onIdTokenChanged(Ye,xt,gt)}sendSignInLinkToEmail(R,J){return O.aa(this._delegate,R,J)}sendPasswordResetEmail(R,J){return O.a3(this._delegate,R,J||void 0)}setPersistence(R){var J=this;return(0,d.Z)(function*(){let ve;switch(function pt(P,L){ir(Object.values(Gn).includes(L),P,"invalid-persistence-type"),(0,X.b$)()?ir(L!==Gn.SESSION,P,"unsupported-persistence-type"):(0,X.UG)()?ir(L===Gn.NONE,P,"unsupported-persistence-type"):jn()?ir(L===Gn.NONE||L===Gn.LOCAL&&(0,X.hl)(),P,"unsupported-persistence-type"):ir(L===Gn.NONE||$n(),P,"unsupported-persistence-type")}(J._delegate,R),R){case Gn.SESSION:ve=O.a;break;case Gn.LOCAL:ve=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Gn.NONE:ve=O.N;break;default:return O.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(ve)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return zn(this._delegate,O._(this._delegate))}signInWithCredential(R){return zn(this._delegate,O.$(this._delegate,R))}signInWithCustomToken(R){return zn(this._delegate,O.a2(this._delegate,R))}signInWithEmailAndPassword(R,J){return zn(this._delegate,O.a9(this._delegate,R,J))}signInWithEmailLink(R,J){return zn(this._delegate,O.ac(this._delegate,R,J))}signInWithPhoneNumber(R,J){return to(this._delegate,O.s(this._delegate,R,J))}signInWithPopup(R){var J=this;return(0,d.Z)(function*(){return An(hn(),J._delegate,"operation-not-supported-in-this-environment"),zn(J._delegate,O.c(J._delegate,R,Kt))})()}signInWithRedirect(R){var J=this;return(0,d.Z)(function*(){return An(hn(),J._delegate,"operation-not-supported-in-this-environment"),yield Bt(J._delegate),O.f(J._delegate,R,Kt)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return O.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Gn,P})();function Vn(P,L,R){let J=P;"function"!=typeof P&&({next:J,error:L,complete:R}=P);const ve=J;return{next:xt=>ve(xt&&qn.getOrCreate(xt)),error:L,complete:R}}function ui(P,L){const R=function en(P,L){const R=li();if(!R)return[];const J=O.aD(yo,P,L);switch(R.getItem(J)){case Gn.NONE:return[O.N];case Gn.LOCAL:return[O.i,O.a];case Gn.SESSION:return[O.a];default:return[]}}(P,L);if(typeof self<"u"&&!R.includes(O.i)&&R.push(O.i),typeof window<"u")for(const J of[O.b,O.a])R.includes(J)||R.push(J);return R.includes(O.N)||R.push(O.N),R}class Bn{constructor(){this.providerId="phone",this._delegate=new O.P(ei(j.Z.auth()))}static credential(L,R){return O.P.credential(L,R)}verifyPhoneNumber(L,R){return this._delegate.verifyPhoneNumber(L,R)}unwrap(){return this._delegate}}Bn.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Bn.PROVIDER_ID=O.P.PROVIDER_ID;const rr=O.aA;class tn{constructor(L,R,J=j.Z.app()){var ve;rr(null===(ve=J.options)||void 0===ve?void 0:ve.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new O.R(L,R,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new be.wA("auth-compat",L=>{const R=L.getProvider("app-compat").getImmediate(),J=L.getProvider("auth");return new ti(R,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:Bn,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:tn,TwitterAuthProvider:O.Z,Auth:ti,AuthCredential:O.J,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(dt,Ce,F)=>{function d(O,X,se,ce,be,Me,ye){try{var z=O[Me](ye),q=z.value}catch(ie){return void se(ie)}z.done?X(q):Promise.resolve(q).then(ce,be)}function j(O){return function(){var X=this,se=arguments;return new Promise(function(ce,be){var Me=O.apply(X,se);function ye(q){d(Me,ce,be,ye,z,"next",q)}function z(q){d(Me,ce,be,ye,z,"throw",q)}ye(void 0)})}}F.d(Ce,{Z:()=>j})},7582:(dt,Ce,F)=>{function X(de,pe){var Ee={};for(var ue in de)Object.prototype.hasOwnProperty.call(de,ue)&&pe.indexOf(ue)<0&&(Ee[ue]=de[ue]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ue=Object.getOwnPropertySymbols(de);De<ue.length;De++)pe.indexOf(ue[De])<0&&Object.prototype.propertyIsEnumerable.call(de,ue[De])&&(Ee[ue[De]]=de[ue[De]])}return Ee}function ie(de,pe,Ee,ue){return new(Ee||(Ee=Promise))(function(Ue,Xe){function ot(an){try{Dt(ue.next(an))}catch(Vt){Xe(Vt)}}function mn(an){try{Dt(ue.throw(an))}catch(Vt){Xe(Vt)}}function Dt(an){an.done?Ue(an.value):function De(Ue){return Ue instanceof Ee?Ue:new Ee(function(Xe){Xe(Ue)})}(an.value).then(ot,mn)}Dt((ue=ue.apply(de,pe||[])).next())})}function te(de){return this instanceof te?(this.v=de,this):new te(de)}function xe(de,pe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ue=Ee.apply(de,pe||[]),Ue=[];return De={},Xe("next"),Xe("throw"),Xe("return"),De[Symbol.asyncIterator]=function(){return this},De;function Xe(pn){ue[pn]&&(De[pn]=function($n){return new Promise(function(jn,hn){Ue.push([pn,$n,jn,hn])>1||ot(pn,$n)})})}function ot(pn,$n){try{!function mn(pn){pn.value instanceof te?Promise.resolve(pn.value.v).then(Dt,an):Vt(Ue[0][2],pn)}(ue[pn]($n))}catch(jn){Vt(Ue[0][3],jn)}}function Dt(pn){ot("next",pn)}function an(pn){ot("throw",pn)}function Vt(pn,$n){pn($n),Ue.shift(),Ue.length&&ot(Ue[0][0],Ue[0][1])}}function Ie(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function Re(de){var pe="function"==typeof Symbol&&Symbol.iterator,Ee=pe&&de[pe],ue=0;if(Ee)return Ee.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ue>=de.length&&(de=void 0),{value:de&&de[ue++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ee={},ue("next"),ue("throw"),ue("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function ue(Ue){Ee[Ue]=de[Ue]&&function(Xe){return new Promise(function(ot,mn){!function De(Ue,Xe,ot,mn){Promise.resolve(mn).then(function(Dt){Ue({value:Dt,done:ot})},Xe)}(ot,mn,(Xe=de[Ue](Xe)).done,Xe.value)})}}}F.d(Ce,{FC:()=>xe,KL:()=>Ie,_T:()=>X,mG:()=>ie,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=7977)}]);